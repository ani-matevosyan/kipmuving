/*!
 * FullCalendar v2.7.0
 * Docs & License: http://fullcalendar.io/
 * (c) 2015 Adam Shaw
 */
(function(b){if(typeof define==="function"&&define.amd){define(["jquery","moment"],b)}else{if(typeof exports==="object"){module.exports=b(require("jquery"),require("moment"))}else{b(jQuery,moment)}}})(function(cp,bJ){var bT=cp.fullCalendar={version:"2.7.0",internalApiVersion:3};var cs=bT.views={};bT.isTouch="ontouchstart" in document;cp.fn.fullCalendar=function(b){var c=Array.prototype.slice.call(arguments,1);var a=this;this.each(function(h,e){var d=cp(e);var f=d.data("fullCalendar");var g;if(typeof b==="string"){if(f&&cp.isFunction(f[b])){g=f[b].apply(f,c);if(!h){a=g}if(b==="destroy"){d.removeData("fullCalendar")}}}else{if(!f){f=new bV(d,b);d.data("fullCalendar",f);f.render()}}});return a};var co=["header","buttonText","buttonIcons","themeButtonIcons"];function dI(a){return du(a,co)}function dz(b){var a={views:b.views||{}};var c;cp.each(b,function(e,d){if(e!="views"){if(cp.isPlainObject(d)&&!/(time|duration|interval)$/i.test(e)&&cp.inArray(e,co)==-1){c=null;cp.each(d,function(f,g){if(/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(f)){if(!a.views[f]){a.views[f]={}}a.views[f][e]=g}else{if(!c){c={}}c[f]=g}});if(c){a[e]=c}}else{a[e]=d}}});return a}bT.intersectRanges=b9;bT.applyAll=bS;bT.debounce=bF;bT.isInt=ci;bT.htmlEscape=dS;bT.cssToStr=cS;bT.proxy=c5;bT.capitaliseFirstLetter=b0;function df(a,b){if(b.left){a.css({"border-left-width":1,"margin-left":b.left-1})}if(b.right){a.css({"border-right-width":1,"margin-right":b.right-1})}}function cY(a){a.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function cn(){cp("body").addClass("fc-not-allowed")}function dh(){cp("body").removeClass("fc-not-allowed")}function cq(d,e,h){var g=Math.floor(e/d.length);var i=Math.floor(e-g*(d.length-1));var c=[];var b=[];var f=[];var a=0;b3(d);d.each(function(l,k){var j=l===d.length-1?i:g;var m=cp(k).outerHeight(true);if(m<j){c.push(k);b.push(m);f.push(cp(k).height())}else{a+=m}});if(h){e-=a;g=Math.floor(e/c.length);i=Math.floor(e-g*(c.length-1))}cp(c).each(function(m,l){var j=m===c.length-1?i:g;var n=b[m];var k=f[m];var o=j-(n-k);if(n<j){cp(l).height(o)}})}function b3(a){a.height("")}function cE(b){var a=0;b.find("> span").each(function(d,c){var e=cp(c).outerWidth();if(e>a){a=e}});a++;b.width(a);return a}function bY(d,a){var c=d.add(a);var b;c.css({position:"relative",left:-1});b=d.outerHeight()-a.outerHeight();c.css({position:"",left:""});return b}bT.getOuterRect=dj;bT.getClientRect=bP;bT.getContentRect=dp;bT.getScrollbarWidths=cd;function cD(b){var c=b.css("position"),a=b.parents().filter(function(){var d=cp(this);return(/(auto|scroll)/).test(d.css("overflow")+d.css("overflow-y")+d.css("overflow-x"))}).eq(0);return c==="fixed"||!a.length?cp(b[0].ownerDocument||document):a}function dj(d,e){var a=d.offset();var b=a.left-(e?e.left:0);var c=a.top-(e?e.top:0);return{left:b,right:b+d.outerWidth(),top:c,bottom:c+d.outerHeight()}}function bP(c,e){var f=c.offset();var d=cd(c);var a=f.left+cf(c,"border-left-width")+d.left-(e?e.left:0);var b=f.top+cf(c,"border-top-width")+d.top-(e?e.top:0);return{left:a,right:a+c[0].clientWidth,top:b,bottom:b+c[0].clientHeight}}function dp(d,e){var a=d.offset();var b=a.left+cf(d,"border-left-width")+cf(d,"padding-left")-(e?e.left:0);var c=a.top+cf(d,"border-top-width")+cf(d,"padding-top")-(e?e.top:0);return{left:b,right:b+d.width(),top:c,bottom:c+d.height()}}function cd(c){var a=c.innerWidth()-c[0].clientWidth;var b={left:0,right:0,top:0,bottom:c.innerHeight()-c[0].clientHeight};if(cF()&&c.css("direction")=="rtl"){b.left=a}else{b.right=a}return b}var c2=null;function cF(){if(c2===null){c2=c8()}return c2}function c8(){var b=cp("<div><div/></div>").css({position:"absolute",top:-1000,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body");var a=b.children();var c=a.offset().left>b.offset().left;b.remove();return c}function cf(b,a){return parseFloat(b.css(a))||0}bT.preventDefault=cg;function dx(a){return a.which==1&&!a.ctrlKey}function cG(b){if(b.pageX!==undefined){return b.pageX}var a=b.originalEvent.touches;if(a){return a[0].pageX}}function cI(b){if(b.pageY!==undefined){return b.pageY}var a=b.originalEvent.touches;if(a){return a[0].pageY}}function dL(a){return/^touch/.test(a.type)}function bQ(a){a.addClass("fc-unselectable").on("selectstart",cg)}function cg(a){a.preventDefault()}bT.intersectRects=cb;function cb(b,c){var a={left:Math.max(b.left,c.left),right:Math.min(b.right,c.right),top:Math.max(b.top,c.top),bottom:Math.min(b.bottom,c.bottom)};if(a.left<a.right&&a.top<a.bottom){return a}return false}function dV(b,a){return{left:Math.min(Math.max(b.left,a.left),a.right),top:Math.min(Math.max(b.top,a.top),a.bottom)}}function dF(a){return{left:(a.left+a.right)/2,top:(a.top+a.bottom)/2}}function cr(a,b){return{left:a.left-b.left,top:a.top-b.top}}bT.parseFieldSpecs=c6;bT.compareByFieldSpecs=cX;bT.compareByFieldSpec=bR;bT.flexibleCompare=cQ;function c6(e){var a=[];var b=[];var c,d;if(typeof e==="string"){b=e.split(/\s*,\s*/)}else{if(typeof e==="function"){b=[e]}else{if(cp.isArray(e)){b=e}}}for(c=0;c<b.length;c++){d=b[c];if(typeof d==="string"){a.push(d.charAt(0)=="-"?{field:d.substring(1),order:-1}:{field:d,order:1})}else{if(typeof d==="function"){a.push({func:d})}}}return a}function cX(b,c,a){var e;var d;for(e=0;e<a.length;e++){d=bR(b,c,a[e]);if(d){return d}}return 0}function bR(a,c,b){if(b.func){return b.func(a,c)}return cQ(a[b.field],c[b.field])*(b.order||1)}function cQ(a,b){if(!a&&!b){return 0}if(b==null){return -1}if(a==null){return 1}if(cp.type(a)==="string"||cp.type(b)==="string"){return String(a).localeCompare(String(b))}return a-b}function b9(b,i){var f=b.start;var h=b.end;var c=i.start;var e=i.end;var d,a;var j,g;if(h>c&&f<e){if(f>=c){d=f.clone();j=true}else{d=c.clone();j=false}if(h<=e){a=h.clone();g=true}else{a=e.clone();g=false}return{start:d,end:a,isStart:j,isEnd:g}}}bT.computeIntervalUnit=c9;bT.divideRangeByDuration=b1;bT.divideDurationByDuration=c3;bT.multiplyDuration=dg;bT.durationHasTime=cm;var dN=["sun","mon","tue","wed","thu","fri","sat"];var dW=["year","month","week","day","hour","minute","second","millisecond"];function b8(a,b){return bJ.duration({days:a.clone().stripTime().diff(b.clone().stripTime(),"days"),ms:a.time()-b.time()})}function dw(a,b){return bJ.duration({days:a.clone().stripTime().diff(b.clone().stripTime(),"days")})}function ca(b,c,a){return bJ.duration(Math.round(b.diff(c,a,true)),a)}function c9(a,e){var d,c;var b;for(d=0;d<dW.length;d++){c=dW[d];b=de(c,a,e);if(b>=1&&ci(b)){break}}return c}function de(b,a,c){if(c!=null){return c.diff(a,b,true)}else{if(bJ.isDuration(a)){return a.as(b)}else{return a.end.diff(a.start,b,true)}}}function b1(a,c,b){var d;if(cm(b)){return(c-a)/b}d=b.asMonths();if(Math.abs(d)>=1&&ci(d)){return c.diff(a,"months",true)/d}return c.diff(a,"days",true)/b.asDays()}function c3(b,c){var d,a;if(cm(b)||cm(c)){return b/c}d=b.asMonths();a=c.asMonths();if(Math.abs(d)>=1&&ci(d)&&Math.abs(a)>=1&&ci(a)){return d/a}return b.asDays()/c.asDays()}function dg(b,a){var c;if(cm(b)){return bJ.duration(b*a)}c=b.asMonths();if(Math.abs(c)>=1&&ci(c)){return bJ.duration({months:c*a})}return bJ.duration({days:b.asDays()*a})}function cm(a){return Boolean(a.hours()||a.minutes()||a.seconds()||a.milliseconds())}function b6(a){return Object.prototype.toString.call(a)==="[object Date]"||a instanceof Date}function ck(a){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(a)}bT.log=function(){var a=window.console;if(a&&a.log){return a.log.apply(a,arguments)}};bT.warn=function(){var a=window.console;if(a&&a.warn){return a.warn.apply(a,arguments)}else{return bT.log.apply(bT,arguments)}};var dQ={}.hasOwnProperty;function du(a,e){var b={};var f,i;var c;var g,h;var d;if(e){for(f=0;f<e.length;f++){i=e[f];c=[];for(g=a.length-1;g>=0;g--){h=a[g][i];if(typeof h==="object"){c.unshift(h)}else{if(h!==undefined){b[i]=h;break}}}if(c.length){b[i]=du(c)}}}for(f=a.length-1;f>=0;f--){d=a[f];for(i in d){if(!(i in b)){b[i]=d[i]}}}return b}function cA(b){var a=function(){};a.prototype=b;return new a()}function bW(a,b){for(var c in a){if(ds(a,c)){b[c]=a[c]}}}function bK(a,d){var b=["constructor","toString","valueOf"];var c,e;for(c=0;c<b.length;c++){e=b[c];if(a[e]!==Object.prototype[e]){d[e]=a[e]}}}function ds(a,b){return dQ.call(a,b)}function cz(a){return/undefined|null|boolean|number|string/.test(cp.type(a))}function bS(b,a,d){if(cp.isFunction(b)){b=[b]}if(b){var c;var e;for(c=0;c<b.length;c++){e=b[c].apply(a,d)||e}return e}}function cy(){for(var a=0;a<arguments.length;a++){if(arguments[a]!==undefined){return arguments[a]}}}function dS(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function dU(a){return a.replace(/&.*?;/g,"")}function cS(a){var b=[];cp.each(a,function(d,c){if(c!=null){b.push(d+":"+c)}});return b.join(";")}function b0(a){return a.charAt(0).toUpperCase()+a.slice(1)}function cu(a,b){return a-b}function ci(a){return a%1===0}function c5(b,c){var a=b[c];return function(){return a.apply(b,arguments)}}function bF(g,e,h){var b,c,i,d,a;var f=function(){var j=+new Date()-d;if(j<e){b=setTimeout(f,e-j)}else{b=null;if(!h){a=g.apply(i,c);i=c=null}}};return function(){i=this;c=arguments;d=+new Date();var j=h&&!b;if(!b){b=setTimeout(f,e)}if(j){a=g.apply(i,c);i=c=null}return a}}var dq=/^\s*\d{4}-\d\d$/;var da=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/;var di=bJ.fn;var c7=cp.extend({},di);var dY;var c4;var cC;bT.moment=function(){return cN(arguments)};bT.moment.utc=function(){var a=cN(arguments,true);if(a.hasTime()){a.utc()}return a};bT.moment.parseZone=function(){return cN(arguments,true,true)};function cN(c,d,e){var a=c[0];var f=c.length==1&&typeof a==="string";var g;var b;var i;var h;if(bJ.isMoment(a)){h=bJ.apply(null,c);c0(a,h)}else{if(b6(a)||a===undefined){h=bJ.apply(null,c)}else{g=false;b=false;if(f){if(dq.test(a)){a+="-01";c=[a];g=true;b=true}else{if((i=da.exec(a))){g=!i[5];b=true}}}else{if(cp.isArray(a)){b=true}}if(d||g){h=bJ.utc.apply(bJ,c)}else{h=bJ.apply(null,c)}if(g){h._ambigTime=true;h._ambigZone=true}else{if(e){if(b){h._ambigZone=true}else{if(f){if(h.utcOffset){h.utcOffset(a)}else{h.zone(a)}}}}}}}h._fullCalendar=true;return h}di.clone=function(){var a=c7.clone.apply(this,arguments);c0(this,a);if(this._fullCalendar){a._fullCalendar=true}return a};di.week=di.weeks=function(a){var b=(this._locale||this._lang)._fullCalendar_weekCalc;if(a==null&&typeof b==="function"){return b(this)}else{if(b==="ISO"){return c7.isoWeek.apply(this,arguments)}}return c7.week.apply(this,arguments)};di.time=function(a){if(!this._fullCalendar){return c7.time.apply(this,arguments)}if(a==null){return bJ.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()})}else{this._ambigTime=false;if(!bJ.isDuration(a)&&!bJ.isMoment(a)){a=bJ.duration(a)}var b=0;if(bJ.isDuration(a)){b=Math.floor(a.asDays())*24}return this.hours(b+a.hours()).minutes(a.minutes()).seconds(a.seconds()).milliseconds(a.milliseconds())}};di.stripTime=function(){var a;if(!this._ambigTime){a=this.toArray();this.utc();c4(this,a.slice(0,3));this._ambigTime=true;this._ambigZone=true}return this};di.hasTime=function(){return !this._ambigTime};di.stripZone=function(){var b,a;if(!this._ambigZone){b=this.toArray();a=this._ambigTime;this.utc();c4(this,b);this._ambigTime=a||false;this._ambigZone=true}return this};di.hasZone=function(){return !this._ambigZone};di.local=function(){var b=this.toArray();var a=this._ambigZone;c7.local.apply(this,arguments);this._ambigTime=false;this._ambigZone=false;if(a){cC(this,b)}return this};di.utc=function(){c7.utc.apply(this,arguments);this._ambigTime=false;this._ambigZone=false;return this};cp.each(["zone","utcOffset"],function(a,b){if(c7[b]){di[b]=function(c){if(c!=null){this._ambigTime=false;this._ambigZone=false}return c7[b].apply(this,arguments)}}});di.format=function(){if(this._fullCalendar&&arguments[0]){return b2(this,arguments[0])}if(this._ambigTime){return dr(this,"YYYY-MM-DD")}if(this._ambigZone){return dr(this,"YYYY-MM-DD[T]HH:mm:ss")}return c7.format.apply(this,arguments)};di.toISOString=function(){if(this._ambigTime){return dr(this,"YYYY-MM-DD")}if(this._ambigZone){return dr(this,"YYYY-MM-DD[T]HH:mm:ss")}return c7.toISOString.apply(this,arguments)};di.isWithin=function(a,b){var c=cV([this,a,b]);return c[0]>=c[1]&&c[0]<c[2]};di.isSame=function(a,b){var c;if(!this._fullCalendar){return c7.isSame.apply(this,arguments)}if(b){c=cV([this,a],true);return c7.isSame.call(c[0],c[1],b)}else{a=bT.moment.parseZone(a);return c7.isSame.call(this,a)&&Boolean(this._ambigTime)===Boolean(a._ambigTime)&&Boolean(this._ambigZone)===Boolean(a._ambigZone)}};cp.each(["isBefore","isAfter"],function(a,b){di[b]=function(c,d){var e;if(!this._fullCalendar){return c7[b].apply(this,arguments)}e=cV([this,c]);return c7[b].call(e[0],e[1],d)}});function cV(d,f){var b=false;var g=false;var e=d.length;var c=[];var a,h;for(a=0;a<e;a++){h=d[a];if(!bJ.isMoment(h)){h=bT.moment.parseZone(h)}b=b||h._ambigTime;g=g||h._ambigZone;c.push(h)}for(a=0;a<e;a++){h=c[a];if(!f&&b&&!h._ambigTime){c[a]=h.clone().stripTime()}else{if(g&&!h._ambigZone){c[a]=h.clone().stripZone()}}}return c}function c0(a,b){if(a._ambigTime){b._ambigTime=true}else{if(b._ambigTime){b._ambigTime=false}}if(a._ambigZone){b._ambigZone=true}else{if(b._ambigZone){b._ambigZone=false}}}function cl(a,b){a.year(b[0]||0).month(b[1]||0).date(b[2]||0).hours(b[3]||0).minutes(b[4]||0).seconds(b[5]||0).milliseconds(b[6]||0)}dY="_d" in bJ()&&"updateOffset" in bJ;c4=dY?function(a,b){a._d.setTime(Date.UTC.apply(Date,b));bJ.updateOffset(a,false)}:cl;cC=dY?function(a,b){a._d.setTime(+new Date(b[0]||0,b[1]||0,b[2]||0,b[3]||0,b[4]||0,b[5]||0,b[6]||0));bJ.updateOffset(a,false)}:cl;function dr(a,b){return c7.format.call(a,b)}function b2(a,b){return bL(a,dv(b))}function bL(d,a){var b="";var c;for(c=0;c<a.length;c++){b+=cB(d,a[c])}return b}var dl={t:function(a){return dr(a,"a").charAt(0)},T:function(a){return dr(a,"A").charAt(0)}};function cB(c,d){var b;var a;if(typeof d==="string"){return d}else{if((b=d.token)){if(dl[b]){return dl[b](c)}return dr(c,b)}else{if(d.maybe){a=bL(c,d.maybe);if(a.match(/[1-9]/)){return a}}}}return""}function cJ(f,b,e,a,d){var c;f=bT.moment.parseZone(f);b=bT.moment.parseZone(b);c=(f.localeData||f.lang).call(f);e=c.longDateFormat(e)||e;a=a||" - ";return ce(f,b,dv(e),a,d)}bT.formatRange=cJ;function ce(a,b,i,j,o){var k=a.clone().stripZone();var n=b.clone().stripZone();var e;var c;var l="";var p;var g="";var d;var f="";var h="";var m="";for(c=0;c<i.length;c++){e=dm(a,b,k,n,i[c]);if(e===false){break}l+=e}for(p=i.length-1;p>c;p--){e=dm(a,b,k,n,i[p]);if(e===false){break}g=e+g}for(d=c;d<=p;d++){f+=cB(a,i[d]);h+=cB(b,i[d])}if(f||h){if(o){m=h+j+f}else{m=f+j+h}}return l+m+g}var b4={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"};function dm(f,a,g,b,e){var d;var c;if(typeof e==="string"){return e}else{if((d=e.token)){c=b4[d.charAt(0)];if(c&&g.isSame(b,c)){return dr(f,d)}}}return false}var dy={};function dv(a){if(a in dy){return dy[a]}return(dy[a]=bX(a))}function bX(c){var a=[];var d=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;var b;while((b=d.exec(c))){if(b[1]){a.push(b[1])}else{if(b[2]){a.push({maybe:bX(b[2])})}else{if(b[3]){a.push({token:b[3]})}else{if(b[5]){a.push(b[5])}}}}}return a}bT.Class=dd;function dd(){}dd.extend=function(){var c=arguments.length;var a;var b;for(a=0;a<c;a++){b=arguments[a];if(a<c-1){dG(this,b)}}return dD(this,b||{})};dd.mixin=function(a){dG(this,a)};function dD(b,c){var a;if(ds(c,"constructor")){a=c.constructor}if(typeof a!=="function"){a=c.constructor=function(){b.apply(this,arguments)}}a.prototype=cA(b.prototype);bW(c,a.prototype);bK(c,a.prototype);bW(b,a);return a}function dG(a,b){bW(b,a.prototype)}var bU=bT.EmitterMixin={callbackHash:null,on:function(b,a){this.loopCallbacks(b,"add",[a]);return this},off:function(b,a){this.loopCallbacks(b,"remove",[a]);return this},trigger:function(a){var b=Array.prototype.slice.call(arguments,1);this.triggerWith(a,this,b);return this},triggerWith:function(b,a,c){this.loopCallbacks(b,"fireWith",[a,c]);return this},loopCallbacks:function(b,e,c){var f=b.split(".");var g,d;var a;for(g=0;g<f.length;g++){d=f[g];if(d){a=this.ensureCallbackObj((g?".":"")+d);a[e].apply(a,c)}}},ensureCallbackObj:function(a){if(!this.callbackHash){this.callbackHash={}}if(!this.callbackHash[a]){this.callbackHash[a]=cp.Callbacks()}return this.callbackHash[a]}};var dk=bT.ListenerMixin=(function(){var b=0;var a={listenerId:null,listenTo:function(d,e,f){if(typeof e==="object"){for(var c in e){if(e.hasOwnProperty(c)){this.listenTo(d,c,e[c])}}}else{if(typeof e==="string"){d.on(e+"."+this.getListenerNamespace(),cp.proxy(f,this))}}},stopListeningTo:function(d,c){d.off((c||"")+"."+this.getListenerNamespace())},getListenerNamespace:function(){if(this.listenerId==null){this.listenerId=b++}return"_listener"+this.listenerId}};return a})();var dC=dd.extend(dk,{isHidden:true,options:null,el:null,margin:10,constructor:function(a){this.options=a||{}},show:function(){if(this.isHidden){if(!this.el){this.render()}this.el.show();this.position();this.isHidden=false;this.trigger("show")}},hide:function(){if(!this.isHidden){this.el.hide();this.isHidden=true;this.trigger("hide")}},render:function(){var a=this;var b=this.options;this.el=cp('<div class="fc-popover"/>').addClass(b.className||"").css({top:0,left:0}).append(b.content).appendTo(b.parentEl);this.el.on("click",".fc-close",function(){a.hide()});if(b.autoHide){this.listenTo(cp(document),"mousedown",this.documentMousedown)}},documentMousedown:function(a){if(this.el&&!cp(a.target).closest(this.el).length){this.hide()}},removeElement:function(){this.hide();if(this.el){this.el.remove();this.el=null}this.stopListeningTo(cp(document),"mousedown")},position:function(){var a=this.options;var e=this.el.offsetParent().offset();var k=this.el.outerWidth();var c=this.el.outerHeight();var d=cp(window);var f=cD(this.el);var j;var h;var b;var g;var i;g=a.top||0;if(a.left!==undefined){i=a.left}else{if(a.right!==undefined){i=a.right-k}else{i=0}}if(f.is(window)||f.is(document)){f=d;j=0;h=0}else{b=f.offset();j=b.top;h=b.left}j+=d.scrollTop();h+=d.scrollLeft();if(a.viewportConstrain!==false){g=Math.min(g,j+f.outerHeight()-c-this.margin);g=Math.max(g,j+this.margin);i=Math.min(i,h+f.outerWidth()-k-this.margin);i=Math.max(i,h+this.margin)}this.el.css({top:g-e.top,left:i-e.left})},trigger:function(a){if(this.options[a]){this.options[a].apply(this,Array.prototype.slice.call(arguments,1))}}});var dn=bT.CoordCache=dd.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:false,isVertical:false,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(a){this.els=cp(a.els);this.isHorizontal=a.isHorizontal;this.isVertical=a.isVertical;this.forcedOffsetParentEl=a.offsetParent?cp(a.offsetParent):null},build:function(){var a=this.forcedOffsetParentEl||this.els.eq(0).offsetParent();this.origin=a.offset();this.boundingRect=this.queryBoundingRect();if(this.isHorizontal){this.buildElHorizontals()}if(this.isVertical){this.buildElVerticals()}},clear:function(){this.origin=null;this.boundingRect=null;this.lefts=null;this.rights=null;this.tops=null;this.bottoms=null},ensureBuilt:function(){if(!this.origin){this.build()}},queryBoundingRect:function(){var a=cD(this.els.eq(0));if(!a.is(document)){return bP(a)}},buildElHorizontals:function(){var a=[];var b=[];this.els.each(function(e,g){var c=cp(g);var f=c.offset().left;var d=c.outerWidth();a.push(f);b.push(f+d)});this.lefts=a;this.rights=b},buildElVerticals:function(){var b=[];var a=[];this.els.each(function(d,g){var c=cp(g);var f=c.offset().top;var e=c.outerHeight();b.push(f);a.push(f+e)});this.tops=b;this.bottoms=a},getHorizontalIndex:function(b){this.ensureBuilt();var d=this.boundingRect;var f=this.lefts;var a=this.rights;var e=f.length;var c;if(!d||(b>=d.left&&b<d.right)){for(c=0;c<e;c++){if(b>=f[c]&&b<a[c]){return c}}}},getVerticalIndex:function(b){this.ensureBuilt();var d=this.boundingRect;var a=this.tops;var f=this.bottoms;var e=a.length;var c;if(!d||(b>=d.top&&b<d.bottom)){for(c=0;c<e;c++){if(b>=a[c]&&b<f[c]){return c}}}},getLeftOffset:function(a){this.ensureBuilt();return this.lefts[a]},getLeftPosition:function(a){this.ensureBuilt();return this.lefts[a]-this.origin.left},getRightOffset:function(a){this.ensureBuilt();return this.rights[a]},getRightPosition:function(a){this.ensureBuilt();return this.rights[a]-this.origin.left},getWidth:function(a){this.ensureBuilt();return this.rights[a]-this.lefts[a]},getTopOffset:function(a){this.ensureBuilt();return this.tops[a]},getTopPosition:function(a){this.ensureBuilt();return this.tops[a]-this.origin.top},getBottomOffset:function(a){this.ensureBuilt();return this.bottoms[a]},getBottomPosition:function(a){this.ensureBuilt();return this.bottoms[a]-this.origin.top},getHeight:function(a){this.ensureBuilt();return this.bottoms[a]-this.tops[a]}});var cL=bT.DragListener=dd.extend(dk,{options:null,subjectEl:null,subjectHref:null,originX:null,originY:null,scrollEl:null,isInteracting:false,isDistanceSurpassed:false,isDelayEnded:false,isDragging:false,isTouch:false,delay:null,delayTimeoutId:null,minDistance:null,constructor:function(a){this.options=a||{}},startInteraction:function(a,b){var c=dL(a);if(a.type==="mousedown"){if(!dx(a)){return}else{a.preventDefault()}}if(!this.isInteracting){b=b||{};this.delay=cy(b.delay,this.options.delay,0);this.minDistance=cy(b.distance,this.options.distance,0);this.subjectEl=this.options.subjectEl;this.isInteracting=true;this.isTouch=c;this.isDelayEnded=false;this.isDistanceSurpassed=false;this.originX=cG(a);this.originY=cI(a);this.scrollEl=cD(cp(a.target));this.bindHandlers();this.initAutoScroll();this.handleInteractionStart(a);this.startDelay(a);if(!this.minDistance){this.handleDistanceSurpassed(a)}}},handleInteractionStart:function(a){this.trigger("interactionStart",a)},endInteraction:function(a){if(this.isInteracting){this.endDrag(a);if(this.delayTimeoutId){clearTimeout(this.delayTimeoutId);this.delayTimeoutId=null}this.destroyAutoScroll();this.unbindHandlers();this.isInteracting=false;this.handleInteractionEnd(a)}},handleInteractionEnd:function(a){this.trigger("interactionEnd",a)},bindHandlers:function(){var a=this;var b=1;if(this.isTouch){this.listenTo(cp(document),{touchmove:this.handleTouchMove,touchend:this.endInteraction,touchcancel:this.endInteraction,touchstart:function(c){if(b){b--}else{a.endInteraction(c)}}});if(this.scrollEl){this.listenTo(this.scrollEl,"scroll",this.handleTouchScroll)}}else{this.listenTo(cp(document),{mousemove:this.handleMouseMove,mouseup:this.endInteraction})}this.listenTo(cp(document),{selectstart:cg,contextmenu:cg})},unbindHandlers:function(){this.stopListeningTo(cp(document));if(this.scrollEl){this.stopListeningTo(this.scrollEl)}},startDrag:function(a,b){this.startInteraction(a,b);if(!this.isDragging){this.isDragging=true;this.handleDragStart(a)}},handleDragStart:function(a){this.trigger("dragStart",a);this.initHrefHack()},handleMove:function(b){var c=cG(b)-this.originX;var e=cI(b)-this.originY;var a=this.minDistance;var d;if(!this.isDistanceSurpassed){d=c*c+e*e;if(d>=a*a){this.handleDistanceSurpassed(b)}}if(this.isDragging){this.handleDrag(c,e,b)}},handleDrag:function(b,c,a){this.trigger("drag",b,c,a);this.updateAutoScroll(a)},endDrag:function(a){if(this.isDragging){this.isDragging=false;this.handleDragEnd(a)}},handleDragEnd:function(a){this.trigger("dragEnd",a);this.destroyHrefHack()},startDelay:function(b){var a=this;if(this.delay){this.delayTimeoutId=setTimeout(function(){a.handleDelayEnd(b)},this.delay)}else{this.handleDelayEnd(b)}},handleDelayEnd:function(a){this.isDelayEnded=true;if(this.isDistanceSurpassed){this.startDrag(a)}},handleDistanceSurpassed:function(a){this.isDistanceSurpassed=true;if(this.isDelayEnded){this.startDrag(a)}},handleTouchMove:function(a){if(this.isDragging){a.preventDefault()}this.handleMove(a)},handleMouseMove:function(a){this.handleMove(a)},handleTouchScroll:function(a){if(!this.isDragging){this.endInteraction(a)}},initHrefHack:function(){var a=this.subjectEl;if((this.subjectHref=a?a.attr("href"):null)){a.removeAttr("href")}},destroyHrefHack:function(){var a=this.subjectEl;var b=this.subjectHref;setTimeout(function(){if(b){a.attr("href",b)}},0)},trigger:function(a){if(this.options[a]){this.options[a].apply(this,Array.prototype.slice.call(arguments,1))}if(this["_"+a]){this["_"+a].apply(this,Array.prototype.slice.call(arguments,1))}}});cL.mixin({isAutoScroll:false,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,initAutoScroll:function(){var a=this.scrollEl;this.isAutoScroll=this.options.scroll&&a&&!a.is(window)&&!a.is(document);if(this.isAutoScroll){this.listenTo(a,"scroll",bF(this.handleDebouncedScroll,100))}},destroyAutoScroll:function(){this.endAutoScroll();if(this.isAutoScroll){this.stopListeningTo(this.scrollEl,"scroll")}},computeScrollBounds:function(){if(this.isAutoScroll){this.scrollBounds=dj(this.scrollEl)}},updateAutoScroll:function(c){var g=this.scrollSensitivity;var i=this.scrollBounds;var h,f;var b,a;var d=0;var e=0;if(i){h=(g-(cI(c)-i.top))/g;f=(g-(i.bottom-cI(c)))/g;b=(g-(cG(c)-i.left))/g;a=(g-(i.right-cG(c)))/g;if(h>=0&&h<=1){d=h*this.scrollSpeed*-1}else{if(f>=0&&f<=1){d=f*this.scrollSpeed}}if(b>=0&&b<=1){e=b*this.scrollSpeed*-1}else{if(a>=0&&a<=1){e=a*this.scrollSpeed}}}this.setScrollVel(d,e)},setScrollVel:function(a,b){this.scrollTopVel=a;this.scrollLeftVel=b;this.constrainScrollVel();if((this.scrollTopVel||this.scrollLeftVel)&&!this.scrollIntervalId){this.scrollIntervalId=setInterval(c5(this,"scrollIntervalFunc"),this.scrollIntervalMs)}},constrainScrollVel:function(){var a=this.scrollEl;if(this.scrollTopVel<0){if(a.scrollTop()<=0){this.scrollTopVel=0}}else{if(this.scrollTopVel>0){if(a.scrollTop()+a[0].clientHeight>=a[0].scrollHeight){this.scrollTopVel=0}}}if(this.scrollLeftVel<0){if(a.scrollLeft()<=0){this.scrollLeftVel=0}}else{if(this.scrollLeftVel>0){if(a.scrollLeft()+a[0].clientWidth>=a[0].scrollWidth){this.scrollLeftVel=0}}}},scrollIntervalFunc:function(){var a=this.scrollEl;var b=this.scrollIntervalMs/1000;if(this.scrollTopVel){a.scrollTop(a.scrollTop()+this.scrollTopVel*b)}if(this.scrollLeftVel){a.scrollLeft(a.scrollLeft()+this.scrollLeftVel*b)}this.constrainScrollVel();if(!this.scrollTopVel&&!this.scrollLeftVel){this.endAutoScroll()}},endAutoScroll:function(){if(this.scrollIntervalId){clearInterval(this.scrollIntervalId);this.scrollIntervalId=null;this.handleScrollEnd()}},handleDebouncedScroll:function(){if(!this.scrollIntervalId){this.handleScrollEnd()}},handleScrollEnd:function(){}});var dc=cL.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(a,b){cL.call(this,b);this.component=a},handleInteractionStart:function(a){var d=this.subjectEl;var c;var b;var e;cL.prototype.handleInteractionStart.apply(this,arguments);this.computeCoords();if(a){b={left:cG(a),top:cI(a)};e=b;if(d){c=dj(d);e=dV(e,c)}this.origHit=this.queryHit(e.left,e.top);if(d&&this.options.subjectCenter){if(this.origHit){c=cb(this.origHit,c)||c}e=dF(c)}this.coordAdjust=cr(e,b)}else{this.origHit=null;this.coordAdjust=null}},computeCoords:function(){this.component.prepareHits();this.computeScrollBounds()},handleDragStart:function(b){var a;cL.prototype.handleDragStart.apply(this,arguments);a=this.queryHit(cG(b),cI(b));if(a){this.handleHitOver(a)}},handleDrag:function(c,d,b){var a;cL.prototype.handleDrag.apply(this,arguments);a=this.queryHit(cG(b),cI(b));if(!ch(a,this.hit)){if(this.hit){this.handleHitOut()}if(a){this.handleHitOver(a)}}},handleDragEnd:function(){this.handleHitDone();cL.prototype.handleDragEnd.apply(this,arguments)},handleHitOver:function(a){var b=ch(a,this.origHit);this.hit=a;this.trigger("hitOver",this.hit,b,this.origHit)},handleHitOut:function(){if(this.hit){this.trigger("hitOut",this.hit);this.handleHitDone();this.hit=null}},handleHitDone:function(){if(this.hit){this.trigger("hitDone",this.hit)}},handleInteractionEnd:function(){cL.prototype.handleInteractionEnd.apply(this,arguments);this.origHit=null;this.hit=null;this.component.releaseHits()},handleScrollEnd:function(){cL.prototype.handleScrollEnd.apply(this,arguments);this.computeCoords()},queryHit:function(a,b){if(this.coordAdjust){a+=this.coordAdjust.left;b+=this.coordAdjust.top}return this.component.queryHit(a,b)}});function ch(a,b){if(!a&&!b){return true}if(a&&b){return a.component===b.component&&db(a,b)&&db(b,a)}return false}function db(c,b){for(var a in c){if(!/^(component|left|right|top|bottom)$/.test(a)){if(c[a]!==b[a]){return false}}}return true}var bG=dd.extend(dk,{options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,y0:null,x0:null,topDelta:null,leftDelta:null,isFollowing:false,isHidden:false,isAnimating:false,constructor:function(b,a){this.options=a=a||{};this.sourceEl=b;this.parentEl=a.parentEl?cp(a.parentEl):b.parent()},start:function(a){if(!this.isFollowing){this.isFollowing=true;this.y0=cI(a);this.x0=cG(a);this.topDelta=0;this.leftDelta=0;if(!this.isHidden){this.updatePosition()}if(dL(a)){this.listenTo(cp(document),"touchmove",this.handleMove)}else{this.listenTo(cp(document),"mousemove",this.handleMove)}}},stop:function(d,a){var b=this;var c=this.options.revertDuration;function e(){this.isAnimating=false;b.removeElement();this.top0=this.left0=null;if(a){a()}}if(this.isFollowing&&!this.isAnimating){this.isFollowing=false;this.stopListeningTo(cp(document));if(d&&c&&!this.isHidden){this.isAnimating=true;this.el.animate({top:this.top0,left:this.left0},{duration:c,complete:e})}else{e()}}},getEl:function(){var a=this.el;if(!a){this.sourceEl.width();a=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex});a.addClass("fc-unselectable");a.appendTo(this.parentEl)}return a},removeElement:function(){if(this.el){this.el.remove();this.el=null}},updatePosition:function(){var a;var b;this.getEl();if(this.top0===null){this.sourceEl.width();a=this.sourceEl.offset();b=this.el.offsetParent().offset();this.top0=a.top-b.top;this.left0=a.left-b.left}this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},handleMove:function(a){this.topDelta=cI(a)-this.y0;this.leftDelta=cG(a)-this.x0;if(!this.isHidden){this.updatePosition()}},hide:function(){if(!this.isHidden){this.isHidden=true;if(this.el){this.el.hide()}}},show:function(){if(this.isHidden){this.isHidden=false;this.updatePosition();this.getEl().show()}}});var dX=bT.Grid=dd.extend(dk,{view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,dayDragListener:null,segDragListener:null,segResizeListener:null,externalDragListener:null,constructor:function(a){this.view=a;this.isRTL=a.opt("isRTL");this.elsByFill={}},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return true},computeDisplayEventEnd:function(){return true},setRange:function(a){this.start=a.start.clone();this.end=a.end.clone();this.rangeUpdated();this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var b=this.view;var c;var a;this.eventTimeFormat=b.opt("eventTimeFormat")||b.opt("timeFormat")||this.computeEventTimeFormat();c=b.opt("displayEventTime");if(c==null){c=this.computeDisplayEventTime()}a=b.opt("displayEventEnd");if(a==null){a=this.computeDisplayEventEnd()}this.displayEventTime=c;this.displayEventEnd=a},spanToSegs:function(a){},diffDates:function(a,b){if(this.largeUnit){return ca(a,b,this.largeUnit)}else{return b8(a,b)}},prepareHits:function(){},releaseHits:function(){},queryHit:function(a,b){},getHitSpan:function(a){},getHitEl:function(a){},setElement:function(a){this.el=a;bQ(a);if(this.view.calendar.isTouch){this.bindDayHandler("touchstart",this.dayTouchStart)}else{this.bindDayHandler("mousedown",this.dayMousedown)}this.bindSegHandlers();this.bindGlobalHandlers()},bindDayHandler:function(c,b){var a=this;this.el.on(c,function(d){if(!cp(d.target).is(".fc-event-container *, .fc-more")&&!cp(d.target).closest(".fc-popover").length){return b.call(a,d)}})},removeElement:function(){this.unbindGlobalHandlers();this.clearDragListeners();this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){this.listenTo(cp(document),{dragstart:this.externalDragStart,sortstart:this.externalDragStart})},unbindGlobalHandlers:function(){this.stopListeningTo(cp(document))},dayMousedown:function(a){this.clearDragListeners();this.buildDayDragListener().startInteraction(a,{})},dayTouchStart:function(a){this.clearDragListeners();this.buildDayDragListener().startInteraction(a,{delay:this.view.opt("longPressDelay")})},buildDayDragListener:function(){var f=this;var d=this.view;var e=d.opt("selectable");var c;var a;var b=this.dayDragListener=new dc(this,{scroll:d.opt("dragScroll"),dragStart:function(){d.unselect()},hitOver:function(h,i,g){if(g){c=i?h:null;if(e){a=f.computeSelection(f.getHitSpan(g),f.getHitSpan(h));if(a){f.renderSelection(a)}else{if(a===false){cn()}}}}},hitOut:function(){c=null;a=null;f.unrenderSelection();dh()},interactionEnd:function(g){if(c){d.triggerDayClick(f.getHitSpan(c),f.getHitEl(c),g)}if(a){d.reportSelection(a,g)}dh();f.dayDragListener=null}});return b},clearDragListeners:function(){if(this.dayDragListener){this.dayDragListener.endInteraction()}if(this.segDragListener){this.segDragListener.endInteraction()}if(this.segResizeListener){this.segResizeListener.endInteraction()}if(this.externalDragListener){this.externalDragListener.endInteraction()}},renderEventLocationHelper:function(b,c){var a=this.fabricateHelperEvent(b,c);return this.renderHelper(a,c)},fabricateHelperEvent:function(b,c){var a=c?cA(c.event):{};a.start=b.start.clone();a.end=b.end?b.end.clone():null;a.allDay=null;this.view.calendar.normalizeEventDates(a);a.className=(a.className||[]).concat("fc-helper");if(!c){a.editable=false}return a},renderHelper:function(a,b){},unrenderHelper:function(){},renderSelection:function(a){this.renderHighlight(a)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(a,c){var b=this.computeSelectionSpan(a,c);if(b&&!this.view.calendar.isSelectionSpanAllowed(b)){return false}return b},computeSelectionSpan:function(b,c){var a=[b.start,b.end,c.start,c.end];a.sort(cu);return{start:a[0].clone(),end:a[3].clone()}},renderHighlight:function(a){this.renderFill("highlight",this.spanToSegs(a))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(a){},unrenderNowIndicator:function(){},renderFill:function(a,b){},unrenderFill:function(a){var b=this.elsByFill[a];if(b){b.remove();delete this.elsByFill[a]}},renderFillSegEls:function(g,d){var f=this;var e=this[g+"SegEl"];var a="";var b=[];var c;if(d.length){for(c=0;c<d.length;c++){a+=this.fillSegHtml(g,d[c])}cp(a).each(function(j,h){var k=d[j];var i=cp(h);if(e){i=e.call(f,k,i)}if(i){i=cp(i);if(i.is(f.fillSegTag)){k.el=i;b.push(k)}}})}return b},fillSegTag:"div",fillSegHtml:function(a,e){var f=this[a+"SegClasses"];var d=this[a+"SegCss"];var b=f?f.call(this,e):[];var c=cS(d?d.call(this,e):{});return"<"+this.fillSegTag+(b.length?' class="'+b.join(" ")+'"':"")+(c?' style="'+c+'"':"")+" />"},getDayClasses:function(b){var d=this.view;var c=d.calendar.getNow();var a=["fc-"+dN[b.day()]];if(d.intervalDuration.as("months")==1&&b.month()!=d.intervalStart.month()){a.push("fc-other-month")}if(b.isSame(c,"day")){a.push("fc-today",d.highlightStateClass)}else{if(b<c){a.push("fc-past")}else{a.push("fc-future")}}return a}});dX.mixin({mousedOverSeg:null,isDraggingSeg:false,isResizingSeg:false,isDraggingExternal:false,segs:null,renderEvents:function(a){var b=[];var d=[];var c;for(c=0;c<a.length;c++){(cw(a[c])?b:d).push(a[c])}this.segs=[].concat(this.renderBgEvents(b),this.renderFgEvents(d))},renderBgEvents:function(a){var b=this.eventsToSegs(a);return this.renderBgSegs(b)||b},renderFgEvents:function(a){var b=this.eventsToSegs(a);return this.renderFgSegs(b)||b},unrenderEvents:function(){this.handleSegMouseout();this.clearDragListeners();this.unrenderFgSegs();this.unrenderBgSegs();this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(a){},unrenderFgSegs:function(){},renderFgSegEls:function(c,d){var e=this.view;var f="";var a=[];var b;if(c.length){for(b=0;b<c.length;b++){f+=this.fgSegHtml(c[b],d)}cp(f).each(function(i,g){var j=c[i];var h=e.resolveEventEl(j.event,cp(g));if(h){h.data("fc-seg",j);j.el=h;a.push(j)}})}return a},fgSegHtml:function(a,b){},renderBgSegs:function(a){return this.renderFill("bgEvent",a)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(b,a){return this.view.resolveEventEl(b.event,a)},bgEventSegClasses:function(c){var b=c.event;var a=b.source||{};return["fc-bgevent"].concat(b.className,a.className||[])},bgEventSegCss:function(a){return{"background-color":this.getSegSkinCss(a)["background-color"]}},businessHoursSegClasses:function(a){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){if(this.view.calendar.isTouch){this.bindSegHandler("touchstart",this.handleSegTouchStart)}else{this.bindSegHandler("mouseenter",this.handleSegMouseover);this.bindSegHandler("mouseleave",this.handleSegMouseout);this.bindSegHandler("mousedown",this.handleSegMousedown)}this.bindSegHandler("click",this.handleSegClick)},bindSegHandler:function(c,b){var a=this;this.el.on(c,".fc-event-container > *",function(d){var e=cp(this).data("fc-seg");if(e&&!a.isDraggingSeg&&!a.isResizingSeg){return b.call(a,e,d)}})},handleSegClick:function(b,a){return this.view.trigger("eventClick",b.el[0],b.event,a)},handleSegMouseover:function(b,a){if(!this.mousedOverSeg){this.mousedOverSeg=b;this.view.trigger("eventMouseover",b.el[0],b.event,a)}},handleSegMouseout:function(b,a){a=a||{};if(this.mousedOverSeg){b=b||this.mousedOverSeg;this.mousedOverSeg=null;this.view.trigger("eventMouseout",b.el[0],b.event,a)}},handleSegTouchStart:function(c,b){var a=this.view;var g=c.event;var e=a.isEventSelected(g);var h=a.isEventDraggable(g);var f=a.isEventResizable(g);var d=false;var i;if(e&&f){d=this.startSegResize(c,b)}if(!d&&(h||f)){this.clearDragListeners();i=h?this.buildSegDragListener(c):new cL();i._dragStart=function(){if(!e){a.selectEvent(g)}};i.startInteraction(b,{delay:e?0:this.view.opt("longPressDelay")})}},handleSegMousedown:function(c,b){var a=this.startSegResize(c,b,{distance:5});if(!a&&this.view.isEventDraggable(c.event)){this.clearDragListeners();this.buildSegDragListener(c).startInteraction(b,{distance:5})}},startSegResize:function(c,a,b){if(cp(a.target).is(".fc-resizer")){this.clearDragListeners();this.buildSegResizeListener(c,cp(a.target).is(".fc-start-resizer")).startInteraction(a,b);return true}return false},buildSegDragListener:function(f){var c=this;var a=this.view;var e=a.calendar;var g=f.el;var h=f.event;var b;var i;var d;var j=this.segDragListener=new dc(a,{scroll:a.opt("dragScroll"),subjectEl:g,subjectCenter:true,interactionStart:function(k){b=false;i=new bG(f.el,{additionalClass:"fc-dragging",parentEl:a.el,opacity:j.isTouch?null:a.opt("dragOpacity"),revertDuration:a.opt("dragRevertDuration"),zIndex:2});i.hide();i.start(k)},dragStart:function(k){b=true;c.handleSegMouseout(f,k);c.segDragStart(f,k);a.hideEvent(h)},hitOver:function(m,n,k){var l;if(f.hit){k=f.hit}d=c.computeEventDrop(k.component.getHitSpan(k),m.component.getHitSpan(m),h);if(d&&!e.isEventSpanAllowed(c.eventToSpan(d),h)){cn();d=null}if(d&&(l=a.renderDrag(d,f))){l.addClass("fc-dragging");if(!j.isTouch){c.applyDragOpacity(l)}i.hide()}else{i.show()}if(n){d=null}},hitOut:function(){a.unrenderDrag();i.show();d=null},hitDone:function(){dh()},interactionEnd:function(k){i.stop(!d,function(){if(b){a.unrenderDrag();a.showEvent(h);c.segDragStop(f,k)}if(d){a.reportEventDrop(h,d,this.largeUnit,g,k)}});c.segDragListener=null}});return j},segDragStart:function(b,a){this.isDraggingSeg=true;this.view.trigger("eventDragStart",b.el[0],b.event,a,{})},segDragStop:function(b,a){this.isDraggingSeg=false;this.view.trigger("eventDragStop",b.el[0],b.event,a,{})},computeEventDrop:function(c,f,a){var h=this.view.calendar;var d=c.start;var e=f.start;var g;var b;if(d.hasTime()===e.hasTime()){g=this.diffDates(e,d);if(a.allDay&&cm(g)){b={start:a.start.clone(),end:h.getEventEnd(a),allDay:false};h.normalizeEventTimes(b)}else{b={start:a.start.clone(),end:a.end?a.end.clone():null,allDay:a.allDay}}b.start.add(g);if(b.end){b.end.add(g)}}else{b={start:e.clone(),end:null,allDay:!e.hasTime()}}return b},applyDragOpacity:function(a){var b=this.view.opt("dragOpacity");if(b!=null){a.each(function(d,c){c.style.opacity=b})}},externalDragStart:function(b,a){var e=this.view;var c;var d;if(e.opt("droppable")){c=cp((a?a.item:null)||b.target);d=e.opt("dropAccept");if(cp.isFunction(d)?d.call(c[0],c):c.is(d)){if(!this.isDraggingExternal){this.listenToExternalDrag(c,b,a)}}}},listenToExternalDrag:function(d,b,a){var f=this;var g=this.view.calendar;var h=cO(d);var c;var e=f.externalDragListener=new dc(this,{interactionStart:function(){f.isDraggingExternal=true},hitOver:function(i){c=f.computeExternalDrop(i.component.getHitSpan(i),h);if(c&&!g.isExternalSpanAllowed(f.eventToSpan(c),c,h.eventProps)){cn();c=null}if(c){f.renderDrag(c)}},hitOut:function(){c=null},hitDone:function(){dh();f.unrenderDrag()},interactionEnd:function(i){if(c){f.view.reportExternalDrop(h,c,d,i,a)}f.isDraggingExternal=false;f.externalDragListener=null}});e.startDrag(b)},computeExternalDrop:function(d,a){var b=this.view.calendar;var c={start:b.applyTimezone(d.start),end:null};if(a.startTime&&!c.start.hasTime()){c.start.time(a.startTime)}if(a.duration){c.end=c.start.clone().add(a.duration)}return c},renderDrag:function(a,b){},unrenderDrag:function(){},buildSegResizeListener:function(g,j){var d=this;var b=this.view;var f=b.calendar;var h=g.el;var i=g.event;var e=f.getEventEnd(i);var c;var a;var k=this.segResizeListener=new dc(this,{scroll:b.opt("dragScroll"),subjectEl:h,interactionStart:function(){c=false},dragStart:function(l){c=true;d.handleSegMouseout(g,l);d.segResizeStart(g,l)},hitOver:function(n,p,l){var o=d.getHitSpan(l);var m=d.getHitSpan(n);a=j?d.computeEventStartResize(o,m,i):d.computeEventEndResize(o,m,i);if(a){if(!f.isEventSpanAllowed(d.eventToSpan(a),i)){cn();a=null}else{if(a.start.isSame(i.start)&&a.end.isSame(e)){a=null}}}if(a){b.hideEvent(i);d.renderEventResize(a,g)}},hitOut:function(){a=null},hitDone:function(){d.unrenderEventResize();b.showEvent(i);dh()},interactionEnd:function(l){if(c){d.segResizeStop(g,l)}if(a){b.reportEventResize(i,a,this.largeUnit,h,l)}d.segResizeListener=null}});return k},segResizeStart:function(b,a){this.isResizingSeg=true;this.view.trigger("eventResizeStart",b.el[0],b.event,a,{})},segResizeStop:function(b,a){this.isResizingSeg=false;this.view.trigger("eventResizeStop",b.el[0],b.event,a,{})},computeEventStartResize:function(c,a,b){return this.computeEventResize("start",c,a,b)},computeEventEndResize:function(c,a,b){return this.computeEventResize("end",c,a,b)},computeEventResize:function(d,e,f,c){var a=this.view.calendar;var g=this.diffDates(f[d],e[d]);var h;var b;h={start:c.start.clone(),end:a.getEventEnd(c),allDay:c.allDay};if(h.allDay&&cm(g)){h.allDay=false;a.normalizeEventTimes(h)}h[d].add(g);if(!h.start.isBefore(h.end)){b=this.minResizeDuration||(c.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration);if(d=="start"){h.start=h.end.clone().subtract(b)}else{h.end=h.start.clone().add(b)}}return h},renderEventResize:function(a,b){},unrenderEventResize:function(){},getEventTimeText:function(b,c,a){if(c==null){c=this.eventTimeFormat}if(a==null){a=this.displayEventEnd}if(this.displayEventTime&&b.start.hasTime()){if(a&&b.end){return this.view.formatRange(b,c)}else{return b.start.format(c)}}return""},getSegClasses:function(d,b,f){var e=this.view;var a=d.event;var c=["fc-event",d.isStart?"fc-start":"fc-not-start",d.isEnd?"fc-end":"fc-not-end"].concat(a.className,a.source?a.source.className:[]);if(b){c.push("fc-draggable")}if(f){c.push("fc-resizable")}if(e.isEventSelected(a)){c.push("fc-selected")}return c},getSegSkinCss:function(d){var a=d.event;var e=this.view;var g=a.source||{};var c=a.color;var f=g.color;var b=e.opt("eventColor");return{"background-color":a.backgroundColor||c||g.backgroundColor||f||e.opt("eventBackgroundColor")||b,"border-color":a.borderColor||c||g.borderColor||f||e.opt("eventBorderColor")||b,color:a.textColor||g.textColor||e.opt("eventTextColor")}},eventToSegs:function(a){return this.eventsToSegs([a])},eventToSpan:function(a){return this.eventToSpans(a)[0]},eventToSpans:function(a){var b=this.eventToRange(a);return this.eventRangeToSpans(b,a)},eventsToSegs:function(d,a){var b=this;var c=dH(d);var e=[];cp.each(c,function(f,g){var i=[];var h;for(h=0;h<g.length;h++){i.push(b.eventToRange(g[h]))}if(cT(g[0])){i=b.invertRanges(i);for(h=0;h<i.length;h++){e.push.apply(e,b.eventRangeToSegs(i[h],g[0],a))}}else{for(h=0;h<i.length;h++){e.push.apply(e,b.eventRangeToSegs(i[h],g[h],a))}}});return e},eventToRange:function(a){return{start:a.start.clone().stripZone(),end:(a.end?a.end.clone():this.view.calendar.getDefaultEventEnd(a.allDay!=null?a.allDay:!a.start.hasTime(),a.start)).stripZone()}},eventRangeToSegs:function(d,a,f){var b=this.eventRangeToSpans(d,a);var e=[];var c;for(c=0;c<b.length;c++){e.push.apply(e,this.eventSpanToSegs(b[c],a,f))}return e},eventRangeToSpans:function(b,a){return[cp.extend({},b)]},eventSpanToSegs:function(b,a,f){var d=f?f(b):this.spanToSegs(b);var c,e;for(c=0;c<d.length;c++){e=d[c];e.event=a;e.eventStartMS=+b.start;e.eventDurationMS=b.end-b.start}return d},invertRanges:function(d){var e=this.view;var f=e.start.clone();var a=e.end.clone();var h=[];var g=f;var b,c;d.sort(b7);for(b=0;b<d.length;b++){c=d[b];if(c.start>g){h.push({start:g,end:c.start})}g=c.end}if(g<a){h.push({start:g,end:a})}return h},sortEventSegs:function(a){a.sort(c5(this,"compareEventSegs"))},compareEventSegs:function(a,b){return a.eventStartMS-b.eventStartMS||b.eventDurationMS-a.eventDurationMS||b.event.allDay-a.event.allDay||cX(a.event,b.event,this.view.eventOrderSpecs)}});function cw(a){var b=dZ(a);return b==="background"||b==="inverse-background"}bT.isBgEvent=cw;function cT(a){return dZ(a)==="inverse-background"}function dZ(a){return cy((a.source||{}).rendering,a.rendering)}function dH(c){var b={};var d,a;for(d=0;d<c.length;d++){a=c[d];(b[a._id]||(b[a._id]=[])).push(a)}return b}function b7(a,b){return a.start-b.start}bT.dataAttrPrefix="";function cO(c){var a=bT.dataAttrPrefix;var b;var d;var f;var e;if(a){a+="-"}b=c.data(a+"event")||null;if(b){if(typeof b==="object"){b=cp.extend({},b)}else{b={}}d=b.start;if(d==null){d=b.time}f=b.duration;e=b.stick;delete b.start;delete b.time;delete b.duration;delete b.stick}if(d==null){d=c.data(a+"start")}if(d==null){d=c.data(a+"time")}if(f==null){f=c.data(a+"duration")}if(e==null){e=c.data(a+"stick")}d=d!=null?bJ.duration(d):null;f=f!=null?bJ.duration(f):null;e=Boolean(e);return{eventProps:b,startTime:d,duration:f,stick:e}}var dE=bT.DayTableMixin={breakOnWeeks:false,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){var d=this.view;var a=this.start.clone();var h=-1;var e=[];var f=[];var b;var c;var g;while(a.isBefore(this.end)){if(d.isHiddenDay(a)){e.push(h+0.5)}else{h++;e.push(h);f.push(a.clone())}a.add(1,"days")}if(this.breakOnWeeks){c=f[0].day();for(b=1;b<f.length;b++){if(f[b].day()==c){break}}g=Math.ceil(f.length/b)}else{g=1;b=f.length}this.dayDates=f;this.dayIndices=e;this.daysPerRow=b;this.rowCnt=g;this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt();this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(a,b){return this.dayDates[this.getCellDayIndex(a,b)].clone()},getCellRange:function(b,c){var a=this.getCellDate(b,c);var d=a.clone().add(1,"days");return{start:a,end:d}},getCellDayIndex:function(a,b){return a*this.daysPerRow+this.getColDayIndex(b)},getColDayIndex:function(a){if(this.isRTL){return this.colCnt-1-a}else{return a}},getDateDayIndex:function(a){var c=this.dayIndices;var b=a.diff(this.start,"days");if(b<0){return c[0]-1}else{if(b>=c.length){return c[c.length-1]+1}else{return c[b]}}},computeColHeadFormat:function(){if(this.rowCnt>1||this.colCnt>10){return"ddd"}else{if(this.colCnt>1){return this.view.opt("dayOfMonthFormat")}else{return"dddd"}}},sliceRangeByRow:function(h){var c=this.daysPerRow;var i=this.view.computeDayRange(h);var j=this.getDateDayIndex(i.start);var f=this.getDateDayIndex(i.end.clone().subtract(1,"days"));var k=[];var a;var e,d;var b,g;for(a=0;a<this.rowCnt;a++){e=a*c;d=e+c-1;b=Math.max(j,e);g=Math.min(f,d);b=Math.ceil(b);g=Math.floor(g);if(b<=g){k.push({row:a,firstRowDayIndex:b-e,lastRowDayIndex:g-e,isStart:b===j,isEnd:g===f})}}return k},sliceRangeByDay:function(h){var c=this.daysPerRow;var i=this.view.computeDayRange(h);var k=this.getDateDayIndex(i.start);var f=this.getDateDayIndex(i.end.clone().subtract(1,"days"));var l=[];var a;var e,d;var j;var b,g;for(a=0;a<this.rowCnt;a++){e=a*c;d=e+c-1;for(j=e;j<=d;j++){b=Math.max(k,j);g=Math.min(f,j);b=Math.ceil(b);g=Math.floor(g);if(b<=g){l.push({row:a,firstRowDayIndex:b-e,lastRowDayIndex:g-e,isStart:b===k,isEnd:g===f})}}}return l},renderHeadHtml:function(){var a=this.view;return'<div class="fc-row '+a.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var a=[];var b,c;for(b=0;b<this.colCnt;b++){c=this.getCellDate(0,b);a.push(this.renderHeadDateCellHtml(c))}return a.join("")},renderHeadDateCellHtml:function(b,a,d){var c=this.view;return'<th class="fc-day-header '+c.widgetHeaderClass+" fc-"+dN[b.day()]+'"'+(this.rowCnt==1?' data-date="'+b.format("YYYY-MM-DD")+'"':"")+(a>1?' colspan="'+a+'"':"")+(d?" "+d:"")+">"+dS(b.format(this.colHeadFormat))+"</th>"},renderBgTrHtml:function(a){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(a))+this.renderBgCellsHtml(a)+(this.isRTL?this.renderBgIntroHtml(a):"")+"</tr>"},renderBgIntroHtml:function(a){return this.renderIntroHtml()},renderBgCellsHtml:function(a){var b=[];var c,d;for(c=0;c<this.colCnt;c++){d=this.getCellDate(a,c);b.push(this.renderBgCellHtml(d))}return b.join("")},renderBgCellHtml:function(b,d){var c=this.view;var a=this.getDayClasses(b);a.unshift("fc-day",c.widgetContentClass);return'<td class="'+a.join(" ")+'" data-date="'+b.format("YYYY-MM-DD")+'"'+(d?" "+d:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(a){var b=this.renderIntroHtml();if(b){if(this.isRTL){a.append(b)}else{a.prepend(b)}}}};var cj=bT.DayGrid=dX.extend(dE,{numbersVisible:false,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(d){var e=this.view;var f=this.rowCnt;var b=this.colCnt;var a="";var g;var c;for(g=0;g<f;g++){a+=this.renderDayRowHtml(g,d)}this.el.html(a);this.rowEls=this.el.find(".fc-row");this.cellEls=this.el.find(".fc-day");this.rowCoordCache=new dn({els:this.rowEls,isVertical:true});this.colCoordCache=new dn({els:this.cellEls.slice(0,this.colCnt),isHorizontal:true});for(g=0;g<f;g++){for(c=0;c<b;c++){e.trigger("dayRender",null,this.getCellDate(g,c),this.getCellEl(g,c))}}},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var a=this.view.calendar.getBusinessHoursEvents(true);var b=this.eventsToSegs(a);this.renderFill("businessHours",b,"bgevent")},renderDayRowHtml:function(a,c){var d=this.view;var b=["fc-row","fc-week",d.widgetContentClass];if(c){b.push("fc-rigid")}return'<div class="'+b.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(a)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(a)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(a){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(a))+this.renderNumberCellsHtml(a)+(this.isRTL?this.renderNumberIntroHtml(a):"")+"</tr>"},renderNumberIntroHtml:function(a){return this.renderIntroHtml()},renderNumberCellsHtml:function(a){var b=[];var c,d;for(c=0;c<this.colCnt;c++){d=this.getCellDate(a,c);b.push(this.renderNumberCellHtml(d))}return b.join("")},renderNumberCellHtml:function(b){var a;if(!this.view.dayNumbersVisible){return"<td/>"}a=this.getDayClasses(b);a.unshift("fc-day-number");return'<td class="'+a.join(" ")+'" data-date="'+b.format()+'">'+b.date()+"</td>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return this.colCnt==1},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(a){var c=this.sliceRangeByRow(a);var b,d;for(b=0;b<c.length;b++){d=c[b];if(this.isRTL){d.leftCol=this.daysPerRow-1-d.lastRowDayIndex;d.rightCol=this.daysPerRow-1-d.firstRowDayIndex}else{d.leftCol=d.firstRowDayIndex;d.rightCol=d.lastRowDayIndex}}return c},prepareHits:function(){this.colCoordCache.build();this.rowCoordCache.build();this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear();this.rowCoordCache.clear()},queryHit:function(b,c){var d=this.colCoordCache.getHorizontalIndex(b);var a=this.rowCoordCache.getVerticalIndex(c);if(a!=null&&d!=null){return this.getCellHit(a,d)}},getHitSpan:function(a){return this.getCellRange(a.row,a.col)},getHitEl:function(a){return this.getCellEl(a.row,a.col)},getCellHit:function(a,b){return{row:a,col:b,component:this,left:this.colCoordCache.getLeftOffset(b),right:this.colCoordCache.getRightOffset(b),top:this.rowCoordCache.getTopOffset(a),bottom:this.rowCoordCache.getBottomOffset(a)}},getCellEl:function(a,b){return this.cellEls.eq(a*this.colCnt+b)},renderDrag:function(a,b){this.renderHighlight(this.eventToSpan(a));if(b&&!b.el.closest(this.el).length){return this.renderEventLocationHelper(a,b)}},unrenderDrag:function(){this.unrenderHighlight();this.unrenderHelper()},renderEventResize:function(a,b){this.renderHighlight(this.eventToSpan(a));return this.renderEventLocationHelper(a,b)},unrenderEventResize:function(){this.unrenderHighlight();this.unrenderHelper()},renderHelper:function(a,c){var e=[];var d=this.eventToSegs(a);var b;d=this.renderFgSegEls(d);b=this.renderSegRows(d);this.rowEls.each(function(f,h){var i=cp(h);var g=cp('<div class="fc-helper-skeleton"><table/></div>');var j;if(c&&c.row===f){j=c.el.position().top}else{j=i.find(".fc-content-skeleton tbody").position().top}g.css("top",j).find("table").append(b[f].tbodyEl);i.append(g);e.push(g[0])});return(this.helperEls=cp(e))},unrenderHelper:function(){if(this.helperEls){this.helperEls.remove();this.helperEls=null}},fillSegTag:"td",renderFill:function(g,d,a){var c=[];var b,e;var f;d=this.renderFillSegEls(g,d);for(b=0;b<d.length;b++){e=d[b];f=this.renderFillRow(g,e,a);this.rowEls.eq(e.row).append(f);c.push(f[0])}this.elsByFill[g]=cp(c);return d},renderFillRow:function(b,e,c){var d=this.colCnt;var g=e.leftCol;var h=e.rightCol+1;var f;var a;c=c||b.toLowerCase();f=cp('<div class="fc-'+c+'-skeleton"><table><tr/></table></div>');a=f.find("tr");if(g>0){a.append('<td colspan="'+g+'"/>')}a.append(e.el.attr("colspan",h-g));if(h<d){a.append('<td colspan="'+(d-h)+'"/>')}this.bookendCells(a);return f}});cj.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover();dX.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return dX.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(b){var a=cp.grep(b,function(c){return c.event.allDay});return dX.prototype.renderBgSegs.call(this,a)},renderFgSegs:function(b){var a;b=this.renderFgSegEls(b);a=this.rowStructs=this.renderSegRows(b);this.rowEls.each(function(d,c){cp(c).find(".fc-content-skeleton > table").append(a[d].tbodyEl)});return b},unrenderFgSegs:function(){var a=this.rowStructs||[];var b;while((b=a.pop())){b.tbodyEl.remove()}this.rowStructs=null},renderSegRows:function(c){var b=[];var d;var a;d=this.groupSegRows(c);for(a=0;a<d.length;a++){b.push(this.renderSegRow(a,d[a]))}return b},fgSegHtml:function(e,j){var b=this.view;var k=e.event;var l=b.isEventDraggable(k);var g=!j&&k.allDay&&e.isStart&&b.isEventResizableFromStart(k);var h=!j&&k.allDay&&e.isEnd&&b.isEventResizableFromEnd(k);var f=this.getSegClasses(e,l,g||h);var a=cS(this.getSegSkinCss(e));var c="";var i;var d;f.unshift("fc-day-grid-event","fc-h-event");if(e.isStart){i=this.getEventTimeText(k);if(i){c='<span class="fc-time">'+dS(i)+"</span>"}}d='<span class="fc-title">'+(dS(k.title||"")||"&nbsp;")+"</span>";return'<a class="'+f.join(" ")+'"'+(k.url?' href="'+dS(k.url)+'"':"")+(a?' style="'+a+'"':"")+'><div class="fc-content">'+(this.isRTL?d+" "+c:c+" "+d)+"</div>"+(g?'<div class="fc-resizer fc-start-resizer" />':"")+(h?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(b,a){var d=this.colCnt;var h=this.buildSegLevels(a);var q=Math.max(1,h.length);var i=cp("<tbody/>");var m=[];var g=[];var o=[];var j,e;var p;var f;var k,l;var n;function c(r){while(p<r){n=(o[j-1]||[])[p];if(n){n.attr("rowspan",parseInt(n.attr("rowspan")||1,10)+1)}else{n=cp("<td/>");f.append(n)}g[j][p]=n;o[j][p]=n;p++}}for(j=0;j<q;j++){e=h[j];p=0;f=cp("<tr/>");m.push([]);g.push([]);o.push([]);if(e){for(k=0;k<e.length;k++){l=e[k];c(l.leftCol);n=cp('<td class="fc-event-container"/>').append(l.el);if(l.leftCol!=l.rightCol){n.attr("colspan",l.rightCol-l.leftCol+1)}else{o[j][p]=n}while(p<=l.rightCol){g[j][p]=n;m[j][p]=l;p++}f.append(n)}}c(d);this.bookendCells(f);i.append(f)}return{row:b,tbodyEl:i,cellMatrix:g,segMatrix:m,segLevels:h,segs:a}},buildSegLevels:function(d){var a=[];var b,e;var c;this.sortEventSegs(d);for(b=0;b<d.length;b++){e=d[b];for(c=0;c<a.length;c++){if(!c1(e,a[c])){break}}e.level=c;(a[c]||(a[c]=[])).push(e)}for(c=0;c<a.length;c++){a[c].sort(dT)}return a},groupSegRows:function(b){var c=[];var a;for(a=0;a<this.rowCnt;a++){c.push([])}for(a=0;a<b.length;a++){c[b[a].row].push(b[a])}return c}});function c1(d,a){var c,b;for(c=0;c<a.length;c++){b=a[c];if(b.leftCol<=d.rightCol&&b.rightCol>=d.leftCol){return true}}return false}function dT(a,b){return a.leftCol-b.leftCol}cj.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){if(this.segPopover){this.segPopover.hide()}},limitRows:function(b){var d=this.rowStructs||[];var a;var c;for(a=0;a<d.length;a++){this.unlimitRow(a);if(!b){c=false}else{if(typeof b==="number"){c=b}else{c=this.computeRowLevelLimit(a)}}if(c!==false){this.limitRow(a,c)}}},computeRowLevelLimit:function(f){var c=this.rowEls.eq(f);var g=c.height();var d=this.rowStructs[f].tbodyEl.children();var b,h;var e;function a(i,j){e=Math.max(e,cp(j).outerHeight())}for(b=0;b<d.length;b++){h=d.eq(b).removeClass("fc-limited");e=0;h.find("> td > :first-child").each(a);if(h.position().top+e>g){return b}}return false},limitRow:function(n,j){var h=this;var t=this.rowStructs[n];var o=[];var p=0;var v;var q;var c;var e,d;var a;var m;var u;var l,b;var r;var g;var s,f,i;function k(w){while(p<w){a=h.getCellSegs(n,p,j);if(a.length){l=q[j-1][p];i=h.renderMoreLink(n,p,a);f=cp("<div/>").append(i);l.append(f);o.push(f[0])}p++}}if(j&&j<t.segLevels.length){v=t.segLevels[j-1];q=t.cellMatrix;c=t.tbodyEl.children().slice(j).addClass("fc-limited").get();for(e=0;e<v.length;e++){d=v[e];k(d.leftCol);u=[];m=0;while(p<=d.rightCol){a=this.getCellSegs(n,p,j);u.push(a);m+=a.length;p++}if(m){l=q[j-1][d.leftCol];b=l.attr("rowspan")||1;r=[];for(g=0;g<u.length;g++){s=cp('<td class="fc-more-cell"/>').attr("rowspan",b);a=u[g];i=this.renderMoreLink(n,d.leftCol+g,[d].concat(a));f=cp("<div/>").append(i);s.append(f);r.push(s[0]);o.push(s[0])}l.addClass("fc-limited").after(cp(r));c.push(l[0])}}k(this.colCnt);t.moreEls=cp(o);t.limitedEls=cp(c)}},unlimitRow:function(a){var b=this.rowStructs[a];if(b.moreEls){b.moreEls.remove();b.moreEls=null}if(b.limitedEls){b.limitedEls.removeClass("fc-limited");b.limitedEls=null}},renderMoreLink:function(b,c,d){var a=this;var e=this.view;return cp('<a class="fc-more"/>').text(this.getMoreLinkText(d.length)).on("click",function(i){var f=e.opt("eventLimitClick");var l=a.getCellDate(b,c);var h=cp(this);var g=a.getCellEl(b,c);var m=a.getCellSegs(b,c);var k=a.resliceDaySegs(m,l);var j=a.resliceDaySegs(d,l);if(typeof f==="function"){f=e.trigger("eventLimitClick",null,{date:l,dayEl:g,moreEl:h,segs:k,hiddenSegs:j},i)}if(f==="popover"){a.showSegPopover(b,c,h,k)}else{if(typeof f==="string"){e.calendar.zoomTo(l,f)}}})},showSegPopover:function(a,g,c,i){var f=this;var d=this.view;var h=c.parent();var e;var b;if(this.rowCnt==1){e=d.el}else{e=this.rowEls.eq(a)}b={className:"fc-more-popover",content:this.renderSegPopoverContent(a,g,i),parentEl:this.el,top:e.offset().top,autoHide:true,viewportConstrain:d.opt("popoverViewportConstrain"),hide:function(){f.segPopover.removeElement();f.segPopover=null;f.popoverSegs=null}};if(this.isRTL){b.right=h.offset().left+h.outerWidth()+1}else{b.left=h.offset().left-1}this.segPopover=new dC(b);this.segPopover.show()},renderSegPopoverContent:function(a,h,i){var d=this.view;var g=d.opt("theme");var c=this.getCellDate(a,h).format(d.opt("dayPopoverFormat"));var e=cp('<div class="fc-header '+d.widgetHeaderClass+'"><span class="fc-close '+(g?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+dS(c)+'</span><div class="fc-clear"/></div><div class="fc-body '+d.widgetContentClass+'"><div class="fc-event-container"></div></div>');var b=e.find(".fc-event-container");var f;i=this.renderFgSegEls(i,true);this.popoverSegs=i;for(f=0;f<i.length;f++){this.prepareHits();i[f].hit=this.getCellHit(a,h);this.releaseHits();b.append(i[f].el)}return e},resliceDaySegs:function(c,e){var a=cp.map(c,function(g){return g.event});var d=e.clone();var f=d.clone().add(1,"days");var b={start:d,end:f};c=this.eventsToSegs(a,function(g){var h=b9(g,b);return h?[h]:[]});this.sortEventSegs(c);return c},getMoreLinkText:function(b){var a=this.view.opt("eventLimitText");if(typeof a==="function"){return a(b)}else{return"+"+b+" "+a}},getCellSegs:function(g,c,b){var a=this.rowStructs[g].segMatrix;var f=b||0;var d=[];var e;while(f<a.length){e=a[f][c];if(e){d.push(e)}f++}return d}});var b5=bT.TimeGrid=dX.extend(dE,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatContainerEl:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){dX.apply(this,arguments);this.processOptions()},renderDates:function(){this.el.html(this.renderHtml());this.colEls=this.el.find(".fc-day");this.slatContainerEl=this.el.find(".fc-slats");this.slatEls=this.slatContainerEl.find("tr");this.colCoordCache=new dn({els:this.colEls,isHorizontal:true});this.slatCoordCache=new dn({els:this.slatEls,isVertical:true});this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){var e=this.view;var a=this.isRTL;var b="";var g=bJ.duration(+this.minTime);var c;var d;var f;while(g<this.maxTime){c=this.start.clone().time(g);d=ci(c3(g,this.labelInterval));f='<td class="fc-axis fc-time '+e.widgetContentClass+'" '+e.axisStyleAttr()+">"+(d?"<span>"+dS(c.format(this.labelFormat))+"</span>":"")+"</td>";b+='<tr data-time="'+c.format("HH:mm:ss")+'"'+(d?"":' class="fc-minor"')+">"+(!a?f:"")+'<td class="'+e.widgetContentClass+'"/>'+(a?f:"")+"</tr>";g.add(this.slotDuration)}return b},processOptions:function(){var d=this.view;var a=d.opt("slotDuration");var b=d.opt("snapDuration");var c;a=bJ.duration(a);b=b?bJ.duration(b):a;this.slotDuration=a;this.snapDuration=b;this.snapsPerSlot=a/b;this.minResizeDuration=b;this.minTime=bJ.duration(d.opt("minTime"));this.maxTime=bJ.duration(d.opt("maxTime"));c=d.opt("slotLabelFormat");if(cp.isArray(c)){c=c[c.length-1]}this.labelFormat=c||d.opt("axisFormat")||d.opt("smallTimeFormat");c=d.opt("slotLabelInterval");this.labelInterval=c?bJ.duration(c):this.computeLabelInterval(a)},computeLabelInterval:function(b){var c;var d;var a;for(c=dB.length-1;c>=0;c--){d=bJ.duration(dB[c]);a=c3(d,b);if(ci(a)&&a>1){return d}}return bJ.duration(b)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return true},prepareHits:function(){this.colCoordCache.build();this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(m,g){var j=this.snapsPerSlot;var d=this.colCoordCache;var n=this.slatCoordCache;var b=d.getHorizontalIndex(m);var a=n.getVerticalIndex(g);if(b!=null&&a!=null){var c=n.getTopOffset(a);var f=n.getHeight(a);var e=(g-c)/f;var l=Math.floor(e*j);var h=a*j+l;var i=c+(l/j)*f;var k=c+((l+1)/j)*f;return{col:b,snap:h,component:this,left:d.getLeftOffset(b),right:d.getRightOffset(b),top:i,bottom:k}}},getHitSpan:function(c){var a=this.getCellDate(0,c.col);var b=this.computeSnapTime(c.snap);var d;a.time(b);d=a.clone().add(this.snapDuration);return{start:a,end:d}},getHitEl:function(a){return this.colEls.eq(a.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(a){return bJ.duration(this.minTime+this.snapDuration*a)},spanToSegs:function(a){var c=this.sliceRangeByTimes(a);var b;for(b=0;b<c.length;b++){if(this.isRTL){c[b].col=this.daysPerRow-1-c[b].dayIndex}else{c[b].col=c[b].dayIndex}}return c},sliceRangeByTimes:function(b){var c=[];var d;var f;var e;var a;for(f=0;f<this.daysPerRow;f++){e=this.dayDates[f].clone();a={start:e.clone().time(this.minTime),end:e.clone().time(this.maxTime)};d=b9(b,a);if(d){d.dayIndex=f;c.push(d)}}return c},updateSize:function(a){this.slatCoordCache.build();if(a){this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))}},getTotalSlatHeight:function(){return this.slatContainerEl.outerHeight()},computeDateTop:function(b,a){return this.computeTimeTop(bJ.duration(b-a.clone().stripTime()))},computeTimeTop:function(a){var e=this.slatEls.length;var b=(a-this.minTime)/this.slotDuration;var c;var d;b=Math.max(0,b);b=Math.min(e,b);c=Math.floor(b);c=Math.min(c,e-1);d=b-c;return this.slatCoordCache.getTopPosition(c)+this.slatCoordCache.getHeight(c)*d},renderDrag:function(a,b){if(b){return this.renderEventLocationHelper(a,b)}else{this.renderHighlight(this.eventToSpan(a))}},unrenderDrag:function(){this.unrenderHelper();this.unrenderHighlight()},renderEventResize:function(a,b){return this.renderEventLocationHelper(a,b)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(a,b){return this.renderHelperSegs(this.eventToSegs(a),b)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){var a=this.view.calendar.getBusinessHoursEvents();var b=this.eventsToSegs(a);this.renderBusinessSegs(b)},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(c){var e=this.spanToSegs({start:c,end:c});var a=this.computeDateTop(c,c);var d=[];var b;for(b=0;b<e.length;b++){d.push(cp('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",a).appendTo(this.colContainerEls.eq(e[b].col))[0])}if(e.length>0){d.push(cp('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",a).appendTo(this.el.find(".fc-content-skeleton"))[0])}this.nowIndicatorEls=cp(d)},unrenderNowIndicator:function(){if(this.nowIndicatorEls){this.nowIndicatorEls.remove();this.nowIndicatorEls=null}},renderSelection:function(a){if(this.view.opt("selectHelper")){this.renderEventLocationHelper(a)}else{this.renderHighlight(a)}},unrenderSelection:function(){this.unrenderHelper();this.unrenderHighlight()},renderHighlight:function(a){this.renderHighlightSegs(this.spanToSegs(a))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});b5.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var a="";var c;var b;for(c=0;c<this.colCnt;c++){a+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>'}b=cp('<div class="fc-content-skeleton"><table><tr>'+a+"</tr></table></div>");this.colContainerEls=b.find(".fc-content-col");this.helperContainerEls=b.find(".fc-helper-container");this.fgContainerEls=b.find(".fc-event-container:not(.fc-helper-container)");this.bgContainerEls=b.find(".fc-bgevent-container");this.highlightContainerEls=b.find(".fc-highlight-container");this.businessContainerEls=b.find(".fc-business-container");this.bookendCells(b.find("tr"));this.el.append(b)},renderFgSegs:function(a){a=this.renderFgSegsIntoContainers(a,this.fgContainerEls);this.fgSegs=a;return a},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(d,b){var f=[];var a,e;var c;d=this.renderFgSegsIntoContainers(d,this.helperContainerEls);for(a=0;a<d.length;a++){e=d[a];if(b&&b.col===e.col){c=b.el;e.el.css({left:c.css("left"),right:c.css("right"),"margin-left":c.css("margin-left"),"margin-right":c.css("margin-right")})}f.push(e.el[0])}this.helperSegs=d;return cp(f)},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(a){a=this.renderFillSegEls("bgEvent",a);this.updateSegVerticals(a);this.attachSegsByCol(this.groupSegsByCol(a),this.bgContainerEls);this.bgSegs=a;return a},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(a){a=this.renderFillSegEls("highlight",a);this.updateSegVerticals(a);this.attachSegsByCol(this.groupSegsByCol(a),this.highlightContainerEls);this.highlightSegs=a},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(a){a=this.renderFillSegEls("businessHours",a);this.updateSegVerticals(a);this.attachSegsByCol(this.groupSegsByCol(a),this.businessContainerEls);this.businessSegs=a},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(c){var a=[];var b;for(b=0;b<this.colCnt;b++){a.push([])}for(b=0;b<c.length;b++){a[c[b].col].push(c[b])}return a},attachSegsByCol:function(a,b){var d;var e;var c;for(d=0;d<this.colCnt;d++){e=a[d];for(c=0;c<e.length;c++){b.eq(d).append(e[c].el)}}},unrenderNamedSegs:function(a){var c=this[a];var b;if(c){for(b=0;b<c.length;b++){c[b].el.remove()}this[a]=null}},renderFgSegsIntoContainers:function(d,b){var a;var c;d=this.renderFgSegEls(d);a=this.groupSegsByCol(d);for(c=0;c<this.colCnt;c++){this.updateFgSegCoords(a[c])}this.attachSegsByCol(a,b);return d},fgSegHtml:function(d,j){var b=this.view;var k=d.event;var l=b.isEventDraggable(k);var f=!j&&d.isStart&&b.isEventResizableFromStart(k);var g=!j&&d.isEnd&&b.isEventResizableFromEnd(k);var e=this.getSegClasses(d,l,f||g);var a=cS(this.getSegSkinCss(d));var h;var c;var i;e.unshift("fc-time-grid-event","fc-v-event");if(b.isMultiDayEvent(k)){if(d.isStart||d.isEnd){h=this.getEventTimeText(d);c=this.getEventTimeText(d,"LT");i=this.getEventTimeText(d,null,false)}}else{h=this.getEventTimeText(k);c=this.getEventTimeText(k,"LT");i=this.getEventTimeText(k,null,false)}return'<a class="'+e.join(" ")+'"'+(k.url?' href="'+dS(k.url)+'"':"")+(a?' style="'+a+'"':"")+'><div class="fc-content">'+(h?'<div class="fc-time" data-start="'+dS(i)+'" data-full="'+dS(c)+'"><span>'+dS(h)+"</span></div>":"")+(k.title?'<div class="fc-title">'+dS(k.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(g?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(a){this.computeSegVerticals(a);this.assignSegVerticals(a)},computeSegVerticals:function(b){var a,c;for(a=0;a<b.length;a++){c=b[a];c.top=this.computeDateTop(c.start,c.start);c.bottom=this.computeDateTop(c.end,c.start)}},assignSegVerticals:function(b){var a,c;for(a=0;a<b.length;a++){c=b[a];c.el.css(this.generateSegVerticalCss(c))}},generateSegVerticalCss:function(a){return{top:a.top,bottom:-a.bottom}},updateFgSegCoords:function(a){this.computeSegVerticals(a);this.computeFgSegHorizontals(a);this.assignSegVerticals(a);this.assignFgSegHorizontals(a)},computeFgSegHorizontals:function(d){var b;var a;var c;this.sortEventSegs(d);b=cK(d);cc(b);if((a=b[0])){for(c=0;c<a.length;c++){bZ(a[c])}for(c=0;c<a.length;c++){this.computeFgSegForwardBack(a[c],0,0)}}},computeFgSegForwardBack:function(d,b,a){var e=d.forwardSegs;var c;if(d.forwardCoord===undefined){if(!e.length){d.forwardCoord=1}else{this.sortForwardSegs(e);this.computeFgSegForwardBack(e[0],b+1,a);d.forwardCoord=e[0].backwardCoord}d.backwardCoord=d.forwardCoord-(d.forwardCoord-a)/(b+1);for(c=0;c<e.length;c++){this.computeFgSegForwardBack(e[c],0,d.forwardCoord)}}},sortForwardSegs:function(a){a.sort(c5(this,"compareForwardSegs"))},compareForwardSegs:function(a,b){return b.forwardPressure-a.forwardPressure||(a.backwardCoord||0)-(b.backwardCoord||0)||this.compareEventSegs(a,b)},assignFgSegHorizontals:function(b){var a,c;for(a=0;a<b.length;a++){c=b[a];c.el.css(this.generateFgSegHorizontalCss(c));if(c.bottom-c.top<30){c.el.addClass("fc-short")}}},generateFgSegHorizontalCss:function(e){var b=this.view.opt("slotEventOverlap");var d=e.backwardCoord;var c=e.forwardCoord;var g=this.generateSegVerticalCss(e);var f;var a;if(b){c=Math.min(1,d+(c-d)*2)}if(this.isRTL){f=1-c;a=d}else{f=d;a=1-c}g.zIndex=e.level+1;g.left=f*100+"%";g.right=a*100+"%";if(b&&e.forwardPressure){g[this.isRTL?"marginLeft":"marginRight"]=10*2}return g}});function cK(d){var a=[];var b,e;var c;for(b=0;b<d.length;b++){e=d[b];for(c=0;c<a.length;c++){if(!ct(e,a[c]).length){break}}e.level=c;(a[c]||(a[c]=[])).push(e)}return a}function cc(a){var b,f;var c,e;var d;for(b=0;b<a.length;b++){f=a[b];for(c=0;c<f.length;c++){e=f[c];e.forwardSegs=[];for(d=b+1;d<a.length;d++){ct(e,a[d],e.forwardSegs)}}}}function bZ(d){var e=d.forwardSegs;var a=0;var b,c;if(d.forwardPressure===undefined){for(b=0;b<e.length;b++){c=e[b];bZ(c);a=Math.max(a,1+c.forwardPressure)}d.forwardPressure=a}}function ct(d,a,b){b=b||[];for(var c=0;c<a.length;c++){if(bN(d,a[c])){b.push(a[c])}}return b}function bN(a,b){return a.bottom>b.top&&a.top<b.bottom}var dJ=bT.View=dd.extend(bU,dk,{type:null,name:null,title:null,calendar:null,options:null,el:null,displaying:null,isSkeletonRendered:false,isEventsRendered:false,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:false,isSelected:false,selectedEvent:null,eventOrderSpecs:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(a,b,d,c){this.calendar=a;this.type=this.name=b;this.options=d;this.intervalDuration=c||bJ.duration(1,"day");this.nextDayThreshold=bJ.duration(this.opt("nextDayThreshold"));this.initThemingProps();this.initHiddenDays();this.isRTL=this.opt("isRTL");this.eventOrderSpecs=c6(this.opt("eventOrder"));this.initialize()},initialize:function(){},opt:function(a){return this.options[a]},trigger:function(c,a){var b=this.calendar;return b.trigger.apply(b,[c,a||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(a){this.setRange(this.computeRange(a))},setRange:function(a){cp.extend(this,a);this.updateTitle()},computeRange:function(c){var f=c9(this.intervalDuration);var b=c.clone().startOf(f);var d=b.clone().add(this.intervalDuration);var a,e;if(/year|month|week|day/.test(f)){b.stripTime();d.stripTime()}else{if(!b.hasTime()){b=this.calendar.time(0)}if(!d.hasTime()){d=this.calendar.time(0)}}a=b.clone();a=this.skipHiddenDays(a);e=d.clone();e=this.skipHiddenDays(e,-1,true);return{intervalUnit:f,intervalStart:b,intervalEnd:d,start:a,end:e}},computePrevDate:function(a){return this.massageCurrentDate(a.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(a){return this.massageCurrentDate(a.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(b,a){if(this.intervalDuration.as("days")<=1){if(this.isHiddenDay(b)){b=this.skipHiddenDays(b,a);b.startOf("day")}}return b},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){if(this.intervalUnit=="year"){return"YYYY"}else{if(this.intervalUnit=="month"){return this.opt("monthYearFormat")}else{if(this.intervalDuration.as("days")>1){return"ll"}else{return"LL"}}}},formatRange:function(b,c,a){var d=b.end;if(!d.hasTime()){d=d.clone().subtract(1)}return cJ(b.start,d,c,a,this.opt("isRTL"))},setElement:function(a){this.el=a;this.bindGlobalHandlers()},removeElement:function(){this.clear();if(this.isSkeletonRendered){this.unrenderSkeleton();this.isSkeletonRendered=false}this.unbindGlobalHandlers();this.el.remove()},display:function(c){var a=this;var b=null;if(this.displaying){b=this.queryScroll()}this.calendar.freezeContentHeight();return this.clear().then(function(){return(a.displaying=cp.when(a.displayView(c)).then(function(){a.forceScroll(a.computeInitialScroll(b));a.calendar.unfreezeContentHeight();a.triggerRender()}))})},clear:function(){var a=this;var b=this.displaying;if(b){return b.then(function(){a.displaying=null;a.clearEvents();return a.clearView()})}else{return cp.when()}},displayView:function(a){if(!this.isSkeletonRendered){this.renderSkeleton();this.isSkeletonRendered=true}if(a){this.setDate(a)}if(this.render){this.render()}this.renderDates();this.updateSize();this.renderBusinessHours();this.startNowIndicator()},clearView:function(){this.unselect();this.stopNowIndicator();this.triggerUnrender();this.unrenderBusinessHours();this.unrenderDates();if(this.destroy){this.destroy()}},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){this.listenTo(cp(document),"mousedown",this.handleDocumentMousedown);this.listenTo(cp(document),"touchstart",this.handleDocumentTouchStart);this.listenTo(cp(document),"touchend",this.handleDocumentTouchEnd)},unbindGlobalHandlers:function(){this.stopListeningTo(cp(document))},initThemingProps:function(){var a=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=a+"-widget-header";this.widgetContentClass=a+"-widget-content";this.highlightStateClass=a+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var a=this;var c;var b;var d;if(this.opt("nowIndicator")){c=this.getNowIndicatorUnit();if(c){b=c5(this,"updateNowIndicator");this.initialNowDate=this.calendar.getNow();this.initialNowQueriedMs=+new Date();this.renderNowIndicator(this.initialNowDate);this.isNowIndicatorRendered=true;d=this.initialNowDate.clone().startOf(c).add(1,c)-this.initialNowDate;this.nowIndicatorTimeoutID=setTimeout(function(){a.nowIndicatorTimeoutID=null;b();d=+bJ.duration(1,c);d=Math.max(100,d);a.nowIndicatorIntervalID=setInterval(b,d)},d)}}},updateNowIndicator:function(){if(this.isNowIndicatorRendered){this.unrenderNowIndicator();this.renderNowIndicator(this.initialNowDate.clone().add(new Date()-this.initialNowQueriedMs))}},stopNowIndicator:function(){if(this.isNowIndicatorRendered){if(this.nowIndicatorTimeoutID){clearTimeout(this.nowIndicatorTimeoutID);this.nowIndicatorTimeoutID=null}if(this.nowIndicatorIntervalID){clearTimeout(this.nowIndicatorIntervalID);this.nowIndicatorIntervalID=null}this.unrenderNowIndicator();this.isNowIndicatorRendered=false}},getNowIndicatorUnit:function(){},renderNowIndicator:function(a){},unrenderNowIndicator:function(){},updateSize:function(b){var a;if(b){a=this.queryScroll()}this.updateHeight(b);this.updateWidth(b);this.updateNowIndicator();if(b){this.setScroll(a)}},updateWidth:function(a){},updateHeight:function(b){var a=this.calendar;this.setHeight(a.getSuggestedViewHeight(),a.isHeightAuto())},setHeight:function(a,b){},computeInitialScroll:function(a){return 0},queryScroll:function(){},setScroll:function(a){},forceScroll:function(b){var a=this;this.setScroll(b);setTimeout(function(){a.setScroll(b)},0)},displayEvents:function(b){var a=this.queryScroll();this.clearEvents();this.renderEvents(b);this.isEventsRendered=true;this.setScroll(a);this.triggerEventRender()},clearEvents:function(){var a;if(this.isEventsRendered){a=this.queryScroll();this.triggerEventUnrender();if(this.destroyEvents){this.destroyEvents()}this.unrenderEvents();this.setScroll(a);this.isEventsRendered=false}},renderEvents:function(a){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(a){this.trigger("eventAfterRender",a.event,a.event,a.el)});this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(a){this.trigger("eventDestroy",a.event,a.event,a.el)})},resolveEventEl:function(b,c){var a=this.trigger("eventRender",b,b,c);if(a===false){c=null}else{if(a&&a!==true){c=cp(a)}}return c},showEvent:function(a){this.renderedEventSegEach(function(b){b.el.css("visibility","")},a)},hideEvent:function(a){this.renderedEventSegEach(function(b){b.el.css("visibility","hidden")},a)},renderedEventSegEach:function(a,b){var d=this.getEventSegs();var c;for(c=0;c<d.length;c++){if(!b||d[c].event._id===b._id){if(d[c].el){a.call(this,d[c])}}}},getEventSegs:function(){return[]},isEventDraggable:function(b){var a=b.source||{};return cy(b.startEditable,a.startEditable,this.opt("eventStartEditable"),b.editable,a.editable,this.opt("editable"))},reportEventDrop:function(h,a,c,d,b){var f=this.calendar;var g=f.mutateEvent(h,a,c);var e=function(){g.undo();f.reportEventChange()};this.triggerEventDrop(h,g.dateDelta,e,d,b);f.reportEventChange()},triggerEventDrop:function(b,a,e,d,c){this.trigger("eventDrop",d[0],b,a,e,c,{})},reportExternalDrop:function(f,a,d,b,g){var h=f.eventProps;var e;var c;if(h){e=cp.extend({},h,a);c=this.calendar.renderEvent(e,f.stick)[0]}this.triggerExternalDrop(c,a,d,b,g)},triggerExternalDrop:function(b,c,e,d,a){this.trigger("drop",e[0],c.start,d,a);if(b){this.trigger("eventReceive",null,b)}},renderDrag:function(a,b){},unrenderDrag:function(){},isEventResizableFromStart:function(a){return this.opt("eventResizableFromStart")&&this.isEventResizable(a)},isEventResizableFromEnd:function(a){return this.isEventResizable(a)},isEventResizable:function(b){var a=b.source||{};return cy(b.durationEditable,a.durationEditable,this.opt("eventDurationEditable"),b.editable,a.editable,this.opt("editable"))},reportEventResize:function(a,f,c,d,b){var g=this.calendar;var h=g.mutateEvent(a,f,c);var e=function(){h.undo();g.reportEventChange()};this.triggerEventResize(a,h.durationDelta,e,d,b);g.reportEventChange()},triggerEventResize:function(a,d,e,c,b){this.trigger("eventResize",c[0],a,d,e,b,{})},select:function(b,a){this.unselect(a);this.renderSelection(b);this.reportSelection(b,a)},renderSelection:function(a){},reportSelection:function(b,a){this.isSelected=true;this.triggerSelect(b,a)},triggerSelect:function(b,a){this.trigger("select",null,this.calendar.applyTimezone(b.start),this.calendar.applyTimezone(b.end),a)},unselect:function(a){if(this.isSelected){this.isSelected=false;if(this.destroySelection){this.destroySelection()}this.unrenderSelection();this.trigger("unselect",null,a)}},unrenderSelection:function(){},selectEvent:function(a){if(!this.selectedEvent||this.selectedEvent!==a){this.unselectEvent();this.renderedEventSegEach(function(b){b.el.addClass("fc-selected")},a);this.selectedEvent=a}},unselectEvent:function(){if(this.selectedEvent){this.renderedEventSegEach(function(a){a.el.removeClass("fc-selected")},this.selectedEvent);this.selectedEvent=null}},isEventSelected:function(a){return this.selectedEvent&&this.selectedEvent._id===a._id},handleDocumentMousedown:function(a){if(!this.calendar.isTouch&&dx(a)){this.processRangeUnselect(a);this.processEventUnselect(a)}},handleDocumentTouchStart:function(a){this.processRangeUnselect(a)},handleDocumentTouchEnd:function(a){this.processEventUnselect(a)},processRangeUnselect:function(b){var a;if(this.isSelected&&this.opt("unselectAuto")){a=this.opt("unselectCancel");if(!a||!cp(b.target).closest(a).length){this.unselect(b)}}},processEventUnselect:function(a){if(this.selectedEvent){if(!cp(a.target).closest(".fc-selected").length){this.unselectEvent()}}},triggerDayClick:function(c,a,b){this.trigger("dayClick",a,this.calendar.applyTimezone(c.start),b)},initHiddenDays:function(){var c=this.opt("hiddenDays")||[];var a=[];var d=0;var b;if(this.opt("weekends")===false){c.push(0,6)}for(b=0;b<7;b++){if(!(a[b]=cp.inArray(b,c)!==-1)){d++}}if(!d){throw"invalid hiddenDays"}this.isHiddenDayHash=a},isHiddenDay:function(a){if(bJ.isMoment(a)){a=a.day()}return this.isHiddenDayHash[a]},skipHiddenDays:function(b,a,d){var c=b.clone();a=a||1;while(this.isHiddenDayHash[(c.day()+(d?a:0)+7)%7]){c.add(a,"days")}return c},computeDayRange:function(d){var a=d.start.clone().stripTime();var e=d.end;var b=null;var c;if(e){b=e.clone().stripTime();c=+e.time();if(c&&c>=this.nextDayThreshold){b.add(1,"days")}}if(!e||b<=a){b=a.clone().add(1,"days")}return{start:a,end:b}},isMultiDayEvent:function(a){var b=this.computeDayRange(a);return b.end.diff(b.start,"days")>1}});var bI=bT.Scroller=dd.extend({el:null,scrollEl:null,overflowX:null,overflowY:null,constructor:function(a){a=a||{};this.overflowX=a.overflowX||a.overflow||"auto";this.overflowY=a.overflowY||a.overflow||"auto"},render:function(){this.el=this.renderEl();this.applyOverflow()},renderEl:function(){return(this.scrollEl=cp('<div class="fc-scroller"></div>'))},clear:function(){this.setHeight("auto");this.applyOverflow()},destroy:function(){this.el.remove()},applyOverflow:function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},lockOverflow:function(a){var b=this.overflowX;var c=this.overflowY;a=a||this.getScrollbarWidths();if(b==="auto"){b=(a.top||a.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth)?"scroll":"hidden"}if(c==="auto"){c=(a.left||a.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight)?"scroll":"hidden"}this.scrollEl.css({"overflow-x":b,"overflow-y":c})},setHeight:function(a){this.scrollEl.height(a)},getScrollTop:function(){return this.scrollEl.scrollTop()},setScrollTop:function(a){this.scrollEl.scrollTop(a)},getClientWidth:function(){return this.scrollEl[0].clientWidth},getClientHeight:function(){return this.scrollEl[0].clientHeight},getScrollbarWidths:function(){return cd(this.scrollEl)}});var bV=bT.Calendar=dd.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,isTouch:false,constructor:cW,initialize:function(){},initOptions:function(a){var b,e;var d,c;a=dz(a);b=a.lang;e=dO[b];if(!e){b=bV.defaults.lang;e=dO[b]||{}}d=cy(a.isRTL,e.isRTL,bV.defaults.isRTL);c=d?bV.rtlDefaults:{};this.dirDefaults=c;this.langDefaults=e;this.overrides=a;this.options=dI([bV.defaults,c,e,a]);dK(this.options);this.isTouch=this.options.isTouch!=null?this.options.isTouch:bT.isTouch;this.viewSpecCache={}},getViewSpec:function(b){var a=this.viewSpecCache;return a[b]||(a[b]=this.buildViewSpec(b))},getUnitViewSpec:function(a){var b;var c;var d;if(cp.inArray(a,dW)!=-1){b=this.header.getViewsWithButtons();cp.each(bT.views,function(e){b.push(e)});for(c=0;c<b.length;c++){d=this.getViewSpec(b[c]);if(d){if(d.singleUnit==a){return d}}}}},buildViewSpec:function(h){var e=this.overrides.views||{};var f=[];var a=[];var j=[];var g=h;var b;var c;var i;var d;while(g){b=cs[g];c=e[g];g=null;if(typeof b==="function"){b={"class":b}}if(b){f.unshift(b);a.unshift(b.defaults||{});i=i||b.duration;g=g||b.type}if(c){j.unshift(c);i=i||c.duration;g=g||c.type}}b=du(f);b.type=h;if(!b["class"]){return false}if(i){i=bJ.duration(i);if(i.valueOf()){b.duration=i;d=c9(i);if(i.as(d)===1){b.singleUnit=d;j.unshift(e[d]||{})}}}b.defaults=dI(a);b.overrides=dI(j);this.buildViewSpecOptions(b);this.buildViewSpecButtonText(b,h);return b},buildViewSpecOptions:function(a){a.options=dI([bV.defaults,a.defaults,this.dirDefaults,this.langDefaults,this.overrides,a.overrides]);dK(a.options)},buildViewSpecButtonText:function(b,a){function c(e){var d=e.buttonText||{};return d[a]||(b.singleUnit?d[b.singleUnit]:null)}b.buttonTextOverride=c(this.overrides)||b.overrides.buttonText;b.buttonTextDefault=c(this.langDefaults)||c(this.dirDefaults)||b.defaults.buttonText||c(bV.defaults)||(b.duration?this.humanizeDuration(b.duration):null)||a},instantiateView:function(b){var a=this.getViewSpec(b);return new a["class"](this,b,a.options,a.duration)},isValidViewType:function(a){return Boolean(this.getViewSpec(a))},pushLoading:function(){if(!(this.loadingLevel++)){this.trigger("loading",null,true,this.view)}},popLoading:function(){if(!(--this.loadingLevel)){this.trigger("loading",null,false,this.view)}},buildSelectSpan:function(c,b){var a=this.moment(c).stripZone();var d;if(b){d=this.moment(b).stripZone()}else{if(a.hasTime()){d=a.clone().add(this.defaultTimedEventDuration)}else{d=a.clone().add(this.defaultAllDayEventDuration)}}return{start:a,end:d}}});bV.mixin(bU);function cW(d,Q){var O=this;O.initOptions(Q||{});var H=this.options;O.render=aa;O.destroy=L;O.refetchEvents=h;O.reportEvents=f;O.reportEventChange=G;O.rerenderEvents=n;O.changeView=J;O.select=N;O.unselect=k;O.prev=v;O.next=r;O.prevYear=I;O.nextYear=t;O.today=c;O.gotoDate=ab;O.incrementDate=M;O.zoomTo=z;O.getDate=K;O.getCalendar=W;O.getView=y;O.option=T;O.trigger=ac;var Y=cA(cM(H.lang));if(H.monthNames){Y._months=H.monthNames}if(H.monthNamesShort){Y._monthsShort=H.monthNamesShort}if(H.dayNames){Y._weekdays=H.dayNames}if(H.dayNamesShort){Y._weekdaysShort=H.dayNamesShort}if(H.firstDay!=null){var s=cA(Y._week);s.dow=H.firstDay;Y._week=s}Y._fullCalendar_weekCalc=(function(ad){if(typeof ad==="function"){return ad}else{if(ad==="local"){return ad}else{if(ad==="iso"||ad==="ISO"){return"ISO"}}}})(H.weekNumberCalculation);O.defaultAllDayEventDuration=bJ.duration(H.defaultAllDayEventDuration);O.defaultTimedEventDuration=bJ.duration(H.defaultTimedEventDuration);O.moment=function(){var ad;if(H.timezone==="local"){ad=bT.moment.apply(null,arguments);if(ad.hasTime()){ad.local()}}else{if(H.timezone==="UTC"){ad=bT.moment.utc.apply(null,arguments)}else{ad=bT.moment.parseZone.apply(null,arguments)}}if("_locale" in ad){ad._locale=Y}else{ad._lang=Y}return ad};O.getIsAmbigTimezone=function(){return H.timezone!=="local"&&H.timezone!=="UTC"};O.applyTimezone=function(ag){if(!ag.hasTime()){return ag.clone()}var ae=O.moment(ag.toArray());var af=ag.time()-ae.time();var ad;if(af){ad=ae.clone().add(af);if(ag.time()-ad.time()===0){ae=ad}}return ae};O.getNow=function(){var ad=H.now;if(typeof ad==="function"){ad=ad()}return O.moment(ad).stripZone()};O.getEventEnd=function(ad){if(ad.end){return ad.end.clone()}else{return O.getDefaultEventEnd(ad.allDay,ad.start)}};O.getDefaultEventEnd=function(ae,ad){var af=ad.clone();if(ae){af.stripTime().add(O.defaultAllDayEventDuration)}else{af.add(O.defaultTimedEventDuration)}if(O.getIsAmbigTimezone()){af.stripZone()}return af};O.humanizeDuration=function(ad){return(ad.locale||ad.lang).call(ad,H.lang).humanize()};dP.call(O,H);var u=O.isFetchNeeded;var B=O.fetchEvents;var S=d[0];var p;var Z;var i;var x;var j;var P={};var m;var D;var R=0;var C=[];var F;if(H.defaultDate!=null){F=O.moment(H.defaultDate).stripZone()}else{F=O.getNow()}function aa(){if(!i){E()}else{if(U()){X();J()}}}function E(){x=H.theme?"ui":"fc";d.addClass("fc");d.addClass(O.isTouch?"fc-touch":"fc-cursor");if(H.isRTL){d.addClass("fc-rtl")}else{d.addClass("fc-ltr")}if(H.theme){d.addClass("ui-widget")}else{d.addClass("fc-unthemed")}i=cp("<div class='fc-view-container'/>").prependTo(d);p=O.header=new dM(O,H);Z=p.render();if(Z){d.prepend(Z)}J(H.defaultView);if(H.handleWindowResize){D=bF(g,H.windowResizeDelay);cp(window).resize(D)}}function L(){if(j){j.removeElement()}p.removeElement();i.remove();d.removeClass("fc fc-touch fc-cursor fc-ltr fc-rtl fc-unthemed ui-widget");if(D){cp(window).unbind("resize",D)}}function U(){return d.is(":visible")}function J(ad){R++;if(j&&ad&&j.type!==ad){p.deactivateButton(j.type);q();j.removeElement();j=O.view=null}if(!j&&ad){j=O.view=P[ad]||(P[ad]=O.instantiateView(ad));j.setElement(cp("<div class='fc-view fc-"+ad+"-view' />").appendTo(i));p.activateButton(ad)}if(j){F=j.massageCurrentDate(F);if(!j.displaying||!F.isWithin(j.intervalStart,j.intervalEnd)){if(U()){j.display(F);e();A();w();l()}}}e();R--}O.getSuggestedViewHeight=function(){if(m===undefined){X()}return m};O.isHeightAuto=function(){return H.contentHeight==="auto"||H.height==="auto"};function b(ad){if(U()){if(ad){o()}R++;j.updateSize(true);R--;return true}}function X(){if(U()){o()}}function o(){if(typeof H.contentHeight==="number"){m=H.contentHeight}else{if(typeof H.height==="number"){m=H.height-(Z?Z.outerHeight(true):0)}else{m=Math.round(i.width()/Math.max(H.aspectRatio,0.5))}}}function g(ad){if(!R&&ad.target===window&&j.start){if(b(true)){j.trigger("windowResize",S)}}}function h(){a();V()}function n(){if(U()){q();j.displayEvents(C);e()}}function a(){q();j.clearEvents();e()}function l(){if(!H.lazyFetching||u(j.start,j.end)){V()}else{n()}}function V(){B(j.start,j.end)}function f(ad){C=ad;n()}function G(){n()}function A(){p.updateTitle(j.title)}function w(){var ad=O.getNow();if(ad.isWithin(j.intervalStart,j.intervalEnd)){p.disableButton("today")}else{p.enableButton("today")}}function N(ae,ad){j.select(O.buildSelectSpan.apply(O,arguments))}function k(){if(j){j.unselect()}}function v(){F=j.computePrevDate(F);J()}function r(){F=j.computeNextDate(F);J()}function I(){F.add(-1,"years");J()}function t(){F.add(1,"years");J()}function c(){F=O.getNow();J()}function ab(ad){F=O.moment(ad).stripZone();J()}function M(ad){F.add(bJ.duration(ad));J()}function z(ae,af){var ad;af=af||"day";ad=O.getViewSpec(af)||O.getUnitViewSpec(af);F=ae.clone();J(ad?ad.type:null)}function K(){return O.applyTimezone(F)}O.freezeContentHeight=q;O.unfreezeContentHeight=e;function q(){i.css({width:"100%",height:i.height(),overflow:"hidden"})}function e(){i.css({width:"",height:"",overflow:""})}function W(){return O}function y(){return j}function T(ae,ad){if(ad===undefined){return H[ae]}if(ae=="height"||ae=="contentHeight"||ae=="aspectRatio"){H[ae]=ad;b(true)}}function ac(ae,ad){var af=Array.prototype.slice.call(arguments,2);ad=ad||S;this.triggerWith(ae,ad,af);if(H[ae]){return H[ae].apply(ad,af)}}O.initialize()}bV.defaults={titleRangeSeparator:" \u2014 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:false,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,weekNumbers:false,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:true,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:false,isRTL:false,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:false,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:0.75,dragRevertDuration:500,dragScroll:true,unselectAuto:true,dropAccept:"*",eventOrder:"title",eventLimit:false,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:true,windowResizeDelay:200,longPressDelay:1000};bV.englishDefaults={dayPopoverFormat:"dddd, MMMM D"};bV.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var dO=bT.langs={};bT.datepickerLang=function(a,c,b){var d=dO[a]||(dO[a]={});d.isRTL=b.isRTL;d.weekNumberTitle=b.weekHeader;cp.each(dR,function(e,f){d[e]=f(b)});if(cp.datepicker){cp.datepicker.regional[c]=cp.datepicker.regional[a]=b;cp.datepicker.regional.en=cp.datepicker.regional[""];cp.datepicker.setDefaults(b)}};bT.lang=function(a,b){var d;var c;d=dO[a]||(dO[a]={});if(b){d=dO[a]=dI([d,b])}c=cM(a);cp.each(bH,function(e,f){if(d[e]==null){d[e]=f(c,d)}});bV.defaults.lang=a};var dR={buttonText:function(a){return{prev:dU(a.prevText),next:dU(a.nextText),today:dU(a.currentText)}},monthYearFormat:function(a){return a.showMonthAfterYear?"YYYY["+a.yearSuffix+"] MMMM":"MMMM YYYY["+a.yearSuffix+"]"}};var bH={dayOfMonthFormat:function(b,c){var a=b.longDateFormat("l");a=a.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,"");if(c.isRTL){a+=" ddd"}else{a="ddd "+a}return a},mediumTimeFormat:function(a){return a.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(a){return a.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(a){return a.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(a){return a.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(a){return a.longDateFormat("LT").replace(/\s*a$/i,"")}};var cR={smallDayDateFormat:function(a){return a.isRTL?"D dd":"dd D"},weekFormat:function(a){return a.isRTL?"w[ "+a.weekNumberTitle+"]":"["+a.weekNumberTitle+" ]w"},smallWeekFormat:function(a){return a.isRTL?"w["+a.weekNumberTitle+"]":"["+a.weekNumberTitle+"]w"}};function dK(a){cp.each(cR,function(c,b){if(a[c]==null){a[c]=b(a)}})}function cM(a){var b=bJ.localeData||bJ.langData;return b.call(bJ,a)||b.call(bJ,"en")}bT.lang("en",bV.englishDefaults);function dM(j,a){var b=this;b.render=n;b.removeElement=g;b.updateTitle=i;b.activateButton=o;b.deactivateButton=d;b.disableButton=k;b.enableButton=h;b.getViewsWithButtons=l;var m=cp();var f=[];var e;function n(){var p=a.header;e=a.theme?"ui":"fc";if(p){m=cp("<div class='fc-toolbar'/>").append(c("left")).append(c("right")).append(c("center")).append('<div class="fc-clear"/>');return m}}function g(){m.remove();m=cp()}function c(p){var r=cp('<div class="fc-'+p+'"/>');var q=a.header[p];if(q){cp.each(q.split(" "),function(v){var u=cp();var t=true;var s;cp.each(this.split(","),function(D,w){var x;var A;var B;var y;var z;var G;var E;var H;var F;var C;if(w=="title"){u=u.add(cp("<h2>&nbsp;</h2>"));t=false}else{if((x=(j.options.customButtons||{})[w])){B=function(I){if(x.click){x.click.call(C[0],I)}};y="";z=x.text}else{if((A=j.getViewSpec(w))){B=function(){j.changeView(w)};f.push(w);y=A.buttonTextOverride;z=A.buttonTextDefault}else{if(j[w]){B=function(){j[w]()};y=(j.overrides.buttonText||{})[w];z=a.buttonText[w]}}}if(B){G=x?x.themeIcon:a.themeButtonIcons[w];E=x?x.icon:a.buttonIcons[w];if(y){H=dS(y)}else{if(G&&a.theme){H="<span class='ui-icon ui-icon-"+G+"'></span>"}else{if(E&&!a.theme){H="<span class='fc-icon fc-icon-"+E+"'></span>"}else{H=dS(z)}}}F=["fc-"+w+"-button",e+"-button",e+"-state-default"];C=cp('<button type="button" class="'+F.join(" ")+'">'+H+"</button>").click(function(I){if(!C.hasClass(e+"-state-disabled")){B(I);if(C.hasClass(e+"-state-active")||C.hasClass(e+"-state-disabled")){C.removeClass(e+"-state-hover")}}}).mousedown(function(){C.not("."+e+"-state-active").not("."+e+"-state-disabled").addClass(e+"-state-down")}).mouseup(function(){C.removeClass(e+"-state-down")}).hover(function(){C.not("."+e+"-state-active").not("."+e+"-state-disabled").addClass(e+"-state-hover")},function(){C.removeClass(e+"-state-hover").removeClass(e+"-state-down")});u=u.add(C)}}});if(t){u.first().addClass(e+"-corner-left").end().last().addClass(e+"-corner-right").end()}if(u.length>1){s=cp("<div/>");if(t){s.addClass("fc-button-group")}s.append(u);r.append(s)}else{r.append(u)}})}return r}function i(p){m.find("h2").text(p)}function o(p){m.find(".fc-"+p+"-button").addClass(e+"-state-active")}function d(p){m.find(".fc-"+p+"-button").removeClass(e+"-state-active")}function k(p){m.find(".fc-"+p+"-button").attr("disabled","disabled").addClass(e+"-state-disabled")}function h(p){m.find(".fc-"+p+"-button").removeAttr("disabled").removeClass(e+"-state-disabled")}function l(){return f}}bT.sourceNormalizers=[];bT.sourceFetchers=[];var cZ={dataType:"json",cache:false};var dA=1;function dP(B){var L=this;L.isFetchNeeded=u;L.fetchEvents=I;L.addEventSource=l;L.removeEventSource=q;L.updateEvent=w;L.renderEvent=c;L.removeEvents=K;L.clientEvents=j;L.mutateEvent=t;L.normalizeEventDates=A;L.normalizeEventTimes=m;var f=L.reportEvents;var o={events:[]};var v=[o];var i,e;var H=0;var E=0;var g=[];cp.each((B.events?[B.events]:[]).concat(B.eventSources||[]),function(Q,O){var P=D(O);if(P){v.push(P)}});function u(O,P){return !i||O<i||P>e}function I(S,Q){i=S;e=Q;g=[];var O=++H;var R=v.length;E=R;for(var P=0;P<R;P++){b(v[P],O)}}function b(O,P){n(O,function(S){var T=cp.isArray(O.events);var U,Q;var R;if(P==H){if(S){for(U=0;U<S.length;U++){Q=S[U];if(T){R=Q}else{R=p(Q,O)}if(R){g.push.apply(g,F(R))}}}E--;if(!E){f(g)}}})}function n(ac,R){var X;var T=bT.sourceFetchers;var V;for(X=0;X<T.length;X++){V=T[X].call(L,ac,i.clone(),e.clone(),B.timezone,R);if(V===true){return}else{if(typeof V=="object"){n(V,R);return}}}var P=ac.events;if(P){if(cp.isFunction(P)){L.pushLoading();P.call(L,i.clone(),e.clone(),B.timezone,function(ad){R(ad);L.popLoading()})}else{if(cp.isArray(P)){R(P)}else{R()}}}else{var ab=ac.url;if(ab){var Q=ac.success;var U=ac.error;var aa=ac.complete;var O;if(cp.isFunction(ac.data)){O=ac.data()}else{O=ac.data}var Y=cp.extend({},O||{});var W=cy(ac.startParam,B.startParam);var Z=cy(ac.endParam,B.endParam);var S=cy(ac.timezoneParam,B.timezoneParam);if(W){Y[W]=i.format()}if(Z){Y[Z]=e.format()}if(B.timezone&&B.timezone!="local"){Y[S]=B.timezone}L.pushLoading();cp.ajax(cp.extend({},cZ,ac,{data:Y,success:function(ad){ad=ad||[];var ae=bS(Q,this,arguments);if(cp.isArray(ae)){ad=ae}R(ad)},error:function(){bS(U,this,arguments);R()},complete:function(){bS(aa,this,arguments);L.popLoading()}}))}else{R()}}}function l(O){var P=D(O);if(P){v.push(P);E++;b(P,H)}}function D(O){var Q=bT.sourceNormalizers;var P;var R;if(cp.isFunction(O)||cp.isArray(O)){P={events:O}}else{if(typeof O==="string"){P={url:O}}else{if(typeof O==="object"){P=cp.extend({},O)}}}if(P){if(P.className){if(typeof P.className==="string"){P.className=P.className.split(/\s+/)}}else{P.className=[]}if(cp.isArray(P.events)){P.origArray=P.events;P.events=cp.map(P.events,function(S){return p(S,P)})}for(R=0;R<Q.length;R++){Q[R].call(L,P)}return P}}function q(O){v=cp.grep(v,function(P){return !M(P,O)});g=cp.grep(g,function(P){return !M(P.source,O)});f(g)}function M(O,P){return O&&P&&h(O)==h(P)}function h(O){return((typeof O==="object")?(O.origArray||O.googleCalendarId||O.url||O.events):null)||O}function w(O){O.start=L.moment(O.start);if(O.end){O.end=L.moment(O.end)}else{O.end=null}t(O,r(O));f(g)}function r(O){var P={};cp.each(O,function(R,Q){if(N(R)){if(Q!==undefined&&cz(Q)){P[R]=Q}}});return P}function N(O){return !/^_|^(id|allDay|start|end)$/.test(O)}function c(T,R){var Q=p(T);var O;var P,S;if(Q){O=F(Q);for(P=0;P<O.length;P++){S=O[P];if(!S.source){if(R){o.events.push(S);S.source=o}g.push(S)}}f(g);return O}return[]}function K(O){var P;var Q;if(O==null){O=function(){return true}}else{if(!cp.isFunction(O)){P=O+"";O=function(R){return R._id==P}}}g=cp.grep(g,O,true);for(Q=0;Q<v.length;Q++){if(cp.isArray(v[Q].events)){v[Q].events=cp.grep(v[Q].events,O,true)}}f(g)}function j(O){if(cp.isFunction(O)){return cp.grep(g,O)}else{if(O!=null){O+="";return cp.grep(g,function(P){return P._id==O})}}return g}function p(Q,T){var P={};var S,R;var O;if(B.eventDataTransform){Q=B.eventDataTransform(Q)}if(T&&T.eventDataTransform){Q=T.eventDataTransform(Q)}cp.extend(P,Q);if(T){P.source=T}P._id=Q._id||(Q.id===undefined?"_fc"+dA++:Q.id+"");if(Q.className){if(typeof Q.className=="string"){P.className=Q.className.split(/\s+/)}else{P.className=Q.className}}else{P.className=[]}S=Q.start||Q.date;R=Q.end;if(ck(S)){S=bJ.duration(S)}if(ck(R)){R=bJ.duration(R)}if(Q.dow||bJ.isDuration(S)||bJ.isDuration(R)){P.start=S?bJ.duration(S):null;P.end=R?bJ.duration(R):null;P._recurring=true}else{if(S){S=L.moment(S);if(!S.isValid()){return false}}if(R){R=L.moment(R);if(!R.isValid()){R=null}}O=Q.allDay;if(O===undefined){O=cy(T?T.allDayDefault:undefined,B.allDayDefault)}C(S,R,O,P)}return P}function C(O,R,P,Q){Q.start=O;Q.end=R;Q.allDay=P;A(Q);bO(Q)}function A(O){m(O);if(O.end&&!O.end.isAfter(O.start)){O.end=null}if(!O.end){if(B.forceEventDuration){O.end=L.getDefaultEventEnd(O.allDay,O.start)}else{O.end=null}}}function m(O){if(O.allDay==null){O.allDay=!(O.start.hasTime()||(O.end&&O.end.hasTime()))}if(O.allDay){O.start.stripTime();if(O.end){O.end.stripTime()}}else{if(!O.start.hasTime()){O.start=L.applyTimezone(O.start.time(0))}if(O.end&&!O.end.hasTime()){O.end=L.applyTimezone(O.end.time(0))}}}function F(T,Q,X){var O=[];var R;var P;var U;var W;var Y,S;var Z,V;var aa;Q=Q||i;X=X||e;if(T){if(T._recurring){if((P=T.dow)){R={};for(U=0;U<P.length;U++){R[P[U]]=true}}W=Q.clone().stripTime();while(W.isBefore(X)){if(!R||R[W.day()]){Y=T.start;S=T.end;Z=W.clone();V=null;if(Y){Z=Z.time(Y)}if(S){V=W.clone().time(S)}aa=cp.extend({},T);C(Z,V,!Y&&!S,aa);O.push(aa)}W.add(1,"days")}}else{O.push(T)}}return O}function t(X,O,W){var T={};var P;var Y;var V;var S;var Q;var U;function R(aa,Z){if(W){return ca(aa,Z,W)}else{if(O.allDay){return dw(aa,Z)}else{return b8(aa,Z)}}}O=O||{};if(!O.start){O.start=X.start.clone()}if(O.end===undefined){O.end=X.end?X.end.clone():null}if(O.allDay==null){O.allDay=X.allDay}A(O);P={start:X._start.clone(),end:X._end?X._end.clone():L.getDefaultEventEnd(X._allDay,X._start),allDay:O.allDay};A(P);Y=X._end!==null&&O.end===null;V=R(O.start,P.start);if(O.end){S=R(O.end,P.end);Q=S.subtract(V)}else{Q=null}cp.each(O,function(aa,Z){if(N(aa)){if(Z!==undefined){T[aa]=Z}}});U=z(j(X._id),Y,O.allDay,V,Q,T);return{dateDelta:V,durationDelta:Q,undo:U}}function z(V,S,T,U,P,O){var Q=L.getIsAmbigTimezone();var R=[];if(U&&!U.valueOf()){U=null}if(P&&!P.valueOf()){P=null}cp.each(V,function(Y,W){var Z;var X;Z={start:W.start.clone(),end:W.end?W.end.clone():null,allDay:W.allDay};cp.each(O,function(aa){Z[aa]=W[aa]});X={start:W._start,end:W._end,allDay:T};A(X);if(S){X.end=null}else{if(P&&!X.end){X.end=L.getDefaultEventEnd(X.allDay,X.start)}}if(U){X.start.add(U);if(X.end){X.end.add(U)}}if(P){X.end.add(P)}if(Q&&!X.allDay&&(U||P)){X.start.stripZone();if(X.end){X.end.stripZone()}}cp.extend(W,O,X);bO(W);R.push(function(){cp.extend(W,Z);bO(W)})});return function(){for(var W=0;W<R.length;W++){R[W]()}}}L.getBusinessHoursEvents=d;function d(R){var O=B.businessHours;var S={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"};var Q=L.getView();var P;if(O){P=cp.extend({},S,typeof O==="object"?O:{})}if(P){if(R){P.start=null;P.end=null}return F(p(P),Q.start,Q.end)}return[]}L.isEventSpanAllowed=G;L.isExternalSpanAllowed=y;L.isSelectionSpanAllowed=a;function G(Q,P){var O=P.source||{};var S=cy(P.constraint,O.constraint,B.eventConstraint);var R=cy(P.overlap,O.overlap,B.eventOverlap);return s(Q,S,R,P)}function y(Q,S,O){var R;var P;if(O){R=cp.extend({},O,S);P=F(p(R))[0]}if(P){return G(Q,P)}else{return a(Q)}}function a(O){return s(O,B.selectConstraint,B.selectOverlap)}function s(O,V,Q,W){var X;var U;var S;var T,P;var R;if(V!=null){X=x(V);U=false;for(T=0;T<X.length;T++){if(k(X[T],O)){U=true;break}}if(!U){return false}}S=L.getPeerEvents(O,W);for(T=0;T<S.length;T++){P=S[T];if(J(P,O)){if(Q===false){return false}else{if(typeof Q==="function"&&!Q(P,W)){return false}}if(W){R=cy(P.overlap,(P.source||{}).overlap);if(R===false){return false}if(typeof R==="function"&&!R(W,P)){return false}}}}return true}function x(O){if(O==="businessHours"){return d()}if(typeof O==="object"){return F(p(O))}return j(O)}function k(O,P){var Q=O.start.clone().stripZone();var R=L.getEventEnd(O).stripZone();return P.start>=Q&&P.end<=R}function J(O,P){var Q=O.start.clone().stripZone();var R=L.getEventEnd(O).stripZone();return P.start<R&&P.end>Q}L.getEventCache=function(){return g}}bV.prototype.getPeerEvents=function(a,f){var d=this.getEventCache();var e=[];var b,c;for(b=0;b<d.length;b++){c=d[b];if(!f||f._id!==c._id){e.push(c)}}return e};function bO(a){a._allDay=a.allDay;a._start=a.start.clone();a._end=a.end?a.end.clone():null}var cv=bT.BasicView=dJ.extend({scroller:null,dayGridClass:cj,dayGrid:null,dayNumbersVisible:false,weekNumbersVisible:false,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid();this.scroller=new bI({overflowX:"hidden",overflowY:"auto"})},instantiateDayGrid:function(){var a=this.dayGridClass.extend(cP);return new a(this)},setRange:function(a){dJ.prototype.setRange.call(this,a);this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit);this.dayGrid.setRange(a)},computeRange:function(a){var b=dJ.prototype.computeRange.call(this,a);if(/year|month/.test(b.intervalUnit)){b.start.startOf("week");b.start=this.skipHiddenDays(b.start);if(b.end.weekday()){b.end.add(1,"week").startOf("week");b.end=this.skipHiddenDays(b.end,-1,true)}}return b},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1;this.weekNumbersVisible=this.opt("weekNumbers");this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible;this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml());this.renderHead();this.scroller.render();var a=this.scroller.el.addClass("fc-day-grid-container");var b=cp('<div class="fc-day-grid" />').appendTo(a);this.el.find(".fc-body > tr > td").append(a);this.dayGrid.setElement(b);this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml());this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates();this.dayGrid.removeElement();this.scroller.destroy()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"></td></tr></tbody></table>'},weekNumberStyleAttr:function(){if(this.weekNumberWidth!==null){return'style="width:'+this.weekNumberWidth+'px"'}return""},hasRigidRows:function(){var a=this.opt("eventLimit");return a&&typeof a!=="number"},updateWidth:function(){if(this.weekNumbersVisible){this.weekNumberWidth=cE(this.el.find(".fc-week-number"))}},setHeight:function(b,e){var d=this.opt("eventLimit");var a;var c;this.scroller.clear();cY(this.headRowEl);this.dayGrid.removeSegPopover();if(d&&typeof d==="number"){this.dayGrid.limitRows(d)}a=this.computeScrollerHeight(b);this.setGridHeight(a,e);if(d&&typeof d!=="number"){this.dayGrid.limitRows(d)}if(!e){this.scroller.setHeight(a);c=this.scroller.getScrollbarWidths();if(c.left||c.right){df(this.headRowEl,c);a=this.computeScrollerHeight(b);this.scroller.setHeight(a)}this.scroller.lockOverflow(c)}},computeScrollerHeight:function(a){return a-bY(this.el,this.scroller.el)},setGridHeight:function(a,b){if(b){b3(this.dayGrid.rowEls)}else{cq(this.dayGrid.rowEls,a,true)}},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(a){this.scroller.setScrollTop(a)},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(a,b){return this.dayGrid.queryHit(a,b)},getHitSpan:function(a){return this.dayGrid.getHitSpan(a)},getHitEl:function(a){return this.dayGrid.getHitEl(a)},renderEvents:function(a){this.dayGrid.renderEvents(a);this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(a,b){return this.dayGrid.renderDrag(a,b)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(a){this.dayGrid.renderSelection(a)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}});var cP={renderHeadIntroHtml:function(){var a=this.view;if(a.weekNumbersVisible){return'<th class="fc-week-number '+a.widgetHeaderClass+'" '+a.weekNumberStyleAttr()+"><span>"+dS(a.opt("weekNumberTitle"))+"</span></th>"}return""},renderNumberIntroHtml:function(a){var b=this.view;if(b.weekNumbersVisible){return'<td class="fc-week-number" '+b.weekNumberStyleAttr()+"><span>"+this.getCellDate(a,0).format("w")+"</span></td>"}return""},renderBgIntroHtml:function(){var a=this.view;if(a.weekNumbersVisible){return'<td class="fc-week-number '+a.widgetContentClass+'" '+a.weekNumberStyleAttr()+"></td>"}return""},renderIntroHtml:function(){var a=this.view;if(a.weekNumbersVisible){return'<td class="fc-week-number" '+a.weekNumberStyleAttr()+"></td>"}return""}};var cU=bT.MonthView=cv.extend({computeRange:function(b){var c=cv.prototype.computeRange.call(this,b);var a;if(this.isFixedWeeks()){a=Math.ceil(c.end.diff(c.start,"weeks",true));c.end.add(6-a,"weeks")}return c},setGridHeight:function(a,b){b=b||this.opt("weekMode")==="variable";if(b){a*=this.rowCnt/6}cq(this.dayGrid.rowEls,a,!b)},isFixedWeeks:function(){var a=this.opt("weekMode");if(a){return a==="fixed"}return this.opt("fixedWeekCount")}});cs.basic={"class":cv};cs.basicDay={type:"basic",duration:{days:1}};cs.basicWeek={type:"basic",duration:{weeks:1}};cs.month={"class":cU,duration:{months:1},defaults:{fixedWeekCount:true}};var dt=bT.AgendaView=dJ.extend({scroller:null,timeGridClass:b5,timeGrid:null,dayGridClass:cj,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid();if(this.opt("allDaySlot")){this.dayGrid=this.instantiateDayGrid()}this.scroller=new bI({overflowX:"hidden",overflowY:"auto"})},instantiateTimeGrid:function(){var a=this.timeGridClass.extend(cH);return new a(this)},instantiateDayGrid:function(){var a=this.dayGridClass.extend(cx);return new a(this)},setRange:function(a){dJ.prototype.setRange.call(this,a);this.timeGrid.setRange(a);if(this.dayGrid){this.dayGrid.setRange(a)}},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml());this.renderHead();this.scroller.render();var b=this.scroller.el.addClass("fc-time-grid-container");var a=cp('<div class="fc-time-grid" />').appendTo(b);this.el.find(".fc-body > tr > td").append(b);this.timeGrid.setElement(a);this.timeGrid.renderDates();this.bottomRuleEl=cp('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el);if(this.dayGrid){this.dayGrid.setElement(this.el.find(".fc-day-grid"));this.dayGrid.renderDates();this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()}this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates();this.timeGrid.removeElement();if(this.dayGrid){this.dayGrid.unrenderDates();this.dayGrid.removeElement()}this.scroller.destroy()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+"</td></tr></tbody></table>"},axisStyleAttr:function(){if(this.axisWidth!==null){return'style="width:'+this.axisWidth+'px"'}return""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours();if(this.dayGrid){this.dayGrid.renderBusinessHours()}},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours();if(this.dayGrid){this.dayGrid.unrenderBusinessHours()}},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(a){this.timeGrid.renderNowIndicator(a)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(a){this.timeGrid.updateSize(a);dJ.prototype.updateSize.call(this,a)},updateWidth:function(){this.axisWidth=cE(this.el.find(".fc-axis"))},setHeight:function(b,e){var d;var a;var c;this.bottomRuleEl.hide();this.scroller.clear();cY(this.noScrollRowEls);if(this.dayGrid){this.dayGrid.removeSegPopover();d=this.opt("eventLimit");if(d&&typeof d!=="number"){d=bM}if(d){this.dayGrid.limitRows(d)}}if(!e){a=this.computeScrollerHeight(b);this.scroller.setHeight(a);c=this.scroller.getScrollbarWidths();if(c.left||c.right){df(this.noScrollRowEls,c);a=this.computeScrollerHeight(b);this.scroller.setHeight(a)}this.scroller.lockOverflow(c);if(this.timeGrid.getTotalSlatHeight()<a){this.bottomRuleEl.show()}}},computeScrollerHeight:function(a){return a-bY(this.el,this.scroller.el)},computeInitialScroll:function(){var a=bJ.duration(this.opt("scrollTime"));var b=this.timeGrid.computeTimeTop(a);b=Math.ceil(b);if(b){b++}return b},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(a){this.scroller.setScrollTop(a)},prepareHits:function(){this.timeGrid.prepareHits();if(this.dayGrid){this.dayGrid.prepareHits()}},releaseHits:function(){this.timeGrid.releaseHits();if(this.dayGrid){this.dayGrid.releaseHits()}},queryHit:function(a,b){var c=this.timeGrid.queryHit(a,b);if(!c&&this.dayGrid){c=this.dayGrid.queryHit(a,b)}return c},getHitSpan:function(a){return a.component.getHitSpan(a)},getHitEl:function(a){return a.component.getHitEl(a)},renderEvents:function(d){var a=[];var c=[];var f=[];var b;var e;for(e=0;e<d.length;e++){if(d[e].allDay){a.push(d[e])}else{c.push(d[e])}}b=this.timeGrid.renderEvents(c);if(this.dayGrid){f=this.dayGrid.renderEvents(a)}this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents();if(this.dayGrid){this.dayGrid.unrenderEvents()}},renderDrag:function(a,b){if(a.start.hasTime()){return this.timeGrid.renderDrag(a,b)}else{if(this.dayGrid){return this.dayGrid.renderDrag(a,b)}}},unrenderDrag:function(){this.timeGrid.unrenderDrag();if(this.dayGrid){this.dayGrid.unrenderDrag()}},renderSelection:function(a){if(a.start.hasTime()||a.end.hasTime()){this.timeGrid.renderSelection(a)}else{if(this.dayGrid){this.dayGrid.renderSelection(a)}}},unrenderSelection:function(){this.timeGrid.unrenderSelection();if(this.dayGrid){this.dayGrid.unrenderSelection()}}});var cH={renderHeadIntroHtml:function(){var b=this.view;var a;if(b.opt("weekNumbers")){a=this.start.format(b.opt("smallWeekFormat"));return'<th class="fc-axis fc-week-number '+b.widgetHeaderClass+'" '+b.axisStyleAttr()+"><span>"+dS(a)+"</span></th>"}else{return'<th class="fc-axis '+b.widgetHeaderClass+'" '+b.axisStyleAttr()+"></th>"}},renderBgIntroHtml:function(){var a=this.view;return'<td class="fc-axis '+a.widgetContentClass+'" '+a.axisStyleAttr()+"></td>"},renderIntroHtml:function(){var a=this.view;return'<td class="fc-axis" '+a.axisStyleAttr()+"></td>"}};var cx={renderBgIntroHtml:function(){var a=this.view;return'<td class="fc-axis '+a.widgetContentClass+'" '+a.axisStyleAttr()+"><span>"+(a.opt("allDayHtml")||dS(a.opt("allDayText")))+"</span></td>"},renderIntroHtml:function(){var a=this.view;return'<td class="fc-axis" '+a.axisStyleAttr()+"></td>"}};var bM=5;var dB=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];cs.agenda={"class":dt,defaults:{allDaySlot:true,allDayText:"all-day",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:true}};cs.agendaDay={type:"agenda",duration:{days:1}};cs.agendaWeek={type:"agenda",duration:{weeks:1}};return bT});