(function(a,b){if(typeof define==="function"&&define.amd){define(b)}else{if(typeof exports==="object"){module.exports=b()}else{a.ResizeSensor=b()}}}(this,function(){if(typeof window==="undefined"){return null}var c=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(d){return window.setTimeout(d,20)};function b(g,k){var f=Object.prototype.toString.call(g);var h=("[object Array]"===f||("[object NodeList]"===f)||("[object HTMLCollection]"===f)||("[object Object]"===f)||("undefined"!==typeof jQuery&&g instanceof jQuery)||("undefined"!==typeof Elements&&g instanceof Elements));var e=0,d=g.length;if(h){for(;e<d;e++){k(g[e])}}else{k(g)}}var a=function(d,h){function g(){var m=[];this.add=function(i){m.push(i)};var l,k;this.call=function(){for(l=0,k=m.length;l<k;l++){m[l].call()}};this.remove=function(j){var i=[];for(l=0,k=m.length;l<k;l++){if(m[l]!==j){i.push(m[l])}}m=i};this.length=function(){return m.length}}function f(i,j){if(i.currentStyle){return i.currentStyle[j]}if(window.getComputedStyle){return window.getComputedStyle(i,null).getPropertyValue(j)}return i.style[j]}function e(s,u){if(s.resizedAttached){s.resizedAttached.add(u);return}s.resizedAttached=new g();s.resizedAttached.add(u);s.resizeSensor=document.createElement("div");s.resizeSensor.className="resize-sensor";var k="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;";var o="position: absolute; left: 0; top: 0; transition: 0s;";s.resizeSensor.style.cssText=k;s.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+k+'"><div style="'+o+'"></div></div><div class="resize-sensor-shrink" style="'+k+'"><div style="'+o+' width: 200%; height: 200%"></div></div>';s.appendChild(s.resizeSensor);if(f(s,"position")=="static"){s.style.position="relative"}var y=s.resizeSensor.childNodes[0];var m=y.childNodes[0];var q=s.resizeSensor.childNodes[1];var l,n,r,i;var j=s.offsetWidth;var w=s.offsetHeight;var v=function(){m.style.width="100000px";m.style.height="100000px";y.scrollLeft=100000;y.scrollTop=100000;q.scrollLeft=100000;q.scrollTop=100000};v();var t=function(){n=0;if(!l){return}j=r;w=i;if(s.resizedAttached){s.resizedAttached.call()}};var x=function(){r=s.offsetWidth;i=s.offsetHeight;l=r!=j||i!=w;if(l&&!n){n=c(t)}v()};var p=function(B,A,z){if(B.attachEvent){B.attachEvent("on"+A,z)}else{B.addEventListener(A,z)}};p(y,"scroll",x);p(q,"scroll",x)}b(d,function(i){e(i,h)});this.detach=function(i){a.detach(d,i)}};a.detach=function(d,e){b(d,function(f){if(f.resizedAttached&&typeof e=="function"){f.resizedAttached.remove(e);if(f.resizedAttached.length()){return}}if(f.resizeSensor){if(f.contains(f.resizeSensor)){f.removeChild(f.resizeSensor)}delete f.resizeSensor;delete f.resizedAttached}})};return a}));