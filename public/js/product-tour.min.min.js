var ProductTour;!function(a){ProductTour=function(y){function g(){var p=a(".cd-tour-wrapper"),l=p.children("li"),d=l.length,i=a(".cd-cover-layer"),o=a(".cd-more-info"),c=a("#cd-tour-trigger");a(".overlay-tour").css({display:"block"}),f(l,d),y.html?(a(".cd-next").html(y.next),a(".cd-prev").html(y.prev)):(a(".cd-next").text(y.next),a(".cd-prev").text(y.prev)),a(x[m()]).addClass("tour-target-element"),c.on("click",function(){p.hasClass("active")||(p.addClass("active"),j(l.eq(0),i))}),o.on("click",".cd-prev",function(n){!a(n.target).hasClass("inactive")&&h(l,i,"prev")}),o.on("click",".cd-next",function(n){!a(n.target).hasClass("inactive")&&h(l,i,"next")}),o.on("click",".cd-close",function(n){b(l,p,i),a.isFunction(y.onClosed)&&y.onClosed(a(e[m()].element))}),o.on("swiperight",function(n){a(this).find(".cd-prev").hasClass("inactive")||"mobile"!=k()||h(l,i,"prev")}),o.on("swipeleft",function(n){a(this).find(".cd-next").hasClass("inactive")||"mobile"!=k()||h(l,i,"next")}),a(document).keyup(function(n){"37"!=n.which||l.filter(".is-selected").find(".cd-prev").hasClass("inactive")?"39"!=n.which||l.filter(".is-selected").find(".cd-next").hasClass("inactive")?"27"==n.which&&(b(l,p,i),a.isFunction(y.onClosed)&&y.onClosed(a(e[m()].element))):h(l,i,"next"):h(l,i,"prev")}),p.hasClass("active")||(p.addClass("active"),j(l.eq(0),i))}function f(c,i){a(".cd-nav").length>0&&a(".cd-nav").remove();var d='<div class="cd-nav"><span><b class="cd-actual-step">1</b> of '+i+'</span><ul class="cd-tour-nav"><li><a href="javascript:;" class="cd-prev">&#8617; Previous</a></li><li><a href="javascript:;" class="cd-next">Next &#8618;</a></li></ul></div><a href="javascript:;" class="cd-close">Close</a>';c.each(function(r){var p=a(this),u=r+1,o=u<i?"":"inactive",n=1==u?"inactive":"";a(d).find(".cd-next").addClass(o).end().find(".cd-prev").addClass(n).end().find(".cd-actual-step").html(u).end().appendTo(p.children(".cd-more-info"))})}function j(d,c){d.addClass("is-selected").removeClass("move-left"),z(d.children(".cd-more-info")),q(c)}function z(c){if(!(a(window).width()<768)){var i=a(x[m()]).offset().top,d=a(x[m()]).height();i<a(window).scrollTop()&&a("body,html").animate({scrollTop:i-d},"slow"),i+d>a(window).scrollTop()+a(window).height()&&a("body,html").animate({scrollTop:i-d},"slow")}}function q(c){c.addClass("is-visible").on("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){c.removeClass("is-visible")})}function h(r,p,i){var d=r.filter(".is-selected"),c="desktop"==k()?300:0;d.removeClass("is-selected"),a(x[m()]).removeClass("tour-target-element"),"next"==i&&d.addClass("move-left"),setTimeout(function(){"next"==i?j(d.next(),p):j(d.prev(),p),a(x[m()]).addClass("tour-target-element"),a.isFunction(y.onChanged)&&y.onChanged(a(e[m()].element))},c)}function m(){var c=a(".cd-tour-wrapper"),i=c.children("li"),d=0;return i.each(function(l,o){a(o).hasClass("is-selected")&&(d=l)}),d}function b(c,i,d){c.removeClass("is-selected move-left"),i.removeClass("active"),d.removeClass("is-visible"),a(".overlay-tour").css({display:"none"}),a(x[m()]).removeClass("tour-target-element")}function k(){return window.getComputedStyle(document.querySelector(".cd-tour-wrapper"),"::before").getPropertyValue("content").replace(/"/g,"").replace(/'/g,"")}var w=!1,e=[],x=[];y.next=y.next?y.next:"Next",y.prev=y.prev?y.prev:"Previous",y.html="html" in y&&y.html,y.overlay=!("overlay" in y)||y.overlay,y.onStart="function"==typeof y.onStart?y.onStart:void 0,y.onChanged="function"==typeof y.onChanged?y.onChanged:void 0,y.onClosed="function"==typeof y.onClosed?y.onClosed:void 0,this.startTour=function(){a.fn.exists=function(){return this.length>0},a(".cd-tour-wrapper").exists()&&g(),a.isFunction(y.onStart)&&y.onStart()},this.steps=function(p){if(!(p instanceof Array)){return void console.error("Expecting an array of tour items or steps.")}if(w){return void console.warn("Tour steps has already been added, you can't add step on the fly, coming on next version")}e=p;var l="<ul class='cd-tour-wrapper'>",c="<div><li class='cd-single-step'><span>Step</span><div class='cd-more-info'><h2></h2><p></p><img src=''></div></li></div>",d="";a.each(p,function(u,C){C.element=C.element?C.element:void 0,C.title=C.title?C.title:void 0,C.content=C.content?C.content:"",C.image=C.image?C.image:"images/sample.jpg",C.position=C.position?C.position:"bottom",void 0==C.element?C.element="body":C.element+=":first",x.push(C.element);var A=a(c);if(void 0!=C.title?a("h2",A).text(C.title):a("h2",A).remove(),a("p",A).text(C.content),a(".cd-more-info",A).addClass(C.position),a("img",A).attr("src",C.image),C.element){var s=a(C.element).outerWidth()/2,i=a(C.element).innerHeight()/2,B=a(C.element).offset().top+-12+i,v=a(C.element).offset().left+s;a("li.cd-single-step",A).css({top:B,left:v,height:"10px",width:"10px"})}d+=A.html()}),l+=d+"</ul>",a("body").append(l),y.overlay&&a("body").append("<div class='overlay-tour'></div>"),w=!0}}}(jQuery);