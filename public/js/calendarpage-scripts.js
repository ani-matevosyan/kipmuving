!function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var a={};t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=29)}({29:function(e,t,a){e.exports=a(30)},30:function(e,t){$(document).ready(function(){function e(){$.ajax({type:"GET",url:"/activities/getsuprogram",data:"",success:function(e){$("#program_activities").text(e.data.offers),$("#program_activities").attr("data-activities",e.data.offers),$("#program_persons").text(e.data.persons),$("#program_total").text(e.data.total)},error:function(){location.reload()}})}function t(){var e=0;$("#instant-booking-list .basket-list__item").each(function(){var t=$(this).find(".basket-list__price").text();e+=parseInt(t.split(".").join(""))}),$(".s-program__price").text(Number(e).toLocaleString("de-DE"))}if($("#calendar").length){var a,n=$("#calendar").attr("data-date"),r=$("#calendar").attr("data-lang"),o=$(window).width();a=o>=992?5:o<991&&o>600?3:2,"es_ES"===r&&(r="es"),jQuery("#calendar").fullCalendar({lang:r,header:{left:"prev,next today",center:"title",right:""},defaultView:"agendaFourDay",views:{agendaFourDay:{type:"agenda",duration:{days:a},buttonText:"5 days",columnFormat:"ddd D/M"}},allDaySlot:!1,defaultDate:n,editable:!1,eventLimit:!0,events:"/calendar/data",eventOverlap:!0,eventRender:function(e,t){t.data("duplicate",e.duplicate),t.append("<br>"),t.append('<a href="#" class="move prev" data-oid="'+e.id+'"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span></a>'),t.append('<a href="#" class="move next" data-oid="'+e.id+'"><span class="glyphicon glyphicon-chevron-right pull-right" aria-hidden="true"></span></a>'),t.append("<br>"),void 0!=e.agency_name?t.append('<div class="agency-name">'+e.agency_name+"</div>"):t.append("<br>"),t.append('<div class="hours"><i class="glyphicon glyphicon-time"></i> '+e.hours+" hrs ("+e.start_time+" a "+e.end_time+")</div>"),void 0!=e.persons&&t.append('<div class="persona"><i class="glyphicon glyphicon-user"></i> '+e.persons+" persona</div>"),t.append("<br>"),t.append('<a href="#" class="delete" data-oid="'+e.id+'"><span class="glyphicon glyphicon-remove pull-right" aria-hidden="true"></span></a>')},eventAfterAllRender:function(e){jQuery(".btn-reservar").attr("href","/reserve"),jQuery(".alert-overlap").hide(),$.each($(".fc-event"),function(e,t){$(t).data("duplicate")&&($(".alert-overlap").show(),$(".btn-reservar").removeAttr("href"))})}})}jQuery(document).on("click",".fc-event.cal-offer .move",function(e){e.preventDefault();var t=jQuery(this).data("oid"),a=jQuery(this).hasClass("prev")?"prev":jQuery(this).hasClass("next")?"next":"";$.ajax({type:"POST",url:"/calendar/process",data:{_token:$('meta[name="csrf-token"]').attr("content"),oid:t,dir:a},success:function(e){jQuery("#calendar").fullCalendar("refetchEvents")}})}),jQuery(document).on("click",".fc-event.cal-offer .delete",function(e){e.preventDefault();var t=jQuery(this).data("oid");$("#delete-modal .btn-confirm").data("oid",t),$("#delete-modal").modal("show")}),jQuery("#delete-modal .btn-confirm").on("click",function(a){a.preventDefault();var n=jQuery(this).data("oid");$("#delete-modal").modal("hide"),$.ajax({type:"POST",url:"/offer/remove",data:{_token:$('meta[name="csrf-token"]').attr("content"),oid:n},success:function(){jQuery("#calendar").fullCalendar("refetchEvents"),e(),$(".offers-list li").each(function(e){e===n&&$(this).remove()}),t()}})});var i=!1;$("#generate-link").click(function(e){e.preventDefault();var t=$(this).parent().find("input"),a=$(this);i?(t.select(),document.execCommand("copy")):$.ajax({type:"POST",url:"/proposals/save",data:{_token:$('meta[name="csrf-token"]').attr("content")},success:function(e){t.val(e).slideDown(),i=!0,a.text("Copy")}})}),jQuery("#instant-booking-list").on("click",".basket-list__delete-button",function(){var a=$(this).parent().prevAll().length,n=$(this).parent();return $.ajax({type:"POST",url:"/offer/remove",data:{_token:$('meta[name="csrf-token"]').attr("content"),oid:a},success:function(){n.remove(),e(),t(),jQuery("#calendar").fullCalendar("refetchEvents")},error:function(){location.reload()}}),!1});var c;$(".delete_offer a").click(function(e){c=$(this).attr("href"),e.preventDefault(),$("#myModal").modal()}),$("#confirm_cancel").click(function(e){e.preventDefault(),window.location.href=c})})}});