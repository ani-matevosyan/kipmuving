$(document).ready(function(){if($("#calendar").length){var g=$("#calendar").attr("data-date");var a=$("#calendar").attr("data-lang");var j,d=$(window).width();if(d>=992){j=5}else{if(d<991&&d>600){j=3}else{j=2}}if(a==="es_ES"){a="es"}jQuery("#calendar").fullCalendar({lang:a,header:{left:"prev,next today",center:"title",right:""},defaultView:"agendaFourDay",views:{agendaFourDay:{type:"agenda",duration:{days:j},buttonText:"5 days",columnFormat:"ddd D/M"}},allDaySlot:false,defaultDate:g,editable:false,eventLimit:true,events:"/calendar/data",eventOverlap:true,eventRender:function(l,k){k.data("duplicate",l.duplicate);k.append("<br>");k.append('<a href="#" class="move prev" data-oid="'+l.id+'"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span></a>');k.append('<a href="#" class="move next" data-oid="'+l.id+'"><span class="glyphicon glyphicon-chevron-right pull-right" aria-hidden="true"></span></a>');k.append("<br>");if(l.agency_name!=undefined){k.append('<div class="agency-name">'+l.agency_name+"</div>")}else{k.append("<br>")}k.append('<div class="hours"><i class="glyphicon glyphicon-time"></i> '+l.hours+" hrs ("+l.start_time+" a "+l.end_time+")</div>");if(l.persons!=undefined){k.append('<div class="persona"><i class="glyphicon glyphicon-user"></i> '+l.persons+" persona</div>")}k.append("<br>");k.append('<a href="#" class="delete" data-oid="'+l.id+'"><span class="glyphicon glyphicon-remove pull-right" aria-hidden="true"></span></a>')},eventAfterAllRender:function(k){jQuery(".btn-reservar").attr("href","/reserve");jQuery(".alert-overlap").hide();$.each($(".fc-event"),function(l,m){if($(m).data("duplicate")){$(".alert-overlap").show();$(".btn-reservar").removeAttr("href")}})}})}jQuery(document).on("click",".fc-event.cal-offer .move",function(m){m.preventDefault();var l=jQuery(this).data("oid");var k=jQuery(this).hasClass("prev")?"prev":jQuery(this).hasClass("next")?"next":"";$.ajax({type:"POST",url:"/calendar/process",data:{_token:$('meta[name="csrf-token"]').attr("content"),oid:l,dir:k},success:function(n){jQuery("#calendar").fullCalendar("refetchEvents")}})});jQuery(document).on("click",".fc-event.cal-offer .delete",function(l){l.preventDefault();var k=jQuery(this).data("oid");$("#delete-modal .btn-confirm").data("oid",k);$("#delete-modal").modal("show")});jQuery("#delete-modal .btn-confirm").on("click",function(l){l.preventDefault();var k=jQuery(this).data("oid");$("#delete-modal").modal("hide");$.ajax({type:"POST",url:"/offer/remove",data:{_token:$('meta[name="csrf-token"]').attr("content"),oid:k},success:function(){jQuery("#calendar").fullCalendar("refetchEvents");getsuprogram();$(".offers-list li").each(function(m){if(m===k){$(this).remove()}});calendarCalc()}})});function h(k){var l=$("#calendar").fullCalendar("clientEvents");for(i in l){if(l[i].id!=k.id){if(!(Date(l[i].start)>=Date(k.end)||Date(l[i].end)<=Date(k.start))){return true}}}return false}if($(window).width()>991){var c=$(".suprogram-content"),f=$(".s_suprogram"),e=c.outerWidth(),b=c.outerHeight();$(window).scroll(function(){var k=$(window).scrollTop();var l=f.offset().top;if(l<k){f.css("height",b+"px");c.css("width",e+"px").addClass("fixed")}else{f.css("height","");c.css("width","").removeClass("fixed")}})}});