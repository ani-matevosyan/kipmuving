$(document).ready(function(){function i(){$(".all-activities").html("<div class='loader'><div class='loader__inside'></div></div>");var i={style:[],period:[],price:[]},a=0;$(".filter-item input[type=checkbox]").each(function(){var t=$(this).attr("name");$(this).is(":checked")&&(a++,"style"==t?i.style.push($(this).val()):i.period.push($(this).val()))}),0!=a?$(".btn-open-filters span").text("("+a+")"):$(".btn-open-filters span").text(""),i.price.push($("#slider-range").slider("values",0),$("#slider-range").slider("values",1)),$.ajax({type:"POST",url:"/activities/filters",data:{_token:$('meta[name="csrf-token"]').attr("content"),data:JSON.stringify(i)},success:function(i){e(i),t(i)}})}function a(){$(".filter-item input[type=checkbox]").each(function(){$(this).prop("checked",!1)}),$("#slider-range").slider({values:[1e4,3e5]}),$(".slider-range-output").val("$ "+$("#slider-range").slider("values",0)+" - $ "+$("#slider-range").slider("values",1));var i={style:[],period:[],price:[]};$.ajax({type:"POST",url:"/activities/filters",data:{_token:$('meta[name="csrf-token"]').attr("content"),data:i},success:function(i){e(i),t(i)}})}function t(i){var a=0;$.each(i,function(i,t){a+=t.length}),$(".btn-confirm-filters span").text("("+a+")")}function e(i){var a=$(".all-activities"),t="";a.html(""),$.each(i,function(i,a){switch(i){case"Trekking":t+="<section class='activity-block trekking'><strong class='heading'><span><img src='"+document.location.origin+"/images/Trekking.svg' alt='Trekking icon' width='40' height='40'></span>"+c.trekkingCat;break;case"Rio":t+="<section class='activity-block rio'><strong class='heading'><span><img src='"+document.location.origin+"/images/kayak.svg' alt='Rio icon' width='40' height='40'></span>"+c.rioCat;break;case"Aire":t+="<section class='activity-block aire'><strong class='heading'><span><img src='"+document.location.origin+"/images/aire.svg' alt='Aire icon' width='33' height='33'></span>"+c.aireCat;break;case"Nieve":t+="<section class='activity-block nieve'><strong class='heading'><span><img src='"+document.location.origin+"/images/skiing_ski_running.svg' alt='Nieve icon' width='33' height='33'></span>"+c.nieveCat;break;case"Familia":t+="<section class='activity-block familia'><strong class='heading'><span><img src='"+document.location.origin+"/images/family.svg' alt='Cultural icon' width='33' height='33'></span>"+c.culturalCat;break;case"Relax":t+="<section class='activity-block relax'><strong class='heading'><span><img src='"+document.location.origin+"/images/relax.svg' alt='Relax icon' width='33' height='33'></span>"+c.relaxCat;break;case"Ciclismo":t+="<section class='activity-block ciclismo'><strong class='heading'>"+c.ciclismoCat}t+="</strong><div class='row'>";var e=0,s=0;$.each(a,function(i,a){t+="<div class='col-md-3 col-sm-4 col-xs-12 col'><div class='img-holder'><a href='"+document.location.origin+"/activity/"+a.id+"'><img src='"+document.location.origin+"/"+a.image_thumb+"' alt='"+a.name+"'></a></div><div class='caption'><div class='activity-icons'><ul>",$.each(a.availability,function(i,a){if(0!=a)switch(i){case"day":t+="<li><div class='ico'><img src='"+document.location.origin+"/images/day.svg' alt='Day icon' width='33' height='33'><p>"+c.dayDescription+"<span class='glyphicon glyphicon-triangle-bottom'></span></p></div></li>";break;case"night":t+="<li><div class='ico'><img src='"+document.location.origin+"/images/night.svg' alt='Night icon' width='33' height='33'><p>"+c.nightDescription+"<span class='glyphicon glyphicon-triangle-bottom'></span></p></div></li>";break;case"summer":t+="<li><div class='ico'><img src='"+document.location.origin+"/images/down-arrow.svg' alt='Down arrow icon' width='25' height='25'><p>"+c.summerDescription+"<span class='glyphicon glyphicon-triangle-bottom'></span></p></div></li>";break;case"winter":t+="<li><div class='ico'><img src='"+document.location.origin+"/images/up-arrow.svg' alt='Up arrow icon' width='25' height='25'><p>"+c.winterDescription+"<span class='glyphicon glyphicon-triangle-bottom'></span></p></div></li>"}}),t+="</ul></div><h2><a href='"+document.location.origin+"/activity/"+a.id+"'>"+a.name+"</a></h2><p>"+a.short_description+"</p><p><strong class='price'><span>"+c.textFrom+"</span><sub>$</sub>"+a.offers_min_price+"</strong><a href='"+document.location.origin+"/activity/"+a.id+"' class='btn-primary'>"+c.buttonText+"</a></p></div></div>",++e,3===++s&&(t+='<div class="clearfix visible-sm-block"></div>',s=0),4===e&&(t+='<div class="clearfix visible-lg-block"></div><div class="clearfix visible-md-block"></div>',e=0)}),t+="</div></section>"}),a.html(t),0==i.length&&a.html("<h2> Sorry there are no activities </h2>")}$("#activities-slider").length&&($("#activities-slider").owlCarousel({autoPlay:3e3,pagination:!1,navigation:!0,navigationText:["<span class='glyphicon glyphicon-menu-left'></span>","<span class='glyphicon glyphicon-menu-right'></span>"],items:3,itemsDesktop:[1199,3],itemsDesktopSmall:[979,3]}),$("#activities-slider").removeClass("csHidden"));var s=$(".filters-modal");$(".btn-open-filters").click(function(i){i.preventDefault(),s.show(),$("body").css("overflow-y","hidden")}),$(".btn-confirm-filters").click(function(i){i.preventDefault(),s.hide(),$("body").css("overflow-y","auto")}),$(".btn-cancel-filters").click(function(i){i.preventDefault(),a(),s.hide(),$("body").css("overflow-y","auto")}),$(".filter-item input[type=checkbox]").on("change",function(){i()}),$("#slider-range").slider({range:!0,min:1e4,max:3e5,step:100,values:[1e4,3e5],slide:function(i,a){$(".slider-range-output").val("$ "+a.values[0]+" - $ "+a.values[1])},change:function(a,t){i()}}),$(".slider-range-output").val("$ "+$("#slider-range").slider("values",0)+" - $ "+$("#slider-range").slider("values",1));var n=$("#pass-variable"),c={dayDescription:n.data("daydesc"),nightDescription:n.data("nightdescr"),summerDescription:n.data("summerdescr"),winterDescription:n.data("winterdescr"),textFrom:n.data("textfrom"),buttonText:n.data("buttontext"),trekkingCat:n.data("cat-trekking"),rioCat:n.data("cat-rio"),aireCat:n.data("cat-aire"),relaxCat:n.data("cat-relax"),nieveCat:n.data("cat-nieve"),culturalCat:n.data("cat-cultural"),ciclismoCat:n.data("cat-ciclismo")}});