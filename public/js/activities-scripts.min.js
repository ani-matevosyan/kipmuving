$(document).ready(function(){var c=$(".filters-modal");$(".btn-open-filters").click(function(d){d.preventDefault();c.show();$("body").css("overflow-y","hidden")});$(".btn-cancel-filters").click(function(d){d.preventDefault();c.hide();$("body").css("overflow-y","auto")});$(".filter-item input[type=checkbox]").on("change",function(){b()});$("#slider-range").slider({range:true,min:10000,max:300000,step:100,values:[10000,300000],slide:function(d,e){$(".slider-range-output").val("$ "+e.values[0]+" - $ "+e.values[1])},change:function(d,e){b()}});$(".slider-range-output").val("$ "+$("#slider-range").slider("values",0)+" - $ "+$("#slider-range").slider("values",1));function b(){var d={style:[],period:[],price:[]};$(".filter-item input[type=checkbox]").each(function(){var e=$(this).attr("name");if($(this).is(":checked")){if(e=="style"){d.style.push($(this).val())}else{d.period.push($(this).val())}}});d.price.push($("#slider-range").slider("values",0),$("#slider-range").slider("values",1));$.ajax({type:"POST",url:"/activities/filters",data:{_token:$('meta[name="csrf-token"]').attr("content"),data:JSON.stringify(d)},success:function(e){a(e)}})}function a(e){console.log(e);var f=$(".all-activities"),d="";f.html("");$.each(e,function(g,i){switch(g){case"Trekking":d+="<section class='activity-block trekking'><strong class='heading'><span><img src='"+document.location.origin+"/images/Trekking.svg' alt='Trekking icon' width='40' height='40'></span>Trekking";break;case"Rio":d+="<section class='activity-block rio'><strong class='heading'><span><img src='"+document.location.origin+"/images/kayak.svg' alt='Rio icon' width='40' height='40'></span>Rio";break;case"Aire":d+="<section class='activity-block aire'><strong class='heading'><span><img src='"+document.location.origin+"/images/aire.svg' alt='Aire icon' width='33' height='33'></span>Acci√≥n";break;case"Nieve":d+="<section class='activity-block nieve'><strong class='heading'><span><img src='"+document.location.origin+"/images/skiing_ski_running.svg' alt='Nieve icon' width='33' height='33'></span>Nieve";break;case"Familia":d+="<section class='activity-block familia'><strong class='heading'><span><img src='"+document.location.origin+"/images/family.svg' alt='Cultural icon' width='33' height='33'></span>Cultural";break;case"Relax":d+="<section class='activity-block relax'><strong class='heading'><span><img src='"+document.location.origin+"/images/relax.svg' alt='Relax icon' width='33' height='33'></span>Relax";break}d+="</strong><div class='row'>";var h=0,j=0;$.each(i,function(k,l){d+="<div class='col-md-3 col-sm-4 col-xs-12 col'><div class='img-holder'><a href='"+document.location.origin+"/activity/"+l.id+"'><img src='"+document.location.origin+"/"+l.image_thumb+"' alt='"+l.name+"'></a></div><div class='caption'><div class='activity-icons'><ul>";$.each(l.availability,function(m,n){if(n!=0){switch(m){case"day":d+="<li><div class='ico'><img src='"+document.location.origin+"/images/day.svg' alt='Day icon' width='33' height='33'><p>Actividad Diurna<span class='glyphicon glyphicon-triangle-bottom'></span></p></div></li>";break;case"night":d+="<li><div class='ico'><img src='"+document.location.origin+"/images/night.svg' alt='Night icon' width='33' height='33'><p>Actividad Noturna<span class='glyphicon glyphicon-triangle-bottom'></span></p></div></li>";break;case"winter":d+="<li><div class='ico'><img src='"+document.location.origin+"/images/down-arrow.svg' alt='Down arrow icon' width='25' height='25'><p>Baja temporada: de marzo a noviembre<span class='glyphicon glyphicon-triangle-bottom'></span></p></div></li>";break;case"summer":d+="<li><div class='ico'><img src='"+document.location.origin+"/images/up-arrow.svg' alt='Up arrow icon' width='25' height='25'><p>Alta temporada: de diciembre a marzo<span class='glyphicon glyphicon-triangle-bottom'></span></p></div></li>";break}}});d+="</ul></div><h2><a href='"+document.location.origin+"/activity/"+l.id+"'>"+l.name+"</a></h2><p>"+l.short_description+"</p><p><strong class='price'><span>Desde</span><sub>$</sub>"+l.offers_min_price+"</strong><a href='"+document.location.origin+"/activity/"+l.id+"' class='btn-primary'>Visualizar</a></p></div></div>";++j;++h;if(j===3){d+='<div class="clearfix visible-sm-block"></div>';j=0}if(h===4){d+='<div class="clearfix visible-lg-block"></div><div class="clearfix visible-md-block"></div>';h=0}});d+="</div></section>"});f.html(d);if(e.length==0){f.html("<h2> Sorry there are no activities </h2>")}}});