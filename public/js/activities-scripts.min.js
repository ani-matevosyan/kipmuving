$(document).ready(function(){var f=$(".filters-modal");$(".btn-open-filters").click(function(h){h.preventDefault();f.show();$("body").css("overflow-y","hidden")});$(".btn-confirm-filters").click(function(h){h.preventDefault();f.hide();$("body").css("overflow-y","auto")});$(".btn-cancel-filters").click(function(h){h.preventDefault();g();f.hide();$("body").css("overflow-y","auto")});$(".filter-item input[type=checkbox]").on("change",function(){e()});$("#slider-range").slider({range:true,min:10000,max:300000,step:100,values:[10000,300000],slide:function(h,i){$(".slider-range-output").val("$ "+i.values[0]+" - $ "+i.values[1])},change:function(h,i){e()}});$(".slider-range-output").val("$ "+$("#slider-range").slider("values",0)+" - $ "+$("#slider-range").slider("values",1));function e(){var h={style:[],period:[],price:[]};$(".filter-item input[type=checkbox]").each(function(){var i=$(this).attr("name");if($(this).is(":checked")){if(i=="style"){h.style.push($(this).val())}else{h.period.push($(this).val())}}});h.price.push($("#slider-range").slider("values",0),$("#slider-range").slider("values",1));$.ajax({type:"POST",url:"/activities/filters",data:{_token:$('meta[name="csrf-token"]').attr("content"),data:JSON.stringify(h)},success:function(i){d(i);c(i)}})}function g(){$(".filter-item input[type=checkbox]").each(function(){$(this).prop("checked",false)});$("#slider-range").slider({values:[10000,300000]});$(".slider-range-output").val("$ "+$("#slider-range").slider("values",0)+" - $ "+$("#slider-range").slider("values",1));$.ajax({type:"POST",url:"/activities/filters",data:{_token:$('meta[name="csrf-token"]').attr("content"),data:""},success:function(h){d(h);c(h)}})}function c(i){var h=0;$.each(i,function(j,k){h+=k.length});$(".btn-confirm-filters span").text("("+h+")")}var b=$("#pass-variable");var a={dayDescription:b.data("daydesc"),nightDescription:b.data("nightdescr"),summerDescription:b.data("summerdescr"),winterDescription:b.data("winterdescr"),textFrom:b.data("textfrom"),buttonText:b.data("buttontext")};function d(i){var j=$(".all-activities"),h="";j.html("");$.each(i,function(k,m){switch(k){case"Trekking":h+="<section class='activity-block trekking'><strong class='heading'><span><img src='"+document.location.origin+"/images/Trekking.svg' alt='Trekking icon' width='40' height='40'></span>Trekking";break;case"Rio":h+="<section class='activity-block rio'><strong class='heading'><span><img src='"+document.location.origin+"/images/kayak.svg' alt='Rio icon' width='40' height='40'></span>Rio";break;case"Aire":h+="<section class='activity-block aire'><strong class='heading'><span><img src='"+document.location.origin+"/images/aire.svg' alt='Aire icon' width='33' height='33'></span>Acci√≥n";break;case"Nieve":h+="<section class='activity-block nieve'><strong class='heading'><span><img src='"+document.location.origin+"/images/skiing_ski_running.svg' alt='Nieve icon' width='33' height='33'></span>Nieve";break;case"Familia":h+="<section class='activity-block familia'><strong class='heading'><span><img src='"+document.location.origin+"/images/family.svg' alt='Cultural icon' width='33' height='33'></span>Cultural";break;case"Relax":h+="<section class='activity-block relax'><strong class='heading'><span><img src='"+document.location.origin+"/images/relax.svg' alt='Relax icon' width='33' height='33'></span>Relax";break}h+="</strong><div class='row'>";var l=0,n=0;$.each(m,function(o,p){h+="<div class='col-md-3 col-sm-4 col-xs-12 col'><div class='img-holder'><a href='"+document.location.origin+"/activity/"+p.id+"'><img src='"+document.location.origin+"/"+p.image_thumb+"' alt='"+p.name+"'></a></div><div class='caption'><div class='activity-icons'><ul>";$.each(p.availability,function(q,r){if(r!=0){switch(q){case"day":h+="<li><div class='ico'><img src='"+document.location.origin+"/images/day.svg' alt='Day icon' width='33' height='33'><p>"+a.dayDescription+"<span class='glyphicon glyphicon-triangle-bottom'></span></p></div></li>";break;case"night":h+="<li><div class='ico'><img src='"+document.location.origin+"/images/night.svg' alt='Night icon' width='33' height='33'><p>"+a.nightDescription+"<span class='glyphicon glyphicon-triangle-bottom'></span></p></div></li>";break;case"summer":h+="<li><div class='ico'><img src='"+document.location.origin+"/images/down-arrow.svg' alt='Down arrow icon' width='25' height='25'><p>"+a.summerDescription+"<span class='glyphicon glyphicon-triangle-bottom'></span></p></div></li>";break;case"winter":h+="<li><div class='ico'><img src='"+document.location.origin+"/images/up-arrow.svg' alt='Up arrow icon' width='25' height='25'><p>"+a.winterDescription+"<span class='glyphicon glyphicon-triangle-bottom'></span></p></div></li>";break}}});h+="</ul></div><h2><a href='"+document.location.origin+"/activity/"+p.id+"'>"+p.name+"</a></h2><p>"+p.short_description+"</p><p><strong class='price'><span>"+a.textFrom+"</span><sub>$</sub>"+p.offers_min_price+"</strong><a href='"+document.location.origin+"/activity/"+p.id+"' class='btn-primary'>"+a.buttonText+"</a></p></div></div>";++n;++l;if(n===3){h+='<div class="clearfix visible-sm-block"></div>';n=0}if(l===4){h+='<div class="clearfix visible-lg-block"></div><div class="clearfix visible-md-block"></div>';l=0}});h+="</div></section>"});j.html(h);if(i.length==0){j.html("<h2> Sorry there are no activities </h2>")}}});