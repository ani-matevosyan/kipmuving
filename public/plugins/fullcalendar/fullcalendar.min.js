/*!
 * FullCalendar v2.7.0
 * Docs & License: http://fullcalendar.io/
 * (c) 2015 Adam Shaw
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","moment"],a)}else{if(typeof exports==="object"){module.exports=a(require("jquery"),require("moment"))}else{a(jQuery,moment)}}})(function(br,a4){var u=br.fullCalendar={version:"2.7.0",internalApiVersion:3};var V=u.views={};u.isTouch="ontouchstart" in document;br.fn.fullCalendar=function(bG){var bF=Array.prototype.slice.call(arguments,1);var bH=this;this.each(function(bK,bI){var bJ=br(bI);var bM=bJ.data("fullCalendar");var bL;if(typeof bG==="string"){if(bM&&br.isFunction(bM[bG])){bL=bM[bG].apply(bM,bF);if(!bK){bH=bL}if(bG==="destroy"){bJ.removeData("fullCalendar")}}}else{if(!bM){bM=new s(bJ,bG);bJ.data("fullCalendar",bM);bM.render()}}});return bH};var X=["header","buttonText","buttonIcons","themeButtonIcons"];function aQ(bF){return bC(bF,X)}function aZ(bG){var bH={views:bG.views||{}};var bF;br.each(bG,function(bI,bJ){if(bI!="views"){if(br.isPlainObject(bJ)&&!/(time|duration|interval)$/i.test(bI)&&br.inArray(bI,X)==-1){bF=null;br.each(bJ,function(bL,bK){if(/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(bL)){if(!bH.views[bL]){bH.views[bL]={}}bH.views[bL][bI]=bK}else{if(!bF){bF={}}bF[bL]=bK}});if(bF){bH[bI]=bF}}else{bH[bI]=bJ}}});return bH}u.intersectRanges=e;u.applyAll=v;u.debounce=a8;u.isInt=bv;u.htmlEscape=aG;u.cssToStr=I;u.proxy=ay;u.capitaliseFirstLetter=n;function an(bG,bF){if(bF.left){bG.css({"border-left-width":1,"margin-left":bF.left-1})}if(bF.right){bG.css({"border-right-width":1,"margin-right":bF.right-1})}}function F(bF){bF.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function bs(){br("body").addClass("fc-not-allowed")}function al(){br("body").removeClass("fc-not-allowed")}function W(bK,bJ,bG){var bH=Math.floor(bJ/bK.length);var bF=Math.floor(bJ-bH*(bK.length-1));var bL=[];var bM=[];var bI=[];var bN=0;k(bK);bK.each(function(bP,bQ){var bR=bP===bK.length-1?bF:bH;var bO=br(bQ).outerHeight(true);if(bO<bR){bL.push(bQ);bM.push(bO);bI.push(br(bQ).height())}else{bN+=bO}});if(bG){bJ-=bN;bH=Math.floor(bJ/bL.length);bF=Math.floor(bJ-bH*(bL.length-1))}br(bL).each(function(bQ,bR){var bT=bQ===bL.length-1?bF:bH;var bP=bM[bQ];var bS=bI[bQ];var bO=bT-(bP-bS);if(bP<bT){br(bR).height(bO)}})}function k(bF){bF.height("")}function P(bF){var bG=0;bF.find("> span").each(function(bI,bJ){var bH=br(bJ).outerWidth();if(bH>bG){bG=bH}});bG++;bF.width(bG);return bG}function p(bF,bI){var bG=bF.add(bI);var bH;bG.css({position:"relative",left:-1});bH=bF.outerHeight()-bI.outerHeight();bG.css({position:"",left:""});return bH}u.getOuterRect=aj;u.getClientRect=y;u.getContentRect=ae;u.getScrollbarWidths=a;function bk(bG){var bF=bG.css("position"),bH=bG.parents().filter(function(){var bI=br(this);return(/(auto|scroll)/).test(bI.css("overflow")+bI.css("overflow-y")+bI.css("overflow-x"))}).eq(0);return bF==="fixed"||!bH.length?br(bG[0].ownerDocument||document):bH}function aj(bG,bF){var bJ=bG.offset();var bI=bJ.left-(bF?bF.left:0);var bH=bJ.top-(bF?bF.top:0);return{left:bI,right:bI+bG.outerWidth(),top:bH,bottom:bH+bG.outerHeight()}}function y(bH,bF){var bK=bH.offset();var bG=a(bH);var bJ=bK.left+by(bH,"border-left-width")+bG.left-(bF?bF.left:0);var bI=bK.top+by(bH,"border-top-width")+bG.top-(bF?bF.top:0);return{left:bJ,right:bJ+bH[0].clientWidth,top:bI,bottom:bI+bH[0].clientHeight}}function ae(bG,bF){var bJ=bG.offset();var bI=bJ.left+by(bG,"border-left-width")+by(bG,"padding-left")-(bF?bF.left:0);var bH=bJ.top+by(bG,"border-top-width")+by(bG,"padding-top")-(bF?bF.top:0);return{left:bI,right:bI+bG.width(),top:bH,bottom:bH+bG.height()}}function a(bF){var bH=bF.innerWidth()-bF[0].clientWidth;var bG={left:0,right:0,top:0,bottom:bF.innerHeight()-bF[0].clientHeight};if(bj()&&bF.css("direction")=="rtl"){bG.left=bH}else{bG.right=bH}return bG}var B=null;function bj(){if(B===null){B=av()}return B}function av(){var bG=br("<div><div/></div>").css({position:"absolute",top:-1000,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body");var bH=bG.children();var bF=bH.offset().left>bG.offset().left;bG.remove();return bF}function by(bF,bG){return parseFloat(bF.css(bG))||0}u.preventDefault=bx;function bB(bF){return bF.which==1&&!bF.ctrlKey}function O(bF){if(bF.pageX!==undefined){return bF.pageX}var bG=bF.originalEvent.touches;if(bG){return bG[0].pageX}}function N(bF){if(bF.pageY!==undefined){return bF.pageY}var bG=bF.originalEvent.touches;if(bG){return bG[0].pageY}}function aN(bF){return/^touch/.test(bF.type)}function x(bF){bF.addClass("fc-unselectable").on("selectstart",bx)}function bx(bF){bF.preventDefault()}u.intersectRects=c;function c(bG,bF){var bH={left:Math.max(bG.left,bF.left),right:Math.min(bG.right,bF.right),top:Math.max(bG.top,bF.top),bottom:Math.min(bG.bottom,bF.bottom)};if(bH.left<bH.right&&bH.top<bH.bottom){return bH}return false}function aD(bF,bG){return{left:Math.min(Math.max(bF.left,bG.left),bG.right),top:Math.min(Math.max(bF.top,bG.top),bG.bottom)}}function aT(bF){return{left:(bF.left+bF.right)/2,top:(bF.top+bF.bottom)/2}}function bq(bG,bF){return{left:bG.left-bF.left,top:bG.top-bF.top}}u.parseFieldSpecs=ax;u.compareByFieldSpecs=ba;u.compareByFieldSpec=w;u.flexibleCompare=J;function ax(bF){var bJ=[];var bI=[];var bH,bG;if(typeof bF==="string"){bI=bF.split(/\s*,\s*/)}else{if(typeof bF==="function"){bI=[bF]}else{if(br.isArray(bF)){bI=bF}}}for(bH=0;bH<bI.length;bH++){bG=bI[bH];if(typeof bG==="string"){bJ.push(bG.charAt(0)=="-"?{field:bG.substring(1),order:-1}:{field:bG,order:1})}else{if(typeof bG==="function"){bJ.push({func:bG})}}}return bJ}function ba(bI,bH,bJ){var bF;var bG;for(bF=0;bF<bJ.length;bF++){bG=w(bI,bH,bJ[bF]);if(bG){return bG}}return 0}function w(bH,bF,bG){if(bG.func){return bG.func(bH,bF)}return J(bH[bG.field],bF[bG.field])*(bG.order||1)}function J(bG,bF){if(!bG&&!bF){return 0}if(bF==null){return -1}if(bG==null){return 1}if(br.type(bG)==="string"||br.type(bF)==="string"){return String(bG).localeCompare(String(bF))}return bG-bF}function e(bN,bG){var bJ=bN.start;var bH=bN.end;var bM=bG.start;var bK=bG.end;var bL,bO;var bF,bI;if(bH>bM&&bJ<bK){if(bJ>=bM){bL=bJ.clone();bF=true}else{bL=bM.clone();bF=false}if(bH<=bK){bO=bH.clone();bI=true}else{bO=bK.clone();bI=false}return{start:bL,end:bO,isStart:bF,isEnd:bI}}}u.computeIntervalUnit=au;u.divideRangeByDuration=m;u.divideDurationByDuration=A;u.multiplyDuration=am;u.durationHasTime=Y;var aL=["sun","mon","tue","wed","thu","fri","sat"];var aC=["year","month","week","day","hour","minute","second","millisecond"];function f(bG,bF){return a4.duration({days:bG.clone().stripTime().diff(bF.clone().stripTime(),"days"),ms:bG.time()-bF.time()})}function aa(bG,bF){return a4.duration({days:bG.clone().stripTime().diff(bF.clone().stripTime(),"days")})}function d(bG,bF,bH){return a4.duration(Math.round(bG.diff(bF,bH,true)),bH)}function au(bJ,bF){var bG,bH;var bI;for(bG=0;bG<aC.length;bG++){bH=aC[bG];bI=ao(bH,bJ,bF);if(bI>=1&&bv(bI)){break}}return bH}function ao(bG,bH,bF){if(bF!=null){return bF.diff(bH,bG,true)}else{if(a4.isDuration(bH)){return bH.as(bG)}else{return bH.end.diff(bH.start,bG,true)}}}function m(bI,bG,bH){var bF;if(Y(bH)){return(bG-bI)/bH}bF=bH.asMonths();if(Math.abs(bF)>=1&&bv(bF)){return bG.diff(bI,"months",true)/bF}return bG.diff(bI,"days",true)/bH.asDays()}function A(bH,bG){var bF,bI;if(Y(bH)||Y(bG)){return bH/bG}bF=bH.asMonths();bI=bG.asMonths();if(Math.abs(bF)>=1&&bv(bF)&&Math.abs(bI)>=1&&bv(bI)){return bF/bI}return bH.asDays()/bG.asDays()}function am(bG,bH){var bF;if(Y(bG)){return a4.duration(bG*bH)}bF=bG.asMonths();if(Math.abs(bF)>=1&&bv(bF)){return a4.duration({months:bF*bH})}return a4.duration({days:bG.asDays()*bH})}function Y(bF){return Boolean(bF.hours()||bF.minutes()||bF.seconds()||bF.milliseconds())}function h(bF){return Object.prototype.toString.call(bF)==="[object Date]"||bF instanceof Date}function Z(bF){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(bF)}u.log=function(){var bF=window.console;if(bF&&bF.log){return bF.log.apply(bF,arguments)}};u.warn=function(){var bF=window.console;if(bF&&bF.warn){return bF.warn.apply(bF,arguments)}else{return u.log.apply(u,arguments)}};var aI={}.hasOwnProperty;function bC(bN,bJ){var bM={};var bI,bF;var bL;var bH,bG;var bK;if(bJ){for(bI=0;bI<bJ.length;bI++){bF=bJ[bI];bL=[];for(bH=bN.length-1;bH>=0;bH--){bG=bN[bH][bF];if(typeof bG==="object"){bL.unshift(bG)}else{if(bG!==undefined){bM[bF]=bG;break}}}if(bL.length){bM[bF]=bC(bL)}}}for(bI=bN.length-1;bI>=0;bI--){bK=bN[bI];for(bF in bK){if(!(bF in bM)){bM[bF]=bK[bF]}}}return bM}function R(bF){var bG=function(){};bG.prototype=bF;return new bG()}function r(bH,bG){for(var bF in bH){if(ac(bH,bF)){bG[bF]=bH[bF]}}}function a3(bJ,bG){var bI=["constructor","toString","valueOf"];var bH,bF;for(bH=0;bH<bI.length;bH++){bF=bI[bH];if(bJ[bF]!==Object.prototype[bF]){bG[bF]=bJ[bF]}}}function ac(bG,bF){return aI.call(bG,bF)}function bm(bF){return/undefined|null|boolean|number|string/.test(br.type(bF))}function v(bI,bJ,bG){if(br.isFunction(bI)){bI=[bI]}if(bI){var bH;var bF;for(bH=0;bH<bI.length;bH++){bF=bI[bH].apply(bJ,bG)||bF}return bF}}function S(){for(var bF=0;bF<arguments.length;bF++){if(arguments[bF]!==undefined){return arguments[bF]}}}function aG(bF){return(bF+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function aE(bF){return bF.replace(/&.*?;/g,"")}function I(bG){var bF=[];br.each(bG,function(bH,bI){if(bI!=null){bF.push(bH+":"+bI)}});return bF.join(";")}function n(bF){return bF.charAt(0).toUpperCase()+bF.slice(1)}function U(bG,bF){return bG-bF}function bv(bF){return bF%1===0}function ay(bG,bF){var bH=bG[bF];return function(){return bH.apply(bG,arguments)}}function a8(bH,bJ,bG){var bM,bL,bF,bK,bN;var bI=function(){var bO=+new Date()-bK;if(bO<bJ){bM=setTimeout(bI,bJ-bO)}else{bM=null;if(!bG){bN=bH.apply(bF,bL);bF=bL=null}}};return function(){bF=this;bL=arguments;bK=+new Date();var bO=bG&&!bM;if(!bM){bM=setTimeout(bI,bJ)}if(bO){bN=bH.apply(bF,bL);bF=bL=null}return bN}}var bE=/^\s*\d{4}-\d\d$/;var at=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/;var ak=a4.fn;var aw=br.extend({},ak);var aA;var az;var Q;u.moment=function(){return bf(arguments)};u.moment.utc=function(){var bF=bf(arguments,true);if(bF.hasTime()){bF.utc()}return bF};u.moment.parseZone=function(){return bf(arguments,true,true)};function bf(bL,bK,bJ){var bN=bL[0];var bI=bL.length==1&&typeof bN==="string";var bH;var bM;var bF;var bG;if(a4.isMoment(bN)){bG=a4.apply(null,bL);D(bN,bG)}else{if(h(bN)||bN===undefined){bG=a4.apply(null,bL)}else{bH=false;bM=false;if(bI){if(bE.test(bN)){bN+="-01";bL=[bN];bH=true;bM=true}else{if((bF=at.exec(bN))){bH=!bF[5];bM=true}}}else{if(br.isArray(bN)){bM=true}}if(bK||bH){bG=a4.utc.apply(a4,bL)}else{bG=a4.apply(null,bL)}if(bH){bG._ambigTime=true;bG._ambigZone=true}else{if(bJ){if(bM){bG._ambigZone=true}else{if(bI){if(bG.utcOffset){bG.utcOffset(bN)}else{bG.zone(bN)}}}}}}}bG._fullCalendar=true;return bG}ak.clone=function(){var bF=aw.clone.apply(this,arguments);D(this,bF);if(this._fullCalendar){bF._fullCalendar=true}return bF};ak.week=ak.weeks=function(bG){var bF=(this._locale||this._lang)._fullCalendar_weekCalc;if(bG==null&&typeof bF==="function"){return bF(this)}else{if(bF==="ISO"){return aw.isoWeek.apply(this,arguments)}}return aw.week.apply(this,arguments)};ak.time=function(bG){if(!this._fullCalendar){return aw.time.apply(this,arguments)}if(bG==null){return a4.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()})}else{this._ambigTime=false;if(!a4.isDuration(bG)&&!a4.isMoment(bG)){bG=a4.duration(bG)}var bF=0;if(a4.isDuration(bG)){bF=Math.floor(bG.asDays())*24}return this.hours(bF+bG.hours()).minutes(bG.minutes()).seconds(bG.seconds()).milliseconds(bG.milliseconds())}};ak.stripTime=function(){var bF;if(!this._ambigTime){bF=this.toArray();this.utc();az(this,bF.slice(0,3));this._ambigTime=true;this._ambigZone=true}return this};ak.hasTime=function(){return !this._ambigTime};ak.stripZone=function(){var bF,bG;if(!this._ambigZone){bF=this.toArray();bG=this._ambigTime;this.utc();az(this,bF);this._ambigTime=bG||false;this._ambigZone=true}return this};ak.hasZone=function(){return !this._ambigZone};ak.local=function(){var bF=this.toArray();var bG=this._ambigZone;aw.local.apply(this,arguments);this._ambigTime=false;this._ambigZone=false;if(bG){Q(this,bF)}return this};ak.utc=function(){aw.utc.apply(this,arguments);this._ambigTime=false;this._ambigZone=false;return this};br.each(["zone","utcOffset"],function(bG,bF){if(aw[bF]){ak[bF]=function(bH){if(bH!=null){this._ambigTime=false;this._ambigZone=false}return aw[bF].apply(this,arguments)}}});ak.format=function(){if(this._fullCalendar&&arguments[0]){return l(this,arguments[0])}if(this._ambigTime){return ad(this,"YYYY-MM-DD")}if(this._ambigZone){return ad(this,"YYYY-MM-DD[T]HH:mm:ss")}return aw.format.apply(this,arguments)};ak.toISOString=function(){if(this._ambigTime){return ad(this,"YYYY-MM-DD")}if(this._ambigZone){return ad(this,"YYYY-MM-DD[T]HH:mm:ss")}return aw.toISOString.apply(this,arguments)};ak.isWithin=function(bH,bG){var bF=bb([this,bH,bG]);return bF[0]>=bF[1]&&bF[0]<bF[2]};ak.isSame=function(bH,bG){var bF;if(!this._fullCalendar){return aw.isSame.apply(this,arguments)}if(bG){bF=bb([this,bH],true);return aw.isSame.call(bF[0],bF[1],bG)}else{bH=u.moment.parseZone(bH);return aw.isSame.call(this,bH)&&Boolean(this._ambigTime)===Boolean(bH._ambigTime)&&Boolean(this._ambigZone)===Boolean(bH._ambigZone)}};br.each(["isBefore","isAfter"],function(bG,bF){ak[bF]=function(bJ,bI){var bH;if(!this._fullCalendar){return aw[bF].apply(this,arguments)}bH=bb([this,bJ]);return aw[bF].call(bH[0],bH[1],bI)}});function bb(bG,bM){var bI=false;var bL=false;var bF=bG.length;var bH=[];var bJ,bK;for(bJ=0;bJ<bF;bJ++){bK=bG[bJ];if(!a4.isMoment(bK)){bK=u.moment.parseZone(bK)}bI=bI||bK._ambigTime;bL=bL||bK._ambigZone;bH.push(bK)}for(bJ=0;bJ<bF;bJ++){bK=bH[bJ];if(!bM&&bI&&!bK._ambigTime){bH[bJ]=bK.clone().stripTime()}else{if(bL&&!bK._ambigZone){bH[bJ]=bK.clone().stripZone()}}}return bH}function D(bG,bF){if(bG._ambigTime){bF._ambigTime=true}else{if(bF._ambigTime){bF._ambigTime=false}}if(bG._ambigZone){bF._ambigZone=true}else{if(bF._ambigZone){bF._ambigZone=false}}}function bt(bG,bF){bG.year(bF[0]||0).month(bF[1]||0).date(bF[2]||0).hours(bF[3]||0).minutes(bF[4]||0).seconds(bF[5]||0).milliseconds(bF[6]||0)}aA="_d" in a4()&&"updateOffset" in a4;az=aA?function(bG,bF){bG._d.setTime(Date.UTC.apply(Date,bF));a4.updateOffset(bG,false)}:bt;Q=aA?function(bG,bF){bG._d.setTime(+new Date(bF[0]||0,bF[1]||0,bF[2]||0,bF[3]||0,bF[4]||0,bF[5]||0,bF[6]||0));a4.updateOffset(bG,false)}:bt;function ad(bG,bF){return aw.format.call(bG,bF)}function l(bG,bF){return a2(bG,ab(bF))}function a2(bF,bI){var bH="";var bG;for(bG=0;bG<bI.length;bG++){bH+=bl(bF,bI[bG])}return bH}var ah={t:function(bF){return ad(bF,"a").charAt(0)},T:function(bF){return ad(bF,"A").charAt(0)}};function bl(bG,bF){var bH;var bI;if(typeof bF==="string"){return bF}else{if((bH=bF.token)){if(ah[bH]){return ah[bH](bG)}return ad(bG,bH)}else{if(bF.maybe){bI=a2(bG,bF.maybe);if(bI.match(/[1-9]/)){return bI}}}}return""}function bh(bK,bI,bF,bJ,bG){var bH;bK=u.moment.parseZone(bK);bI=u.moment.parseZone(bI);bH=(bK.localeData||bK.lang).call(bK);bF=bH.longDateFormat(bF)||bF;bJ=bJ||" - ";return bz(bK,bI,ab(bF),bJ,bG)}u.formatRange=bh;function bz(bU,bT,bM,bL,bG){var bK=bU.clone().stripZone();var bH=bT.clone().stripZone();var bQ;var bS;var bJ="";var bF;var bO="";var bR;var bP="";var bN="";var bI="";for(bS=0;bS<bM.length;bS++){bQ=ag(bU,bT,bK,bH,bM[bS]);if(bQ===false){break}bJ+=bQ}for(bF=bM.length-1;bF>bS;bF--){bQ=ag(bU,bT,bK,bH,bM[bF]);if(bQ===false){break}bO=bQ+bO}for(bR=bS;bR<=bF;bR++){bP+=bl(bU,bM[bR]);bN+=bl(bT,bM[bR])}if(bP||bN){if(bG){bI=bN+bL+bP}else{bI=bP+bL+bN}}return bJ+bI+bO}var j={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"};function ag(bL,bJ,bK,bI,bF){var bG;var bH;if(typeof bF==="string"){return bF}else{if((bG=bF.token)){bH=j[bG.charAt(0)];if(bH&&bK.isSame(bI,bH)){return ad(bL,bG)}}}return false}var bA={};function ab(bF){if(bF in bA){return bA[bF]}return(bA[bF]=q(bF))}function q(bG){var bI=[];var bF=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;var bH;while((bH=bF.exec(bG))){if(bH[1]){bI.push(bH[1])}else{if(bH[2]){bI.push({maybe:q(bH[2])})}else{if(bH[3]){bI.push({token:bH[3]})}else{if(bH[5]){bI.push(bH[5])}}}}}return bI}u.Class=ap;function ap(){}ap.extend=function(){var bF=arguments.length;var bH;var bG;for(bH=0;bH<bF;bH++){bG=arguments[bH];if(bH<bF-1){aS(this,bG)}}return aV(this,bG||{})};ap.mixin=function(bF){aS(this,bF)};function aV(bG,bF){var bH;if(ac(bF,"constructor")){bH=bF.constructor}if(typeof bH!=="function"){bH=bF.constructor=function(){bG.apply(this,arguments)}}bH.prototype=R(bG.prototype);r(bF,bH.prototype);a3(bF,bH.prototype);r(bG,bH);return bH}function aS(bG,bF){r(bF,bG.prototype)}var t=u.EmitterMixin={callbackHash:null,on:function(bF,bG){this.loopCallbacks(bF,"add",[bG]);return this},off:function(bF,bG){this.loopCallbacks(bF,"remove",[bG]);return this},trigger:function(bG){var bF=Array.prototype.slice.call(arguments,1);this.triggerWith(bG,this,bF);return this},triggerWith:function(bG,bH,bF){this.loopCallbacks(bG,"fireWith",[bH,bF]);return this},loopCallbacks:function(bI,bF,bH){var bL=bI.split(".");var bK,bG;var bJ;for(bK=0;bK<bL.length;bK++){bG=bL[bK];if(bG){bJ=this.ensureCallbackObj((bK?".":"")+bG);bJ[bF].apply(bJ,bH)}}},ensureCallbackObj:function(bF){if(!this.callbackHash){this.callbackHash={}}if(!this.callbackHash[bF]){this.callbackHash[bF]=br.Callbacks()}return this.callbackHash[bF]}};var ai=u.ListenerMixin=(function(){var bF=0;var bG={listenerId:null,listenTo:function(bI,bH,bK){if(typeof bH==="object"){for(var bJ in bH){if(bH.hasOwnProperty(bJ)){this.listenTo(bI,bJ,bH[bJ])}}}else{if(typeof bH==="string"){bI.on(bH+"."+this.getListenerNamespace(),br.proxy(bK,this))}}},stopListeningTo:function(bH,bI){bH.off((bI||"")+"."+this.getListenerNamespace())},getListenerNamespace:function(){if(this.listenerId==null){this.listenerId=bF++}return"_listener"+this.listenerId}};return bG})();var aW=ap.extend(ai,{isHidden:true,options:null,el:null,margin:10,constructor:function(bF){this.options=bF||{}},show:function(){if(this.isHidden){if(!this.el){this.render()}this.el.show();this.position();this.isHidden=false;this.trigger("show")}},hide:function(){if(!this.isHidden){this.el.hide();this.isHidden=true;this.trigger("hide")}},render:function(){var bG=this;var bF=this.options;this.el=br('<div class="fc-popover"/>').addClass(bF.className||"").css({top:0,left:0}).append(bF.content).appendTo(bF.parentEl);this.el.on("click",".fc-close",function(){bG.hide()});if(bF.autoHide){this.listenTo(br(document),"mousedown",this.documentMousedown)}},documentMousedown:function(bF){if(this.el&&!br(bF.target).closest(this.el).length){this.hide()}},removeElement:function(){this.hide();if(this.el){this.el.remove();this.el=null}this.stopListeningTo(br(document),"mousedown")},position:function(){var bP=this.options;var bL=this.el.offsetParent().offset();var bF=this.el.outerWidth();var bN=this.el.outerHeight();var bM=br(window);var bK=bk(this.el);var bG;var bI;var bO;var bJ;var bH;bJ=bP.top||0;if(bP.left!==undefined){bH=bP.left}else{if(bP.right!==undefined){bH=bP.right-bF}else{bH=0}}if(bK.is(window)||bK.is(document)){bK=bM;bG=0;bI=0}else{bO=bK.offset();bG=bO.top;bI=bO.left}bG+=bM.scrollTop();bI+=bM.scrollLeft();if(bP.viewportConstrain!==false){bJ=Math.min(bJ,bG+bK.outerHeight()-bN-this.margin);bJ=Math.max(bJ,bG+this.margin);bH=Math.min(bH,bI+bK.outerWidth()-bF-this.margin);bH=Math.max(bH,bI+this.margin)}this.el.css({top:bJ-bL.top,left:bH-bL.left})},trigger:function(bF){if(this.options[bF]){this.options[bF].apply(this,Array.prototype.slice.call(arguments,1))}}});var af=u.CoordCache=ap.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:false,isVertical:false,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(bF){this.els=br(bF.els);this.isHorizontal=bF.isHorizontal;this.isVertical=bF.isVertical;this.forcedOffsetParentEl=bF.offsetParent?br(bF.offsetParent):null},build:function(){var bF=this.forcedOffsetParentEl||this.els.eq(0).offsetParent();this.origin=bF.offset();this.boundingRect=this.queryBoundingRect();if(this.isHorizontal){this.buildElHorizontals()}if(this.isVertical){this.buildElVerticals()}},clear:function(){this.origin=null;this.boundingRect=null;this.lefts=null;this.rights=null;this.tops=null;this.bottoms=null},ensureBuilt:function(){if(!this.origin){this.build()}},queryBoundingRect:function(){var bF=bk(this.els.eq(0));if(!bF.is(document)){return y(bF)}},buildElHorizontals:function(){var bG=[];var bF=[];this.els.each(function(bH,bK){var bJ=br(bK);var bL=bJ.offset().left;var bI=bJ.outerWidth();bG.push(bL);bF.push(bL+bI)});this.lefts=bG;this.rights=bF},buildElVerticals:function(){var bF=[];var bG=[];this.els.each(function(bI,bK){var bJ=br(bK);var bL=bJ.offset().top;var bH=bJ.outerHeight();bF.push(bL);bG.push(bL+bH)});this.tops=bF;this.bottoms=bG},getHorizontalIndex:function(bI){this.ensureBuilt();var bG=this.boundingRect;var bK=this.lefts;var bJ=this.rights;var bF=bK.length;var bH;if(!bG||(bI>=bG.left&&bI<bG.right)){for(bH=0;bH<bF;bH++){if(bI>=bK[bH]&&bI<bJ[bH]){return bH}}}},getVerticalIndex:function(bI){this.ensureBuilt();var bG=this.boundingRect;var bJ=this.tops;var bK=this.bottoms;var bF=bJ.length;var bH;if(!bG||(bI>=bG.top&&bI<bG.bottom)){for(bH=0;bH<bF;bH++){if(bI>=bJ[bH]&&bI<bK[bH]){return bH}}}},getLeftOffset:function(bF){this.ensureBuilt();return this.lefts[bF]},getLeftPosition:function(bF){this.ensureBuilt();return this.lefts[bF]-this.origin.left},getRightOffset:function(bF){this.ensureBuilt();return this.rights[bF]},getRightPosition:function(bF){this.ensureBuilt();return this.rights[bF]-this.origin.left},getWidth:function(bF){this.ensureBuilt();return this.rights[bF]-this.lefts[bF]},getTopOffset:function(bF){this.ensureBuilt();return this.tops[bF]},getTopPosition:function(bF){this.ensureBuilt();return this.tops[bF]-this.origin.top},getBottomOffset:function(bF){this.ensureBuilt();return this.bottoms[bF]},getBottomPosition:function(bF){this.ensureBuilt();return this.bottoms[bF]-this.origin.top},getHeight:function(bF){this.ensureBuilt();return this.bottoms[bF]-this.tops[bF]}});var bg=u.DragListener=ap.extend(ai,{options:null,subjectEl:null,subjectHref:null,originX:null,originY:null,scrollEl:null,isInteracting:false,isDistanceSurpassed:false,isDelayEnded:false,isDragging:false,isTouch:false,delay:null,delayTimeoutId:null,minDistance:null,constructor:function(bF){this.options=bF||{}},startInteraction:function(bH,bG){var bF=aN(bH);if(bH.type==="mousedown"){if(!bB(bH)){return}else{bH.preventDefault()}}if(!this.isInteracting){bG=bG||{};this.delay=S(bG.delay,this.options.delay,0);this.minDistance=S(bG.distance,this.options.distance,0);this.subjectEl=this.options.subjectEl;this.isInteracting=true;this.isTouch=bF;this.isDelayEnded=false;this.isDistanceSurpassed=false;this.originX=O(bH);this.originY=N(bH);this.scrollEl=bk(br(bH.target));this.bindHandlers();this.initAutoScroll();this.handleInteractionStart(bH);this.startDelay(bH);if(!this.minDistance){this.handleDistanceSurpassed(bH)}}},handleInteractionStart:function(bF){this.trigger("interactionStart",bF)},endInteraction:function(bF){if(this.isInteracting){this.endDrag(bF);if(this.delayTimeoutId){clearTimeout(this.delayTimeoutId);this.delayTimeoutId=null}this.destroyAutoScroll();this.unbindHandlers();this.isInteracting=false;this.handleInteractionEnd(bF)}},handleInteractionEnd:function(bF){this.trigger("interactionEnd",bF)},bindHandlers:function(){var bG=this;var bF=1;if(this.isTouch){this.listenTo(br(document),{touchmove:this.handleTouchMove,touchend:this.endInteraction,touchcancel:this.endInteraction,touchstart:function(bH){if(bF){bF--}else{bG.endInteraction(bH)}}});if(this.scrollEl){this.listenTo(this.scrollEl,"scroll",this.handleTouchScroll)}}else{this.listenTo(br(document),{mousemove:this.handleMouseMove,mouseup:this.endInteraction})}this.listenTo(br(document),{selectstart:bx,contextmenu:bx})},unbindHandlers:function(){this.stopListeningTo(br(document));if(this.scrollEl){this.stopListeningTo(this.scrollEl)}},startDrag:function(bG,bF){this.startInteraction(bG,bF);if(!this.isDragging){this.isDragging=true;this.handleDragStart(bG)}},handleDragStart:function(bF){this.trigger("dragStart",bF);this.initHrefHack()},handleMove:function(bI){var bH=O(bI)-this.originX;var bF=N(bI)-this.originY;var bJ=this.minDistance;var bG;if(!this.isDistanceSurpassed){bG=bH*bH+bF*bF;if(bG>=bJ*bJ){this.handleDistanceSurpassed(bI)}}if(this.isDragging){this.handleDrag(bH,bF,bI)}},handleDrag:function(bG,bF,bH){this.trigger("drag",bG,bF,bH);this.updateAutoScroll(bH)},endDrag:function(bF){if(this.isDragging){this.isDragging=false;this.handleDragEnd(bF)}},handleDragEnd:function(bF){this.trigger("dragEnd",bF);this.destroyHrefHack()},startDelay:function(bF){var bG=this;if(this.delay){this.delayTimeoutId=setTimeout(function(){bG.handleDelayEnd(bF)},this.delay)}else{this.handleDelayEnd(bF)}},handleDelayEnd:function(bF){this.isDelayEnded=true;if(this.isDistanceSurpassed){this.startDrag(bF)}},handleDistanceSurpassed:function(bF){this.isDistanceSurpassed=true;if(this.isDelayEnded){this.startDrag(bF)}},handleTouchMove:function(bF){if(this.isDragging){bF.preventDefault()}this.handleMove(bF)},handleMouseMove:function(bF){this.handleMove(bF)},handleTouchScroll:function(bF){if(!this.isDragging){this.endInteraction(bF)}},initHrefHack:function(){var bF=this.subjectEl;if((this.subjectHref=bF?bF.attr("href"):null)){bF.removeAttr("href")}},destroyHrefHack:function(){var bG=this.subjectEl;var bF=this.subjectHref;setTimeout(function(){if(bF){bG.attr("href",bF)}},0)},trigger:function(bF){if(this.options[bF]){this.options[bF].apply(this,Array.prototype.slice.call(arguments,1))}if(this["_"+bF]){this["_"+bF].apply(this,Array.prototype.slice.call(arguments,1))}}});bg.mixin({isAutoScroll:false,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,initAutoScroll:function(){var bF=this.scrollEl;this.isAutoScroll=this.options.scroll&&bF&&!bF.is(window)&&!bF.is(document);if(this.isAutoScroll){this.listenTo(bF,"scroll",a8(this.handleDebouncedScroll,100))}},destroyAutoScroll:function(){this.endAutoScroll();if(this.isAutoScroll){this.stopListeningTo(this.scrollEl,"scroll")}},computeScrollBounds:function(){if(this.isAutoScroll){this.scrollBounds=aj(this.scrollEl)}},updateAutoScroll:function(bL){var bH=this.scrollSensitivity;var bF=this.scrollBounds;var bG,bI;var bM,bN;var bK=0;var bJ=0;if(bF){bG=(bH-(N(bL)-bF.top))/bH;bI=(bH-(bF.bottom-N(bL)))/bH;bM=(bH-(O(bL)-bF.left))/bH;bN=(bH-(bF.right-O(bL)))/bH;if(bG>=0&&bG<=1){bK=bG*this.scrollSpeed*-1}else{if(bI>=0&&bI<=1){bK=bI*this.scrollSpeed}}if(bM>=0&&bM<=1){bJ=bM*this.scrollSpeed*-1}else{if(bN>=0&&bN<=1){bJ=bN*this.scrollSpeed}}}this.setScrollVel(bK,bJ)},setScrollVel:function(bG,bF){this.scrollTopVel=bG;this.scrollLeftVel=bF;this.constrainScrollVel();if((this.scrollTopVel||this.scrollLeftVel)&&!this.scrollIntervalId){this.scrollIntervalId=setInterval(ay(this,"scrollIntervalFunc"),this.scrollIntervalMs)}},constrainScrollVel:function(){var bF=this.scrollEl;if(this.scrollTopVel<0){if(bF.scrollTop()<=0){this.scrollTopVel=0}}else{if(this.scrollTopVel>0){if(bF.scrollTop()+bF[0].clientHeight>=bF[0].scrollHeight){this.scrollTopVel=0}}}if(this.scrollLeftVel<0){if(bF.scrollLeft()<=0){this.scrollLeftVel=0}}else{if(this.scrollLeftVel>0){if(bF.scrollLeft()+bF[0].clientWidth>=bF[0].scrollWidth){this.scrollLeftVel=0}}}},scrollIntervalFunc:function(){var bG=this.scrollEl;var bF=this.scrollIntervalMs/1000;if(this.scrollTopVel){bG.scrollTop(bG.scrollTop()+this.scrollTopVel*bF)}if(this.scrollLeftVel){bG.scrollLeft(bG.scrollLeft()+this.scrollLeftVel*bF)}this.constrainScrollVel();if(!this.scrollTopVel&&!this.scrollLeftVel){this.endAutoScroll()}},endAutoScroll:function(){if(this.scrollIntervalId){clearInterval(this.scrollIntervalId);this.scrollIntervalId=null;this.handleScrollEnd()}},handleDebouncedScroll:function(){if(!this.scrollIntervalId){this.handleScrollEnd()}},handleScrollEnd:function(){}});var aq=bg.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(bG,bF){bg.call(this,bF);this.component=bG},handleInteractionStart:function(bJ){var bG=this.subjectEl;var bH;var bI;var bF;bg.prototype.handleInteractionStart.apply(this,arguments);this.computeCoords();if(bJ){bI={left:O(bJ),top:N(bJ)};bF=bI;if(bG){bH=aj(bG);bF=aD(bF,bH)}this.origHit=this.queryHit(bF.left,bF.top);if(bG&&this.options.subjectCenter){if(this.origHit){bH=c(this.origHit,bH)||bH}bF=aT(bH)}this.coordAdjust=bq(bF,bI)}else{this.origHit=null;this.coordAdjust=null}},computeCoords:function(){this.component.prepareHits();this.computeScrollBounds()},handleDragStart:function(bF){var bG;bg.prototype.handleDragStart.apply(this,arguments);bG=this.queryHit(O(bF),N(bF));if(bG){this.handleHitOver(bG)}},handleDrag:function(bG,bF,bH){var bI;bg.prototype.handleDrag.apply(this,arguments);bI=this.queryHit(O(bH),N(bH));if(!bw(bI,this.hit)){if(this.hit){this.handleHitOut()}if(bI){this.handleHitOver(bI)}}},handleDragEnd:function(){this.handleHitDone();bg.prototype.handleDragEnd.apply(this,arguments)},handleHitOver:function(bG){var bF=bw(bG,this.origHit);this.hit=bG;this.trigger("hitOver",this.hit,bF,this.origHit)},handleHitOut:function(){if(this.hit){this.trigger("hitOut",this.hit);this.handleHitDone();this.hit=null}},handleHitDone:function(){if(this.hit){this.trigger("hitDone",this.hit)}},handleInteractionEnd:function(){bg.prototype.handleInteractionEnd.apply(this,arguments);this.origHit=null;this.hit=null;this.component.releaseHits()},handleScrollEnd:function(){bg.prototype.handleScrollEnd.apply(this,arguments);this.computeCoords()},queryHit:function(bG,bF){if(this.coordAdjust){bG+=this.coordAdjust.left;bF+=this.coordAdjust.top}return this.component.queryHit(bG,bF)}});function bw(bG,bF){if(!bG&&!bF){return true}if(bG&&bF){return bG.component===bF.component&&ar(bG,bF)&&ar(bF,bG)}return false}function ar(bF,bG){for(var bH in bF){if(!/^(component|left|right|top|bottom)$/.test(bH)){if(bF[bH]!==bG[bH]){return false}}}return true}var a7=ap.extend(ai,{options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,y0:null,x0:null,topDelta:null,leftDelta:null,isFollowing:false,isHidden:false,isAnimating:false,constructor:function(bF,bG){this.options=bG=bG||{};this.sourceEl=bF;this.parentEl=bG.parentEl?br(bG.parentEl):bF.parent()},start:function(bF){if(!this.isFollowing){this.isFollowing=true;this.y0=N(bF);this.x0=O(bF);this.topDelta=0;this.leftDelta=0;if(!this.isHidden){this.updatePosition()}if(aN(bF)){this.listenTo(br(document),"touchmove",this.handleMove)}else{this.listenTo(br(document),"mousemove",this.handleMove)}}},stop:function(bG,bJ){var bI=this;var bH=this.options.revertDuration;function bF(){this.isAnimating=false;bI.removeElement();this.top0=this.left0=null;if(bJ){bJ()}}if(this.isFollowing&&!this.isAnimating){this.isFollowing=false;this.stopListeningTo(br(document));if(bG&&bH&&!this.isHidden){this.isAnimating=true;this.el.animate({top:this.top0,left:this.left0},{duration:bH,complete:bF})}else{bF()}}},getEl:function(){var bF=this.el;if(!bF){this.sourceEl.width();bF=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex});bF.addClass("fc-unselectable");bF.appendTo(this.parentEl)}return bF},removeElement:function(){if(this.el){this.el.remove();this.el=null}},updatePosition:function(){var bG;var bF;this.getEl();if(this.top0===null){this.sourceEl.width();bG=this.sourceEl.offset();bF=this.el.offsetParent().offset();this.top0=bG.top-bF.top;this.left0=bG.left-bF.left}this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},handleMove:function(bF){this.topDelta=N(bF)-this.y0;this.leftDelta=O(bF)-this.x0;if(!this.isHidden){this.updatePosition()}},hide:function(){if(!this.isHidden){this.isHidden=true;if(this.el){this.el.hide()}}},show:function(){if(this.isHidden){this.isHidden=false;this.updatePosition();this.getEl().show()}}});var aB=u.Grid=ap.extend(ai,{view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,dayDragListener:null,segDragListener:null,segResizeListener:null,externalDragListener:null,constructor:function(bF){this.view=bF;this.isRTL=bF.opt("isRTL");this.elsByFill={}},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return true},computeDisplayEventEnd:function(){return true},setRange:function(bF){this.start=bF.start.clone();this.end=bF.end.clone();this.rangeUpdated();this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var bG=this.view;var bF;var bH;this.eventTimeFormat=bG.opt("eventTimeFormat")||bG.opt("timeFormat")||this.computeEventTimeFormat();bF=bG.opt("displayEventTime");if(bF==null){bF=this.computeDisplayEventTime()}bH=bG.opt("displayEventEnd");if(bH==null){bH=this.computeDisplayEventEnd()}this.displayEventTime=bF;this.displayEventEnd=bH},spanToSegs:function(bF){},diffDates:function(bG,bF){if(this.largeUnit){return d(bG,bF,this.largeUnit)}else{return f(bG,bF)}},prepareHits:function(){},releaseHits:function(){},queryHit:function(bG,bF){},getHitSpan:function(bF){},getHitEl:function(bF){},setElement:function(bF){this.el=bF;x(bF);if(this.view.calendar.isTouch){this.bindDayHandler("touchstart",this.dayTouchStart)}else{this.bindDayHandler("mousedown",this.dayMousedown)}this.bindSegHandlers();this.bindGlobalHandlers()},bindDayHandler:function(bF,bG){var bH=this;this.el.on(bF,function(bI){if(!br(bI.target).is(".fc-event-container *, .fc-more")&&!br(bI.target).closest(".fc-popover").length){return bG.call(bH,bI)}})},removeElement:function(){this.unbindGlobalHandlers();this.clearDragListeners();this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){this.listenTo(br(document),{dragstart:this.externalDragStart,sortstart:this.externalDragStart})},unbindGlobalHandlers:function(){this.stopListeningTo(br(document))},dayMousedown:function(bF){this.clearDragListeners();this.buildDayDragListener().startInteraction(bF,{})},dayTouchStart:function(bF){this.clearDragListeners();this.buildDayDragListener().startInteraction(bF,{delay:this.view.opt("longPressDelay")})},buildDayDragListener:function(){var bK=this;var bG=this.view;var bF=bG.opt("selectable");var bH;var bJ;var bI=this.dayDragListener=new aq(this,{scroll:bG.opt("dragScroll"),dragStart:function(){bG.unselect()},hitOver:function(bM,bL,bN){if(bN){bH=bL?bM:null;if(bF){bJ=bK.computeSelection(bK.getHitSpan(bN),bK.getHitSpan(bM));if(bJ){bK.renderSelection(bJ)}else{if(bJ===false){bs()}}}}},hitOut:function(){bH=null;bJ=null;bK.unrenderSelection();al()},interactionEnd:function(bL){if(bH){bG.triggerDayClick(bK.getHitSpan(bH),bK.getHitEl(bH),bL)}if(bJ){bG.reportSelection(bJ,bL)}al();bK.dayDragListener=null}});return bI},clearDragListeners:function(){if(this.dayDragListener){this.dayDragListener.endInteraction()}if(this.segDragListener){this.segDragListener.endInteraction()}if(this.segResizeListener){this.segResizeListener.endInteraction()}if(this.externalDragListener){this.externalDragListener.endInteraction()}},renderEventLocationHelper:function(bG,bF){var bH=this.fabricateHelperEvent(bG,bF);return this.renderHelper(bH,bF)},fabricateHelperEvent:function(bG,bF){var bH=bF?R(bF.event):{};bH.start=bG.start.clone();bH.end=bG.end?bG.end.clone():null;bH.allDay=null;this.view.calendar.normalizeEventDates(bH);bH.className=(bH.className||[]).concat("fc-helper");if(!bF){bH.editable=false}return bH},renderHelper:function(bG,bF){},unrenderHelper:function(){},renderSelection:function(bF){this.renderHighlight(bF)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(bH,bF){var bG=this.computeSelectionSpan(bH,bF);if(bG&&!this.view.calendar.isSelectionSpanAllowed(bG)){return false}return bG},computeSelectionSpan:function(bG,bF){var bH=[bG.start,bG.end,bF.start,bF.end];bH.sort(U);return{start:bH[0].clone(),end:bH[3].clone()}},renderHighlight:function(bF){this.renderFill("highlight",this.spanToSegs(bF))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(bF){},unrenderNowIndicator:function(){},renderFill:function(bG,bF){},unrenderFill:function(bG){var bF=this.elsByFill[bG];if(bF){bF.remove();delete this.elsByFill[bG]}},renderFillSegEls:function(bK,bG){var bL=this;var bF=this[bK+"SegEl"];var bJ="";var bI=[];var bH;if(bG.length){for(bH=0;bH<bG.length;bH++){bJ+=this.fillSegHtml(bK,bG[bH])}br(bJ).each(function(bN,bP){var bM=bG[bN];var bO=br(bP);if(bF){bO=bF.call(bL,bM,bO)}if(bO){bO=br(bO);if(bO.is(bL.fillSegTag)){bM.el=bO;bI.push(bM)}}})}return bI},fillSegTag:"div",fillSegHtml:function(bJ,bF){var bK=this[bJ+"SegClasses"];var bG=this[bJ+"SegCss"];var bI=bK?bK.call(this,bF):[];var bH=I(bG?bG.call(this,bF):{});return"<"+this.fillSegTag+(bI.length?' class="'+bI.join(" ")+'"':"")+(bH?' style="'+bH+'"':"")+" />"},getDayClasses:function(bH){var bF=this.view;var bG=bF.calendar.getNow();var bI=["fc-"+aL[bH.day()]];if(bF.intervalDuration.as("months")==1&&bH.month()!=bF.intervalStart.month()){bI.push("fc-other-month")}if(bH.isSame(bG,"day")){bI.push("fc-today",bF.highlightStateClass)}else{if(bH<bG){bI.push("fc-past")}else{bI.push("fc-future")}}return bI}});aB.mixin({mousedOverSeg:null,isDraggingSeg:false,isResizingSeg:false,isDraggingExternal:false,segs:null,renderEvents:function(bI){var bH=[];var bF=[];var bG;for(bG=0;bG<bI.length;bG++){(T(bI[bG])?bH:bF).push(bI[bG])}this.segs=[].concat(this.renderBgEvents(bH),this.renderFgEvents(bF))},renderBgEvents:function(bG){var bF=this.eventsToSegs(bG);return this.renderBgSegs(bF)||bF},renderFgEvents:function(bG){var bF=this.eventsToSegs(bG);return this.renderFgSegs(bF)||bF},unrenderEvents:function(){this.handleSegMouseout();this.clearDragListeners();this.unrenderFgSegs();this.unrenderBgSegs();this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(bF){},unrenderFgSegs:function(){},renderFgSegEls:function(bH,bG){var bF=this.view;var bK="";var bJ=[];var bI;if(bH.length){for(bI=0;bI<bH.length;bI++){bK+=this.fgSegHtml(bH[bI],bG)}br(bK).each(function(bM,bO){var bL=bH[bM];var bN=bF.resolveEventEl(bL.event,br(bO));if(bN){bN.data("fc-seg",bL);bL.el=bN;bJ.push(bL)}})}return bJ},fgSegHtml:function(bG,bF){},renderBgSegs:function(bF){return this.renderFill("bgEvent",bF)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(bF,bG){return this.view.resolveEventEl(bF.event,bG)},bgEventSegClasses:function(bF){var bG=bF.event;var bH=bG.source||{};return["fc-bgevent"].concat(bG.className,bH.className||[])},bgEventSegCss:function(bF){return{"background-color":this.getSegSkinCss(bF)["background-color"]}},businessHoursSegClasses:function(bF){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){if(this.view.calendar.isTouch){this.bindSegHandler("touchstart",this.handleSegTouchStart)}else{this.bindSegHandler("mouseenter",this.handleSegMouseover);this.bindSegHandler("mouseleave",this.handleSegMouseout);this.bindSegHandler("mousedown",this.handleSegMousedown)}this.bindSegHandler("click",this.handleSegClick)},bindSegHandler:function(bF,bG){var bH=this;this.el.on(bF,".fc-event-container > *",function(bJ){var bI=br(this).data("fc-seg");if(bI&&!bH.isDraggingSeg&&!bH.isResizingSeg){return bG.call(bH,bI,bJ)}})},handleSegClick:function(bF,bG){return this.view.trigger("eventClick",bF.el[0],bF.event,bG)},handleSegMouseover:function(bF,bG){if(!this.mousedOverSeg){this.mousedOverSeg=bF;this.view.trigger("eventMouseover",bF.el[0],bF.event,bG)}},handleSegMouseout:function(bF,bG){bG=bG||{};if(this.mousedOverSeg){bF=bF||this.mousedOverSeg;this.mousedOverSeg=null;this.view.trigger("eventMouseout",bF.el[0],bF.event,bG)}},handleSegTouchStart:function(bL,bM){var bN=this.view;var bH=bL.event;var bJ=bN.isEventSelected(bH);var bG=bN.isEventDraggable(bH);var bI=bN.isEventResizable(bH);var bK=false;var bF;if(bJ&&bI){bK=this.startSegResize(bL,bM)}if(!bK&&(bG||bI)){this.clearDragListeners();bF=bG?this.buildSegDragListener(bL):new bg();bF._dragStart=function(){if(!bJ){bN.selectEvent(bH)}};bF.startInteraction(bM,{delay:bJ?0:this.view.opt("longPressDelay")})}},handleSegMousedown:function(bF,bG){var bH=this.startSegResize(bF,bG,{distance:5});if(!bH&&this.view.isEventDraggable(bF.event)){this.clearDragListeners();this.buildSegDragListener(bF).startInteraction(bG,{distance:5})}},startSegResize:function(bF,bH,bG){if(br(bH.target).is(".fc-resizer")){this.clearDragListeners();this.buildSegResizeListener(bF,br(bH.target).is(".fc-start-resizer")).startInteraction(bH,bG);return true}return false},buildSegDragListener:function(bJ){var bM=this;var bO=this.view;var bK=bO.calendar;var bI=bJ.el;var bH=bJ.event;var bN;var bG;var bL;var bF=this.segDragListener=new aq(bO,{scroll:bO.opt("dragScroll"),subjectEl:bI,subjectCenter:true,interactionStart:function(bP){bN=false;bG=new a7(bJ.el,{additionalClass:"fc-dragging",parentEl:bO.el,opacity:bF.isTouch?null:bO.opt("dragOpacity"),revertDuration:bO.opt("dragRevertDuration"),zIndex:2});bG.hide();bG.start(bP)},dragStart:function(bP){bN=true;bM.handleSegMouseout(bJ,bP);bM.segDragStart(bJ,bP);bO.hideEvent(bH)},hitOver:function(bQ,bP,bS){var bR;if(bJ.hit){bS=bJ.hit}bL=bM.computeEventDrop(bS.component.getHitSpan(bS),bQ.component.getHitSpan(bQ),bH);if(bL&&!bK.isEventSpanAllowed(bM.eventToSpan(bL),bH)){bs();bL=null}if(bL&&(bR=bO.renderDrag(bL,bJ))){bR.addClass("fc-dragging");if(!bF.isTouch){bM.applyDragOpacity(bR)}bG.hide()}else{bG.show()}if(bP){bL=null}},hitOut:function(){bO.unrenderDrag();bG.show();bL=null},hitDone:function(){al()},interactionEnd:function(bP){bG.stop(!bL,function(){if(bN){bO.unrenderDrag();bO.showEvent(bH);bM.segDragStop(bJ,bP)}if(bL){bO.reportEventDrop(bH,bL,this.largeUnit,bI,bP)}});bM.segDragListener=null}});return bF},segDragStart:function(bF,bG){this.isDraggingSeg=true;this.view.trigger("eventDragStart",bF.el[0],bF.event,bG,{})},segDragStop:function(bF,bG){this.isDraggingSeg=false;this.view.trigger("eventDragStop",bF.el[0],bF.event,bG,{})},computeEventDrop:function(bH,bM,bJ){var bK=this.view.calendar;var bG=bH.start;var bF=bM.start;var bL;var bI;if(bG.hasTime()===bF.hasTime()){bL=this.diffDates(bF,bG);if(bJ.allDay&&Y(bL)){bI={start:bJ.start.clone(),end:bK.getEventEnd(bJ),allDay:false};bK.normalizeEventTimes(bI)}else{bI={start:bJ.start.clone(),end:bJ.end?bJ.end.clone():null,allDay:bJ.allDay}}bI.start.add(bL);if(bI.end){bI.end.add(bL)}}else{bI={start:bF.clone(),end:null,allDay:!bF.hasTime()}}return bI},applyDragOpacity:function(bG){var bF=this.view.opt("dragOpacity");if(bF!=null){bG.each(function(bH,bI){bI.style.opacity=bF})}},externalDragStart:function(bI,bJ){var bF=this.view;var bH;var bG;if(bF.opt("droppable")){bH=br((bJ?bJ.item:null)||bI.target);bG=bF.opt("dropAccept");if(br.isFunction(bG)?bG.call(bH[0],bH):bH.is(bG)){if(!this.isDraggingExternal){this.listenToExternalDrag(bH,bI,bJ)}}}},listenToExternalDrag:function(bG,bI,bJ){var bM=this;var bL=this.view.calendar;var bK=K(bG);var bH;var bF=bM.externalDragListener=new aq(this,{interactionStart:function(){bM.isDraggingExternal=true},hitOver:function(bN){bH=bM.computeExternalDrop(bN.component.getHitSpan(bN),bK);if(bH&&!bL.isExternalSpanAllowed(bM.eventToSpan(bH),bH,bK.eventProps)){bs();bH=null}if(bH){bM.renderDrag(bH)}},hitOut:function(){bH=null},hitDone:function(){al();bM.unrenderDrag()},interactionEnd:function(bN){if(bH){bM.view.reportExternalDrop(bK,bH,bG,bN,bJ)}bM.isDraggingExternal=false;bM.externalDragListener=null}});bF.startDrag(bI)},computeExternalDrop:function(bF,bI){var bH=this.view.calendar;var bG={start:bH.applyTimezone(bF.start),end:null};if(bI.startTime&&!bG.start.hasTime()){bG.start.time(bI.startTime)}if(bI.duration){bG.end=bG.start.clone().add(bI.duration)}return bG},renderDrag:function(bG,bF){},unrenderDrag:function(){},buildSegResizeListener:function(bJ,bG){var bM=this;var bO=this.view;var bK=bO.calendar;var bI=bJ.el;var bH=bJ.event;var bL=bK.getEventEnd(bH);var bN;var bP;var bF=this.segResizeListener=new aq(this,{scroll:bO.opt("dragScroll"),subjectEl:bI,interactionStart:function(){bN=false},dragStart:function(bQ){bN=true;bM.handleSegMouseout(bJ,bQ);bM.segResizeStart(bJ,bQ)},hitOver:function(bS,bQ,bU){var bR=bM.getHitSpan(bU);var bT=bM.getHitSpan(bS);bP=bG?bM.computeEventStartResize(bR,bT,bH):bM.computeEventEndResize(bR,bT,bH);if(bP){if(!bK.isEventSpanAllowed(bM.eventToSpan(bP),bH)){bs();bP=null}else{if(bP.start.isSame(bH.start)&&bP.end.isSame(bL)){bP=null}}}if(bP){bO.hideEvent(bH);bM.renderEventResize(bP,bJ)}},hitOut:function(){bP=null},hitDone:function(){bM.unrenderEventResize();bO.showEvent(bH);al()},interactionEnd:function(bQ){if(bN){bM.segResizeStop(bJ,bQ)}if(bP){bO.reportEventResize(bH,bP,this.largeUnit,bI,bQ)}bM.segResizeListener=null}});return bF},segResizeStart:function(bF,bG){this.isResizingSeg=true;this.view.trigger("eventResizeStart",bF.el[0],bF.event,bG,{})},segResizeStop:function(bF,bG){this.isResizingSeg=false;this.view.trigger("eventResizeStop",bF.el[0],bF.event,bG,{})},computeEventStartResize:function(bF,bH,bG){return this.computeEventResize("start",bF,bH,bG)},computeEventEndResize:function(bF,bH,bG){return this.computeEventResize("end",bF,bH,bG)},computeEventResize:function(bG,bF,bM,bH){var bJ=this.view.calendar;var bL=this.diffDates(bM[bG],bF[bG]);var bK;var bI;bK={start:bH.start.clone(),end:bJ.getEventEnd(bH),allDay:bH.allDay};if(bK.allDay&&Y(bL)){bK.allDay=false;bJ.normalizeEventTimes(bK)}bK[bG].add(bL);if(!bK.start.isBefore(bK.end)){bI=this.minResizeDuration||(bH.allDay?bJ.defaultAllDayEventDuration:bJ.defaultTimedEventDuration);if(bG=="start"){bK.start=bK.end.clone().subtract(bI)}else{bK.end=bK.start.clone().add(bI)}}return bK},renderEventResize:function(bG,bF){},unrenderEventResize:function(){},getEventTimeText:function(bG,bF,bH){if(bF==null){bF=this.eventTimeFormat}if(bH==null){bH=this.displayEventEnd}if(this.displayEventTime&&bG.start.hasTime()){if(bH&&bG.end){return this.view.formatRange(bG,bF)}else{return bG.start.format(bF)}}return""},getSegClasses:function(bG,bI,bK){var bF=this.view;var bJ=bG.event;var bH=["fc-event",bG.isStart?"fc-start":"fc-not-start",bG.isEnd?"fc-end":"fc-not-end"].concat(bJ.className,bJ.source?bJ.source.className:[]);if(bI){bH.push("fc-draggable")}if(bK){bH.push("fc-resizable")}if(bF.isEventSelected(bJ)){bH.push("fc-selected")}return bH},getSegSkinCss:function(bG){var bJ=bG.event;var bF=this.view;var bK=bJ.source||{};var bH=bJ.color;var bL=bK.color;var bI=bF.opt("eventColor");return{"background-color":bJ.backgroundColor||bH||bK.backgroundColor||bL||bF.opt("eventBackgroundColor")||bI,"border-color":bJ.borderColor||bH||bK.borderColor||bL||bF.opt("eventBorderColor")||bI,color:bJ.textColor||bK.textColor||bF.opt("eventTextColor")}},eventToSegs:function(bF){return this.eventsToSegs([bF])},eventToSpan:function(bF){return this.eventToSpans(bF)[0]},eventToSpans:function(bG){var bF=this.eventToRange(bG);return this.eventRangeToSpans(bF,bG)},eventsToSegs:function(bG,bJ){var bI=this;var bH=aR(bG);var bF=[];br.each(bH,function(bN,bM){var bK=[];var bL;for(bL=0;bL<bM.length;bL++){bK.push(bI.eventToRange(bM[bL]))}if(bc(bM[0])){bK=bI.invertRanges(bK);for(bL=0;bL<bK.length;bL++){bF.push.apply(bF,bI.eventRangeToSegs(bK[bL],bM[0],bJ))}}else{for(bL=0;bL<bK.length;bL++){bF.push.apply(bF,bI.eventRangeToSegs(bK[bL],bM[bL],bJ))}}});return bF},eventToRange:function(bF){return{start:bF.start.clone().stripZone(),end:(bF.end?bF.end.clone():this.view.calendar.getDefaultEventEnd(bF.allDay!=null?bF.allDay:!bF.start.hasTime(),bF.start)).stripZone()}},eventRangeToSegs:function(bG,bJ,bK){var bI=this.eventRangeToSpans(bG,bJ);var bF=[];var bH;for(bH=0;bH<bI.length;bH++){bF.push.apply(bF,this.eventSpanToSegs(bI[bH],bJ,bK))}return bF},eventRangeToSpans:function(bF,bG){return[br.extend({},bF)]},eventSpanToSegs:function(bI,bJ,bK){var bG=bK?bK(bI):this.spanToSegs(bI);var bH,bF;for(bH=0;bH<bG.length;bH++){bF=bG[bH];bF.event=bJ;bF.eventStartMS=+bI.start;bF.eventDurationMS=bI.end-bI.start}return bG},invertRanges:function(bG){var bF=this.view;var bM=bF.start.clone();var bJ=bF.end.clone();var bK=[];var bL=bM;var bI,bH;bG.sort(g);for(bI=0;bI<bG.length;bI++){bH=bG[bI];if(bH.start>bL){bK.push({start:bL,end:bH.start})}bL=bH.end}if(bL<bJ){bK.push({start:bL,end:bJ})}return bK},sortEventSegs:function(bF){bF.sort(ay(this,"compareEventSegs"))},compareEventSegs:function(bG,bF){return bG.eventStartMS-bF.eventStartMS||bF.eventDurationMS-bG.eventDurationMS||bF.event.allDay-bG.event.allDay||ba(bG.event,bF.event,this.view.eventOrderSpecs)}});function T(bG){var bF=a9(bG);return bF==="background"||bF==="inverse-background"}u.isBgEvent=T;function bc(bF){return a9(bF)==="inverse-background"}function a9(bF){return S((bF.source||{}).rendering,bF.rendering)}function aR(bG){var bH={};var bF,bI;for(bF=0;bF<bG.length;bF++){bI=bG[bF];(bH[bI._id]||(bH[bI._id]=[])).push(bI)}return bH}function g(bG,bF){return bG.start-bF.start}u.dataAttrPrefix="";function K(bH){var bJ=u.dataAttrPrefix;var bI;var bG;var bK;var bF;if(bJ){bJ+="-"}bI=bH.data(bJ+"event")||null;if(bI){if(typeof bI==="object"){bI=br.extend({},bI)}else{bI={}}bG=bI.start;if(bG==null){bG=bI.time}bK=bI.duration;bF=bI.stick;delete bI.start;delete bI.time;delete bI.duration;delete bI.stick}if(bG==null){bG=bH.data(bJ+"start")}if(bG==null){bG=bH.data(bJ+"time")}if(bK==null){bK=bH.data(bJ+"duration")}if(bF==null){bF=bH.data(bJ+"stick")}bG=bG!=null?a4.duration(bG):null;bK=bK!=null?a4.duration(bK):null;bF=Boolean(bF);return{eventProps:bI,startTime:bG,duration:bK,stick:bF}}var aU=u.DayTableMixin={breakOnWeeks:false,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){var bG=this.view;var bJ=this.start.clone();var bK=-1;var bF=[];var bM=[];var bI;var bH;var bL;while(bJ.isBefore(this.end)){if(bG.isHiddenDay(bJ)){bF.push(bK+0.5)}else{bK++;bF.push(bK);bM.push(bJ.clone())}bJ.add(1,"days")}if(this.breakOnWeeks){bH=bM[0].day();for(bI=1;bI<bM.length;bI++){if(bM[bI].day()==bH){break}}bL=Math.ceil(bM.length/bI)}else{bL=1;bI=bM.length}this.dayDates=bM;this.dayIndices=bF;this.daysPerRow=bI;this.rowCnt=bL;this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt();this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(bG,bF){return this.dayDates[this.getCellDayIndex(bG,bF)].clone()},getCellRange:function(bH,bG){var bI=this.getCellDate(bH,bG);var bF=bI.clone().add(1,"days");return{start:bI,end:bF}},getCellDayIndex:function(bG,bF){return bG*this.daysPerRow+this.getColDayIndex(bF)},getColDayIndex:function(bF){if(this.isRTL){return this.colCnt-1-bF}else{return bF}},getDateDayIndex:function(bH){var bF=this.dayIndices;var bG=bH.diff(this.start,"days");if(bG<0){return bF[0]-1}else{if(bG>=bF.length){return bF[bF.length-1]+1}else{return bF[bG]}}},computeColHeadFormat:function(){if(this.rowCnt>1||this.colCnt>10){return"ddd"}else{if(this.colCnt>1){return this.view.opt("dayOfMonthFormat")}else{return"dddd"}}},sliceRangeByRow:function(bI){var bN=this.daysPerRow;var bH=this.view.computeDayRange(bI);var bG=this.getDateDayIndex(bH.start);var bK=this.getDateDayIndex(bH.end.clone().subtract(1,"days"));var bF=[];var bP;var bL,bM;var bO,bJ;for(bP=0;bP<this.rowCnt;bP++){bL=bP*bN;bM=bL+bN-1;bO=Math.max(bG,bL);bJ=Math.min(bK,bM);bO=Math.ceil(bO);bJ=Math.floor(bJ);if(bO<=bJ){bF.push({row:bP,firstRowDayIndex:bO-bL,lastRowDayIndex:bJ-bL,isStart:bO===bG,isEnd:bJ===bK})}}return bF},sliceRangeByDay:function(bJ){var bO=this.daysPerRow;var bI=this.view.computeDayRange(bJ);var bG=this.getDateDayIndex(bI.start);var bL=this.getDateDayIndex(bI.end.clone().subtract(1,"days"));var bF=[];var bQ;var bM,bN;var bH;var bP,bK;for(bQ=0;bQ<this.rowCnt;bQ++){bM=bQ*bO;bN=bM+bO-1;for(bH=bM;bH<=bN;bH++){bP=Math.max(bG,bH);bK=Math.min(bL,bH);bP=Math.ceil(bP);bK=Math.floor(bK);if(bP<=bK){bF.push({row:bQ,firstRowDayIndex:bP-bM,lastRowDayIndex:bK-bM,isStart:bP===bG,isEnd:bK===bL})}}}return bF},renderHeadHtml:function(){var bF=this.view;return'<div class="fc-row '+bF.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var bH=[];var bG,bF;for(bG=0;bG<this.colCnt;bG++){bF=this.getCellDate(0,bG);bH.push(this.renderHeadDateCellHtml(bF))}return bH.join("")},renderHeadDateCellHtml:function(bH,bI,bF){var bG=this.view;return'<th class="fc-day-header '+bG.widgetHeaderClass+" fc-"+aL[bH.day()]+'"'+(this.rowCnt==1?' data-date="'+bH.format("YYYY-MM-DD")+'"':"")+(bI>1?' colspan="'+bI+'"':"")+(bF?" "+bF:"")+">"+aG(bH.format(this.colHeadFormat))+"</th>"},renderBgTrHtml:function(bF){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(bF))+this.renderBgCellsHtml(bF)+(this.isRTL?this.renderBgIntroHtml(bF):"")+"</tr>"},renderBgIntroHtml:function(bF){return this.renderIntroHtml()},renderBgCellsHtml:function(bI){var bH=[];var bG,bF;for(bG=0;bG<this.colCnt;bG++){bF=this.getCellDate(bI,bG);bH.push(this.renderBgCellHtml(bF))}return bH.join("")},renderBgCellHtml:function(bH,bF){var bG=this.view;var bI=this.getDayClasses(bH);bI.unshift("fc-day",bG.widgetContentClass);return'<td class="'+bI.join(" ")+'" data-date="'+bH.format("YYYY-MM-DD")+'"'+(bF?" "+bF:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(bG){var bF=this.renderIntroHtml();if(bF){if(this.isRTL){bG.append(bF)}else{bG.prepend(bF)}}}};var bu=u.DayGrid=aB.extend(aU,{numbersVisible:false,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(bG){var bF=this.view;var bL=this.rowCnt;var bI=this.colCnt;var bJ="";var bK;var bH;for(bK=0;bK<bL;bK++){bJ+=this.renderDayRowHtml(bK,bG)}this.el.html(bJ);this.rowEls=this.el.find(".fc-row");this.cellEls=this.el.find(".fc-day");this.rowCoordCache=new af({els:this.rowEls,isVertical:true});this.colCoordCache=new af({els:this.cellEls.slice(0,this.colCnt),isHorizontal:true});for(bK=0;bK<bL;bK++){for(bH=0;bH<bI;bH++){bF.trigger("dayRender",null,this.getCellDate(bK,bH),this.getCellEl(bK,bH))}}},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var bG=this.view.calendar.getBusinessHoursEvents(true);var bF=this.eventsToSegs(bG);this.renderFill("businessHours",bF,"bgevent")},renderDayRowHtml:function(bI,bG){var bF=this.view;var bH=["fc-row","fc-week",bF.widgetContentClass];if(bG){bH.push("fc-rigid")}return'<div class="'+bH.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(bI)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(bI)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(bF){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(bF))+this.renderNumberCellsHtml(bF)+(this.isRTL?this.renderNumberIntroHtml(bF):"")+"</tr>"},renderNumberIntroHtml:function(bF){return this.renderIntroHtml()},renderNumberCellsHtml:function(bI){var bH=[];var bG,bF;for(bG=0;bG<this.colCnt;bG++){bF=this.getCellDate(bI,bG);bH.push(this.renderNumberCellHtml(bF))}return bH.join("")},renderNumberCellHtml:function(bF){var bG;if(!this.view.dayNumbersVisible){return"<td/>"}bG=this.getDayClasses(bF);bG.unshift("fc-day-number");return'<td class="'+bG.join(" ")+'" data-date="'+bF.format()+'">'+bF.date()+"</td>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return this.colCnt==1},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(bI){var bG=this.sliceRangeByRow(bI);var bH,bF;for(bH=0;bH<bG.length;bH++){bF=bG[bH];if(this.isRTL){bF.leftCol=this.daysPerRow-1-bF.lastRowDayIndex;bF.rightCol=this.daysPerRow-1-bF.firstRowDayIndex}else{bF.leftCol=bF.firstRowDayIndex;bF.rightCol=bF.lastRowDayIndex}}return bG},prepareHits:function(){this.colCoordCache.build();this.rowCoordCache.build();this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear();this.rowCoordCache.clear()},queryHit:function(bH,bG){var bF=this.colCoordCache.getHorizontalIndex(bH);var bI=this.rowCoordCache.getVerticalIndex(bG);if(bI!=null&&bF!=null){return this.getCellHit(bI,bF)}},getHitSpan:function(bF){return this.getCellRange(bF.row,bF.col)},getHitEl:function(bF){return this.getCellEl(bF.row,bF.col)},getCellHit:function(bG,bF){return{row:bG,col:bF,component:this,left:this.colCoordCache.getLeftOffset(bF),right:this.colCoordCache.getRightOffset(bF),top:this.rowCoordCache.getTopOffset(bG),bottom:this.rowCoordCache.getBottomOffset(bG)}},getCellEl:function(bG,bF){return this.cellEls.eq(bG*this.colCnt+bF)},renderDrag:function(bG,bF){this.renderHighlight(this.eventToSpan(bG));if(bF&&!bF.el.closest(this.el).length){return this.renderEventLocationHelper(bG,bF)}},unrenderDrag:function(){this.unrenderHighlight();this.unrenderHelper()},renderEventResize:function(bG,bF){this.renderHighlight(this.eventToSpan(bG));return this.renderEventLocationHelper(bG,bF)},unrenderEventResize:function(){this.unrenderHighlight();this.unrenderHelper()},renderHelper:function(bJ,bH){var bF=[];var bG=this.eventToSegs(bJ);var bI;bG=this.renderFgSegEls(bG);bI=this.renderSegRows(bG);this.rowEls.each(function(bO,bM){var bL=br(bM);var bN=br('<div class="fc-helper-skeleton"><table/></div>');var bK;if(bH&&bH.row===bO){bK=bH.el.position().top}else{bK=bL.find(".fc-content-skeleton tbody").position().top}bN.css("top",bK).find("table").append(bI[bO].tbodyEl);bL.append(bN);bF.push(bN[0])});return(this.helperEls=br(bF))},unrenderHelper:function(){if(this.helperEls){this.helperEls.remove();this.helperEls=null}},fillSegTag:"td",renderFill:function(bK,bG,bJ){var bH=[];var bI,bF;var bL;bG=this.renderFillSegEls(bK,bG);for(bI=0;bI<bG.length;bI++){bF=bG[bI];bL=this.renderFillRow(bK,bF,bJ);this.rowEls.eq(bF.row).append(bL);bH.push(bL[0])}this.elsByFill[bK]=br(bH);return bG},renderFillRow:function(bI,bF,bH){var bG=this.colCnt;var bL=bF.leftCol;var bK=bF.rightCol+1;var bM;var bJ;bH=bH||bI.toLowerCase();bM=br('<div class="fc-'+bH+'-skeleton"><table><tr/></table></div>');bJ=bM.find("tr");if(bL>0){bJ.append('<td colspan="'+bL+'"/>')}bJ.append(bF.el.attr("colspan",bK-bL));if(bK<bG){bJ.append('<td colspan="'+(bG-bK)+'"/>')}this.bookendCells(bJ);return bM}});bu.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover();aB.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return aB.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(bF){var bG=br.grep(bF,function(bH){return bH.event.allDay});return aB.prototype.renderBgSegs.call(this,bG)},renderFgSegs:function(bF){var bG;bF=this.renderFgSegEls(bF);bG=this.rowStructs=this.renderSegRows(bF);this.rowEls.each(function(bH,bI){br(bI).find(".fc-content-skeleton > table").append(bG[bH].tbodyEl)});return bF},unrenderFgSegs:function(){var bG=this.rowStructs||[];var bF;while((bF=bG.pop())){bF.tbodyEl.remove()}this.rowStructs=null},renderSegRows:function(bG){var bH=[];var bF;var bI;bF=this.groupSegRows(bG);for(bI=0;bI<bF.length;bI++){bH.push(this.renderSegRow(bI,bF[bI]))}return bH},fgSegHtml:function(bM,bH){var bP=this.view;var bG=bM.event;var bF=bP.isEventDraggable(bG);var bK=!bH&&bG.allDay&&bM.isStart&&bP.isEventResizableFromStart(bG);var bJ=!bH&&bG.allDay&&bM.isEnd&&bP.isEventResizableFromEnd(bG);var bL=this.getSegClasses(bM,bF,bK||bJ);var bQ=I(this.getSegSkinCss(bM));var bO="";var bI;var bN;bL.unshift("fc-day-grid-event","fc-h-event");if(bM.isStart){bI=this.getEventTimeText(bG);if(bI){bO='<span class="fc-time">'+aG(bI)+"</span>"}}bN='<span class="fc-title">'+(aG(bG.title||"")||"&nbsp;")+"</span>";return'<a class="'+bL.join(" ")+'"'+(bG.url?' href="'+aG(bG.url)+'"':"")+(bQ?' style="'+bQ+'"':"")+'><div class="fc-content">'+(this.isRTL?bN+" "+bO:bO+" "+bN)+"</div>"+(bK?'<div class="fc-resizer fc-start-resizer" />':"")+(bJ?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(bU,bV){var bS=this.colCnt;var bO=this.buildSegLevels(bV);var bF=Math.max(1,bO.length);var bN=br("<tbody/>");var bJ=[];var bP=[];var bH=[];var bM,bR;var bG;var bQ;var bL,bK;var bI;function bT(bW){while(bG<bW){bI=(bH[bM-1]||[])[bG];if(bI){bI.attr("rowspan",parseInt(bI.attr("rowspan")||1,10)+1)}else{bI=br("<td/>");bQ.append(bI)}bP[bM][bG]=bI;bH[bM][bG]=bI;bG++}}for(bM=0;bM<bF;bM++){bR=bO[bM];bG=0;bQ=br("<tr/>");bJ.push([]);bP.push([]);bH.push([]);if(bR){for(bL=0;bL<bR.length;bL++){bK=bR[bL];bT(bK.leftCol);bI=br('<td class="fc-event-container"/>').append(bK.el);if(bK.leftCol!=bK.rightCol){bI.attr("colspan",bK.rightCol-bK.leftCol+1)}else{bH[bM][bG]=bI}while(bG<=bK.rightCol){bP[bM][bG]=bI;bJ[bM][bG]=bK;bG++}bQ.append(bI)}}bT(bS);this.bookendCells(bQ);bN.append(bQ)}return{row:bU,tbodyEl:bN,cellMatrix:bP,segMatrix:bJ,segLevels:bO,segs:bV}},buildSegLevels:function(bG){var bJ=[];var bI,bF;var bH;this.sortEventSegs(bG);for(bI=0;bI<bG.length;bI++){bF=bG[bI];for(bH=0;bH<bJ.length;bH++){if(!C(bF,bJ[bH])){break}}bF.level=bH;(bJ[bH]||(bJ[bH]=[])).push(bF)}for(bH=0;bH<bJ.length;bH++){bJ[bH].sort(aF)}return bJ},groupSegRows:function(bG){var bF=[];var bH;for(bH=0;bH<this.rowCnt;bH++){bF.push([])}for(bH=0;bH<bG.length;bH++){bF[bG[bH].row].push(bG[bH])}return bF}});function C(bF,bI){var bG,bH;for(bG=0;bG<bI.length;bG++){bH=bI[bG];if(bH.leftCol<=bF.rightCol&&bH.rightCol>=bF.leftCol){return true}}return false}function aF(bG,bF){return bG.leftCol-bF.leftCol}bu.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){if(this.segPopover){this.segPopover.hide()}},limitRows:function(bH){var bF=this.rowStructs||[];var bI;var bG;for(bI=0;bI<bF.length;bI++){this.unlimitRow(bI);if(!bH){bG=false}else{if(typeof bH==="number"){bG=bH}else{bG=this.computeRowLevelLimit(bI)}}if(bG!==false){this.limitRow(bI,bG)}}},computeRowLevelLimit:function(bM){var bH=this.rowEls.eq(bM);var bL=bH.height();var bG=this.rowStructs[bM].tbodyEl.children();var bI,bK;var bF;function bJ(bO,bN){bF=Math.max(bF,br(bN).outerHeight())}for(bI=0;bI<bG.length;bI++){bK=bG.eq(bI).removeClass("fc-limited");bF=0;bK.find("> td > :first-child").each(bJ);if(bK.position().top+bF>bL){return bI}}return false},limitRow:function(bN,bR){var bT=this;var bH=this.rowStructs[bN];var bM=[];var bL=0;var bF;var bK;var bY;var bW,bX;var b0;var bO;var bG;var bP,bZ;var bJ;var bU;var bI,bV,bS;function bQ(b1){while(bL<b1){b0=bT.getCellSegs(bN,bL,bR);if(b0.length){bP=bK[bR-1][bL];bS=bT.renderMoreLink(bN,bL,b0);bV=br("<div/>").append(bS);bP.append(bV);bM.push(bV[0])}bL++}}if(bR&&bR<bH.segLevels.length){bF=bH.segLevels[bR-1];bK=bH.cellMatrix;bY=bH.tbodyEl.children().slice(bR).addClass("fc-limited").get();for(bW=0;bW<bF.length;bW++){bX=bF[bW];bQ(bX.leftCol);bG=[];bO=0;while(bL<=bX.rightCol){b0=this.getCellSegs(bN,bL,bR);bG.push(b0);bO+=b0.length;bL++}if(bO){bP=bK[bR-1][bX.leftCol];bZ=bP.attr("rowspan")||1;bJ=[];for(bU=0;bU<bG.length;bU++){bI=br('<td class="fc-more-cell"/>').attr("rowspan",bZ);b0=bG[bU];bS=this.renderMoreLink(bN,bX.leftCol+bU,[bX].concat(b0));bV=br("<div/>").append(bS);bI.append(bV);bJ.push(bI[0]);bM.push(bI[0])}bP.addClass("fc-limited").after(br(bJ));bY.push(bP[0])}}bQ(this.colCnt);bH.moreEls=br(bM);bH.limitedEls=br(bY)}},unlimitRow:function(bG){var bF=this.rowStructs[bG];if(bF.moreEls){bF.moreEls.remove();bF.moreEls=null}if(bF.limitedEls){bF.limitedEls.removeClass("fc-limited");bF.limitedEls=null}},renderMoreLink:function(bI,bH,bG){var bJ=this;var bF=this.view;return br('<a class="fc-more"/>').text(this.getMoreLinkText(bG.length)).on("click",function(bO){var bR=bF.opt("eventLimitClick");var bL=bJ.getCellDate(bI,bH);var bP=br(this);var bQ=bJ.getCellEl(bI,bH);var bK=bJ.getCellSegs(bI,bH);var bM=bJ.resliceDaySegs(bK,bL);var bN=bJ.resliceDaySegs(bG,bL);if(typeof bR==="function"){bR=bF.trigger("eventLimitClick",null,{date:bL,dayEl:bQ,moreEl:bP,segs:bM,hiddenSegs:bN},bO)}if(bR==="popover"){bJ.showSegPopover(bI,bH,bP,bM)}else{if(typeof bR==="string"){bF.calendar.zoomTo(bL,bR)}}})},showSegPopover:function(bN,bH,bL,bF){var bI=this;var bK=this.view;var bG=bL.parent();var bJ;var bM;if(this.rowCnt==1){bJ=bK.el}else{bJ=this.rowEls.eq(bN)}bM={className:"fc-more-popover",content:this.renderSegPopoverContent(bN,bH,bF),parentEl:this.el,top:bJ.offset().top,autoHide:true,viewportConstrain:bK.opt("popoverViewportConstrain"),hide:function(){bI.segPopover.removeElement();bI.segPopover=null;bI.popoverSegs=null}};if(this.isRTL){bM.right=bG.offset().left+bG.outerWidth()+1}else{bM.left=bG.offset().left-1}this.segPopover=new aW(bM);this.segPopover.show()},renderSegPopoverContent:function(bN,bG,bF){var bK=this.view;var bH=bK.opt("theme");var bL=this.getCellDate(bN,bG).format(bK.opt("dayPopoverFormat"));var bJ=br('<div class="fc-header '+bK.widgetHeaderClass+'"><span class="fc-close '+(bH?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+aG(bL)+'</span><div class="fc-clear"/></div><div class="fc-body '+bK.widgetContentClass+'"><div class="fc-event-container"></div></div>');var bM=bJ.find(".fc-event-container");var bI;bF=this.renderFgSegEls(bF,true);this.popoverSegs=bF;for(bI=0;bI<bF.length;bI++){this.prepareHits();bF[bI].hit=this.getCellHit(bN,bG);this.releaseHits();bM.append(bF[bI].el)}return bJ},resliceDaySegs:function(bH,bF){var bJ=br.map(bH,function(bL){return bL.event});var bG=bF.clone();var bK=bG.clone().add(1,"days");var bI={start:bG,end:bK};bH=this.eventsToSegs(bJ,function(bM){var bL=e(bM,bI);return bL?[bL]:[]});this.sortEventSegs(bH);return bH},getMoreLinkText:function(bF){var bG=this.view.opt("eventLimitText");if(typeof bG==="function"){return bG(bF)}else{return"+"+bF+" "+bG}},getCellSegs:function(bK,bH,bI){var bJ=this.rowStructs[bK].segMatrix;var bL=bI||0;var bG=[];var bF;while(bL<bJ.length){bF=bJ[bL][bH];if(bF){bG.push(bF)}bL++}return bG}});var i=u.TimeGrid=aB.extend(aU,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatContainerEl:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){aB.apply(this,arguments);this.processOptions()},renderDates:function(){this.el.html(this.renderHtml());this.colEls=this.el.find(".fc-day");this.slatContainerEl=this.el.find(".fc-slats");this.slatEls=this.slatContainerEl.find("tr");this.colCoordCache=new af({els:this.colEls,isHorizontal:true});this.slatCoordCache=new af({els:this.slatEls,isVertical:true});this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){var bF=this.view;var bJ=this.isRTL;var bI="";var bK=a4.duration(+this.minTime);var bH;var bG;var bL;while(bK<this.maxTime){bH=this.start.clone().time(bK);bG=bv(A(bK,this.labelInterval));bL='<td class="fc-axis fc-time '+bF.widgetContentClass+'" '+bF.axisStyleAttr()+">"+(bG?"<span>"+aG(bH.format(this.labelFormat))+"</span>":"")+"</td>";bI+='<tr data-time="'+bH.format("HH:mm:ss")+'"'+(bG?"":' class="fc-minor"')+">"+(!bJ?bL:"")+'<td class="'+bF.widgetContentClass+'"/>'+(bJ?bL:"")+"</tr>";bK.add(this.slotDuration)}return bI},processOptions:function(){var bF=this.view;var bI=bF.opt("slotDuration");var bH=bF.opt("snapDuration");var bG;bI=a4.duration(bI);bH=bH?a4.duration(bH):bI;this.slotDuration=bI;this.snapDuration=bH;this.snapsPerSlot=bI/bH;this.minResizeDuration=bH;this.minTime=a4.duration(bF.opt("minTime"));this.maxTime=a4.duration(bF.opt("maxTime"));bG=bF.opt("slotLabelFormat");if(br.isArray(bG)){bG=bG[bG.length-1]}this.labelFormat=bG||bF.opt("axisFormat")||bF.opt("smallTimeFormat");bG=bF.opt("slotLabelInterval");this.labelInterval=bG?a4.duration(bG):this.computeLabelInterval(bI)},computeLabelInterval:function(bH){var bG;var bF;var bI;for(bG=aX.length-1;bG>=0;bG--){bF=a4.duration(aX[bG]);bI=A(bF,bH);if(bv(bI)&&bI>1){return bF}}return a4.duration(bH)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return true},prepareHits:function(){this.colCoordCache.build();this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(bG,bM){var bJ=this.snapsPerSlot;var bP=this.colCoordCache;var bF=this.slatCoordCache;var bR=bP.getHorizontalIndex(bG);var bS=bF.getVerticalIndex(bM);if(bR!=null&&bS!=null){var bQ=bF.getTopOffset(bS);var bN=bF.getHeight(bS);var bO=(bM-bQ)/bN;var bH=Math.floor(bO*bJ);var bL=bS*bJ+bH;var bK=bQ+(bH/bJ)*bN;var bI=bQ+((bH+1)/bJ)*bN;return{col:bR,snap:bL,component:this,left:bP.getLeftOffset(bR),right:bP.getRightOffset(bR),top:bK,bottom:bI}}},getHitSpan:function(bG){var bI=this.getCellDate(0,bG.col);var bH=this.computeSnapTime(bG.snap);var bF;bI.time(bH);bF=bI.clone().add(this.snapDuration);return{start:bI,end:bF}},getHitEl:function(bF){return this.colEls.eq(bF.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(bF){return a4.duration(this.minTime+this.snapDuration*bF)},spanToSegs:function(bH){var bF=this.sliceRangeByTimes(bH);var bG;for(bG=0;bG<bF.length;bG++){if(this.isRTL){bF[bG].col=this.daysPerRow-1-bF[bG].dayIndex}else{bF[bG].col=bF[bG].dayIndex}}return bF},sliceRangeByTimes:function(bI){var bH=[];var bG;var bK;var bF;var bJ;for(bK=0;bK<this.daysPerRow;bK++){bF=this.dayDates[bK].clone();bJ={start:bF.clone().time(this.minTime),end:bF.clone().time(this.maxTime)};bG=e(bI,bJ);if(bG){bG.dayIndex=bK;bH.push(bG)}}return bH},updateSize:function(bF){this.slatCoordCache.build();if(bF){this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))}},getTotalSlatHeight:function(){return this.slatContainerEl.outerHeight()},computeDateTop:function(bF,bG){return this.computeTimeTop(a4.duration(bF-bG.clone().stripTime()))},computeTimeTop:function(bJ){var bF=this.slatEls.length;var bI=(bJ-this.minTime)/this.slotDuration;var bH;var bG;bI=Math.max(0,bI);bI=Math.min(bF,bI);bH=Math.floor(bI);bH=Math.min(bH,bF-1);bG=bI-bH;return this.slatCoordCache.getTopPosition(bH)+this.slatCoordCache.getHeight(bH)*bG},renderDrag:function(bG,bF){if(bF){return this.renderEventLocationHelper(bG,bF)}else{this.renderHighlight(this.eventToSpan(bG))}},unrenderDrag:function(){this.unrenderHelper();this.unrenderHighlight()},renderEventResize:function(bG,bF){return this.renderEventLocationHelper(bG,bF)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(bG,bF){return this.renderHelperSegs(this.eventToSegs(bG),bF)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){var bG=this.view.calendar.getBusinessHoursEvents();var bF=this.eventsToSegs(bG);this.renderBusinessSegs(bF)},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(bH){var bF=this.spanToSegs({start:bH,end:bH});var bJ=this.computeDateTop(bH,bH);var bG=[];var bI;for(bI=0;bI<bF.length;bI++){bG.push(br('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",bJ).appendTo(this.colContainerEls.eq(bF[bI].col))[0])}if(bF.length>0){bG.push(br('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",bJ).appendTo(this.el.find(".fc-content-skeleton"))[0])}this.nowIndicatorEls=br(bG)},unrenderNowIndicator:function(){if(this.nowIndicatorEls){this.nowIndicatorEls.remove();this.nowIndicatorEls=null}},renderSelection:function(bF){if(this.view.opt("selectHelper")){this.renderEventLocationHelper(bF)}else{this.renderHighlight(bF)}},unrenderSelection:function(){this.unrenderHelper();this.unrenderHighlight()},renderHighlight:function(bF){this.renderHighlightSegs(this.spanToSegs(bF))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});i.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var bH="";var bF;var bG;for(bF=0;bF<this.colCnt;bF++){bH+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>'}bG=br('<div class="fc-content-skeleton"><table><tr>'+bH+"</tr></table></div>");this.colContainerEls=bG.find(".fc-content-col");this.helperContainerEls=bG.find(".fc-helper-container");this.fgContainerEls=bG.find(".fc-event-container:not(.fc-helper-container)");this.bgContainerEls=bG.find(".fc-bgevent-container");this.highlightContainerEls=bG.find(".fc-highlight-container");this.businessContainerEls=bG.find(".fc-business-container");this.bookendCells(bG.find("tr"));this.el.append(bG)},renderFgSegs:function(bF){bF=this.renderFgSegsIntoContainers(bF,this.fgContainerEls);this.fgSegs=bF;return bF},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(bG,bI){var bK=[];var bJ,bF;var bH;bG=this.renderFgSegsIntoContainers(bG,this.helperContainerEls);for(bJ=0;bJ<bG.length;bJ++){bF=bG[bJ];if(bI&&bI.col===bF.col){bH=bI.el;bF.el.css({left:bH.css("left"),right:bH.css("right"),"margin-left":bH.css("margin-left"),"margin-right":bH.css("margin-right")})}bK.push(bF.el[0])}this.helperSegs=bG;return br(bK)},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(bF){bF=this.renderFillSegEls("bgEvent",bF);this.updateSegVerticals(bF);this.attachSegsByCol(this.groupSegsByCol(bF),this.bgContainerEls);this.bgSegs=bF;return bF},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(bF){bF=this.renderFillSegEls("highlight",bF);this.updateSegVerticals(bF);this.attachSegsByCol(this.groupSegsByCol(bF),this.highlightContainerEls);this.highlightSegs=bF},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(bF){bF=this.renderFillSegEls("businessHours",bF);this.updateSegVerticals(bF);this.attachSegsByCol(this.groupSegsByCol(bF),this.businessContainerEls);this.businessSegs=bF},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(bF){var bH=[];var bG;for(bG=0;bG<this.colCnt;bG++){bH.push([])}for(bG=0;bG<bF.length;bG++){bH[bF[bG].col].push(bF[bG])}return bH},attachSegsByCol:function(bJ,bI){var bG;var bF;var bH;for(bG=0;bG<this.colCnt;bG++){bF=bJ[bG];for(bH=0;bH<bF.length;bH++){bI.eq(bG).append(bF[bH].el)}}},unrenderNamedSegs:function(bH){var bF=this[bH];var bG;if(bF){for(bG=0;bG<bF.length;bG++){bF[bG].el.remove()}this[bH]=null}},renderFgSegsIntoContainers:function(bF,bH){var bI;var bG;bF=this.renderFgSegEls(bF);bI=this.groupSegsByCol(bF);for(bG=0;bG<this.colCnt;bG++){this.updateFgSegCoords(bI[bG])}this.attachSegsByCol(bI,bH);return bF},fgSegHtml:function(bN,bH){var bP=this.view;var bG=bN.event;var bF=bP.isEventDraggable(bG);var bL=!bH&&bN.isStart&&bP.isEventResizableFromStart(bG);var bK=!bH&&bN.isEnd&&bP.isEventResizableFromEnd(bG);var bM=this.getSegClasses(bN,bF,bL||bK);var bQ=I(this.getSegSkinCss(bN));var bJ;var bO;var bI;bM.unshift("fc-time-grid-event","fc-v-event");if(bP.isMultiDayEvent(bG)){if(bN.isStart||bN.isEnd){bJ=this.getEventTimeText(bN);bO=this.getEventTimeText(bN,"LT");bI=this.getEventTimeText(bN,null,false)}}else{bJ=this.getEventTimeText(bG);bO=this.getEventTimeText(bG,"LT");bI=this.getEventTimeText(bG,null,false)}return'<a class="'+bM.join(" ")+'"'+(bG.url?' href="'+aG(bG.url)+'"':"")+(bQ?' style="'+bQ+'"':"")+'><div class="fc-content">'+(bJ?'<div class="fc-time" data-start="'+aG(bI)+'" data-full="'+aG(bO)+'"><span>'+aG(bJ)+"</span></div>":"")+(bG.title?'<div class="fc-title">'+aG(bG.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(bK?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(bF){this.computeSegVerticals(bF);this.assignSegVerticals(bF)},computeSegVerticals:function(bG){var bH,bF;for(bH=0;bH<bG.length;bH++){bF=bG[bH];bF.top=this.computeDateTop(bF.start,bF.start);bF.bottom=this.computeDateTop(bF.end,bF.start)}},assignSegVerticals:function(bG){var bH,bF;for(bH=0;bH<bG.length;bH++){bF=bG[bH];bF.el.css(this.generateSegVerticalCss(bF))}},generateSegVerticalCss:function(bF){return{top:bF.top,bottom:-bF.bottom}},updateFgSegCoords:function(bF){this.computeSegVerticals(bF);this.computeFgSegHorizontals(bF);this.assignSegVerticals(bF);this.assignFgSegHorizontals(bF)},computeFgSegHorizontals:function(bF){var bH;var bI;var bG;this.sortEventSegs(bF);bH=M(bF);b(bH);if((bI=bH[0])){for(bG=0;bG<bI.length;bG++){o(bI[bG])}for(bG=0;bG<bI.length;bG++){this.computeFgSegForwardBack(bI[bG],0,0)}}},computeFgSegForwardBack:function(bG,bI,bJ){var bF=bG.forwardSegs;var bH;if(bG.forwardCoord===undefined){if(!bF.length){bG.forwardCoord=1}else{this.sortForwardSegs(bF);this.computeFgSegForwardBack(bF[0],bI+1,bJ);bG.forwardCoord=bF[0].backwardCoord}bG.backwardCoord=bG.forwardCoord-(bG.forwardCoord-bJ)/(bI+1);for(bH=0;bH<bF.length;bH++){this.computeFgSegForwardBack(bF[bH],0,bG.forwardCoord)}}},sortForwardSegs:function(bF){bF.sort(ay(this,"compareForwardSegs"))},compareForwardSegs:function(bG,bF){return bF.forwardPressure-bG.forwardPressure||(bG.backwardCoord||0)-(bF.backwardCoord||0)||this.compareEventSegs(bG,bF)},assignFgSegHorizontals:function(bG){var bH,bF;for(bH=0;bH<bG.length;bH++){bF=bG[bH];bF.el.css(this.generateFgSegHorizontalCss(bF));if(bF.bottom-bF.top<30){bF.el.addClass("fc-short")}}},generateFgSegHorizontalCss:function(bF){var bI=this.view.opt("slotEventOverlap");var bG=bF.backwardCoord;var bH=bF.forwardCoord;var bK=this.generateSegVerticalCss(bF);var bL;var bJ;if(bI){bH=Math.min(1,bG+(bH-bG)*2)}if(this.isRTL){bL=1-bH;bJ=bG}else{bL=bG;bJ=1-bH}bK.zIndex=bF.level+1;bK.left=bL*100+"%";bK.right=bJ*100+"%";if(bI&&bF.forwardPressure){bK[this.isRTL?"marginLeft":"marginRight"]=10*2}return bK}});function M(bG){var bJ=[];var bI,bF;var bH;for(bI=0;bI<bG.length;bI++){bF=bG[bI];for(bH=0;bH<bJ.length;bH++){if(!bp(bF,bJ[bH]).length){break}}bF.level=bH;(bJ[bH]||(bJ[bH]=[])).push(bF)}return bJ}function b(bJ){var bI,bK;var bH,bF;var bG;for(bI=0;bI<bJ.length;bI++){bK=bJ[bI];for(bH=0;bH<bK.length;bH++){bF=bK[bH];bF.forwardSegs=[];for(bG=bI+1;bG<bJ.length;bG++){bp(bF,bJ[bG],bF.forwardSegs)}}}}function o(bG){var bF=bG.forwardSegs;var bJ=0;var bI,bH;if(bG.forwardPressure===undefined){for(bI=0;bI<bF.length;bI++){bH=bF[bI];o(bH);bJ=Math.max(bJ,1+bH.forwardPressure)}bG.forwardPressure=bJ}}function bp(bF,bI,bH){bH=bH||[];for(var bG=0;bG<bI.length;bG++){if(a0(bF,bI[bG])){bH.push(bI[bG])}}return bH}function a0(bG,bF){return bG.bottom>bF.top&&bG.top<bF.bottom}var aP=u.View=ap.extend(t,ai,{type:null,name:null,title:null,calendar:null,options:null,el:null,displaying:null,isSkeletonRendered:false,isEventsRendered:false,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:false,isSelected:false,selectedEvent:null,eventOrderSpecs:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(bI,bH,bF,bG){this.calendar=bI;this.type=this.name=bH;this.options=bF;this.intervalDuration=bG||a4.duration(1,"day");this.nextDayThreshold=a4.duration(this.opt("nextDayThreshold"));this.initThemingProps();this.initHiddenDays();this.isRTL=this.opt("isRTL");this.eventOrderSpecs=ax(this.opt("eventOrder"));this.initialize()},initialize:function(){},opt:function(bF){return this.options[bF]},trigger:function(bF,bH){var bG=this.calendar;return bG.trigger.apply(bG,[bF,bH||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(bF){this.setRange(this.computeRange(bF))},setRange:function(bF){br.extend(this,bF);this.updateTitle()},computeRange:function(bH){var bK=au(this.intervalDuration);var bI=bH.clone().startOf(bK);var bG=bI.clone().add(this.intervalDuration);var bJ,bF;if(/year|month|week|day/.test(bK)){bI.stripTime();bG.stripTime()}else{if(!bI.hasTime()){bI=this.calendar.time(0)}if(!bG.hasTime()){bG=this.calendar.time(0)}}bJ=bI.clone();bJ=this.skipHiddenDays(bJ);bF=bG.clone();bF=this.skipHiddenDays(bF,-1,true);return{intervalUnit:bK,intervalStart:bI,intervalEnd:bG,start:bJ,end:bF}},computePrevDate:function(bF){return this.massageCurrentDate(bF.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(bF){return this.massageCurrentDate(bF.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(bF,bG){if(this.intervalDuration.as("days")<=1){if(this.isHiddenDay(bF)){bF=this.skipHiddenDays(bF,bG);bF.startOf("day")}}return bF},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){if(this.intervalUnit=="year"){return"YYYY"}else{if(this.intervalUnit=="month"){return this.opt("monthYearFormat")}else{if(this.intervalDuration.as("days")>1){return"ll"}else{return"LL"}}}},formatRange:function(bH,bG,bI){var bF=bH.end;if(!bF.hasTime()){bF=bF.clone().subtract(1)}return bh(bH.start,bF,bG,bI,this.opt("isRTL"))},setElement:function(bF){this.el=bF;this.bindGlobalHandlers()},removeElement:function(){this.clear();if(this.isSkeletonRendered){this.unrenderSkeleton();this.isSkeletonRendered=false}this.unbindGlobalHandlers();this.el.remove()},display:function(bF){var bH=this;var bG=null;if(this.displaying){bG=this.queryScroll()}this.calendar.freezeContentHeight();return this.clear().then(function(){return(bH.displaying=br.when(bH.displayView(bF)).then(function(){bH.forceScroll(bH.computeInitialScroll(bG));bH.calendar.unfreezeContentHeight();bH.triggerRender()}))})},clear:function(){var bG=this;var bF=this.displaying;if(bF){return bF.then(function(){bG.displaying=null;bG.clearEvents();return bG.clearView()})}else{return br.when()}},displayView:function(bF){if(!this.isSkeletonRendered){this.renderSkeleton();this.isSkeletonRendered=true}if(bF){this.setDate(bF)}if(this.render){this.render()}this.renderDates();this.updateSize();this.renderBusinessHours();this.startNowIndicator()},clearView:function(){this.unselect();this.stopNowIndicator();this.triggerUnrender();this.unrenderBusinessHours();this.unrenderDates();if(this.destroy){this.destroy()}},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){this.listenTo(br(document),"mousedown",this.handleDocumentMousedown);this.listenTo(br(document),"touchstart",this.handleDocumentTouchStart);this.listenTo(br(document),"touchend",this.handleDocumentTouchEnd)},unbindGlobalHandlers:function(){this.stopListeningTo(br(document))},initThemingProps:function(){var bF=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=bF+"-widget-header";this.widgetContentClass=bF+"-widget-content";this.highlightStateClass=bF+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var bI=this;var bG;var bH;var bF;if(this.opt("nowIndicator")){bG=this.getNowIndicatorUnit();if(bG){bH=ay(this,"updateNowIndicator");this.initialNowDate=this.calendar.getNow();this.initialNowQueriedMs=+new Date();this.renderNowIndicator(this.initialNowDate);this.isNowIndicatorRendered=true;bF=this.initialNowDate.clone().startOf(bG).add(1,bG)-this.initialNowDate;this.nowIndicatorTimeoutID=setTimeout(function(){bI.nowIndicatorTimeoutID=null;bH();bF=+a4.duration(1,bG);bF=Math.max(100,bF);bI.nowIndicatorIntervalID=setInterval(bH,bF)},bF)}}},updateNowIndicator:function(){if(this.isNowIndicatorRendered){this.unrenderNowIndicator();this.renderNowIndicator(this.initialNowDate.clone().add(new Date()-this.initialNowQueriedMs))}},stopNowIndicator:function(){if(this.isNowIndicatorRendered){if(this.nowIndicatorTimeoutID){clearTimeout(this.nowIndicatorTimeoutID);this.nowIndicatorTimeoutID=null}if(this.nowIndicatorIntervalID){clearTimeout(this.nowIndicatorIntervalID);this.nowIndicatorIntervalID=null}this.unrenderNowIndicator();this.isNowIndicatorRendered=false}},getNowIndicatorUnit:function(){},renderNowIndicator:function(bF){},unrenderNowIndicator:function(){},updateSize:function(bF){var bG;if(bF){bG=this.queryScroll()}this.updateHeight(bF);this.updateWidth(bF);this.updateNowIndicator();if(bF){this.setScroll(bG)}},updateWidth:function(bF){},updateHeight:function(bF){var bG=this.calendar;this.setHeight(bG.getSuggestedViewHeight(),bG.isHeightAuto())},setHeight:function(bG,bF){},computeInitialScroll:function(bF){return 0},queryScroll:function(){},setScroll:function(bF){},forceScroll:function(bF){var bG=this;this.setScroll(bF);setTimeout(function(){bG.setScroll(bF)},0)},displayEvents:function(bF){var bG=this.queryScroll();this.clearEvents();this.renderEvents(bF);this.isEventsRendered=true;this.setScroll(bG);this.triggerEventRender()},clearEvents:function(){var bF;if(this.isEventsRendered){bF=this.queryScroll();this.triggerEventUnrender();if(this.destroyEvents){this.destroyEvents()}this.unrenderEvents();this.setScroll(bF);this.isEventsRendered=false}},renderEvents:function(bF){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(bF){this.trigger("eventAfterRender",bF.event,bF.event,bF.el)});this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(bF){this.trigger("eventDestroy",bF.event,bF.event,bF.el)})},resolveEventEl:function(bG,bF){var bH=this.trigger("eventRender",bG,bG,bF);if(bH===false){bF=null}else{if(bH&&bH!==true){bF=br(bH)}}return bF},showEvent:function(bF){this.renderedEventSegEach(function(bG){bG.el.css("visibility","")},bF)},hideEvent:function(bF){this.renderedEventSegEach(function(bG){bG.el.css("visibility","hidden")},bF)},renderedEventSegEach:function(bI,bH){var bF=this.getEventSegs();var bG;for(bG=0;bG<bF.length;bG++){if(!bH||bF[bG].event._id===bH._id){if(bF[bG].el){bI.call(this,bF[bG])}}}},getEventSegs:function(){return[]},isEventDraggable:function(bF){var bG=bF.source||{};return S(bF.startEditable,bG.startEditable,this.opt("eventStartEditable"),bF.editable,bG.editable,this.opt("editable"))},reportEventDrop:function(bK,bJ,bH,bG,bI){var bM=this.calendar;var bL=bM.mutateEvent(bK,bJ,bH);var bF=function(){bL.undo();bM.reportEventChange()};this.triggerEventDrop(bK,bL.dateDelta,bF,bG,bI);bM.reportEventChange()},triggerEventDrop:function(bI,bJ,bF,bG,bH){this.trigger("eventDrop",bG[0],bI,bJ,bF,bH,{})},reportExternalDrop:function(bM,bJ,bG,bI,bL){var bK=bM.eventProps;var bF;var bH;if(bK){bF=br.extend({},bK,bJ);bH=this.calendar.renderEvent(bF,bM.stick)[0]}this.triggerExternalDrop(bH,bJ,bG,bI,bL)},triggerExternalDrop:function(bI,bH,bF,bG,bJ){this.trigger("drop",bF[0],bH.start,bG,bJ);if(bI){this.trigger("eventReceive",null,bI)}},renderDrag:function(bG,bF){},unrenderDrag:function(){},isEventResizableFromStart:function(bF){return this.opt("eventResizableFromStart")&&this.isEventResizable(bF)},isEventResizableFromEnd:function(bF){return this.isEventResizable(bF)},isEventResizable:function(bF){var bG=bF.source||{};return S(bF.durationEditable,bG.durationEditable,this.opt("eventDurationEditable"),bF.editable,bG.editable,this.opt("editable"))},reportEventResize:function(bJ,bM,bH,bG,bI){var bL=this.calendar;var bK=bL.mutateEvent(bJ,bM,bH);var bF=function(){bK.undo();bL.reportEventChange()};this.triggerEventResize(bJ,bK.durationDelta,bF,bG,bI);bL.reportEventChange()},triggerEventResize:function(bJ,bG,bF,bH,bI){this.trigger("eventResize",bH[0],bJ,bG,bF,bI,{})},select:function(bF,bG){this.unselect(bG);this.renderSelection(bF);this.reportSelection(bF,bG)},renderSelection:function(bF){},reportSelection:function(bF,bG){this.isSelected=true;this.triggerSelect(bF,bG)},triggerSelect:function(bF,bG){this.trigger("select",null,this.calendar.applyTimezone(bF.start),this.calendar.applyTimezone(bF.end),bG)},unselect:function(bF){if(this.isSelected){this.isSelected=false;if(this.destroySelection){this.destroySelection()}this.unrenderSelection();this.trigger("unselect",null,bF)}},unrenderSelection:function(){},selectEvent:function(bF){if(!this.selectedEvent||this.selectedEvent!==bF){this.unselectEvent();this.renderedEventSegEach(function(bG){bG.el.addClass("fc-selected")},bF);this.selectedEvent=bF}},unselectEvent:function(){if(this.selectedEvent){this.renderedEventSegEach(function(bF){bF.el.removeClass("fc-selected")},this.selectedEvent);this.selectedEvent=null}},isEventSelected:function(bF){return this.selectedEvent&&this.selectedEvent._id===bF._id},handleDocumentMousedown:function(bF){if(!this.calendar.isTouch&&bB(bF)){this.processRangeUnselect(bF);this.processEventUnselect(bF)}},handleDocumentTouchStart:function(bF){this.processRangeUnselect(bF)},handleDocumentTouchEnd:function(bF){this.processEventUnselect(bF)},processRangeUnselect:function(bF){var bG;if(this.isSelected&&this.opt("unselectAuto")){bG=this.opt("unselectCancel");if(!bG||!br(bF.target).closest(bG).length){this.unselect(bF)}}},processEventUnselect:function(bF){if(this.selectedEvent){if(!br(bF.target).closest(".fc-selected").length){this.unselectEvent()}}},triggerDayClick:function(bF,bH,bG){this.trigger("dayClick",bH,this.calendar.applyTimezone(bF.start),bG)},initHiddenDays:function(){var bG=this.opt("hiddenDays")||[];var bI=[];var bF=0;var bH;if(this.opt("weekends")===false){bG.push(0,6)}for(bH=0;bH<7;bH++){if(!(bI[bH]=br.inArray(bH,bG)!==-1)){bF++}}if(!bF){throw"invalid hiddenDays"}this.isHiddenDayHash=bI},isHiddenDay:function(bF){if(a4.isMoment(bF)){bF=bF.day()}return this.isHiddenDayHash[bF]},skipHiddenDays:function(bH,bI,bF){var bG=bH.clone();bI=bI||1;while(this.isHiddenDayHash[(bG.day()+(bF?bI:0)+7)%7]){bG.add(bI,"days")}return bG},computeDayRange:function(bG){var bJ=bG.start.clone().stripTime();var bF=bG.end;var bI=null;var bH;if(bF){bI=bF.clone().stripTime();bH=+bF.time();if(bH&&bH>=this.nextDayThreshold){bI.add(1,"days")}}if(!bF||bI<=bJ){bI=bJ.clone().add(1,"days")}return{start:bJ,end:bI}},isMultiDayEvent:function(bG){var bF=this.computeDayRange(bG);return bF.end.diff(bF.start,"days")>1}});var a5=u.Scroller=ap.extend({el:null,scrollEl:null,overflowX:null,overflowY:null,constructor:function(bF){bF=bF||{};this.overflowX=bF.overflowX||bF.overflow||"auto";this.overflowY=bF.overflowY||bF.overflow||"auto"},render:function(){this.el=this.renderEl();this.applyOverflow()},renderEl:function(){return(this.scrollEl=br('<div class="fc-scroller"></div>'))},clear:function(){this.setHeight("auto");this.applyOverflow()},destroy:function(){this.el.remove()},applyOverflow:function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},lockOverflow:function(bH){var bG=this.overflowX;var bF=this.overflowY;bH=bH||this.getScrollbarWidths();if(bG==="auto"){bG=(bH.top||bH.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth)?"scroll":"hidden"}if(bF==="auto"){bF=(bH.left||bH.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight)?"scroll":"hidden"}this.scrollEl.css({"overflow-x":bG,"overflow-y":bF})},setHeight:function(bF){this.scrollEl.height(bF)},getScrollTop:function(){return this.scrollEl.scrollTop()},setScrollTop:function(bF){this.scrollEl.scrollTop(bF)},getClientWidth:function(){return this.scrollEl[0].clientWidth},getClientHeight:function(){return this.scrollEl[0].clientHeight},getScrollbarWidths:function(){return a(this.scrollEl)}});var s=u.Calendar=ap.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,isTouch:false,constructor:G,initialize:function(){},initOptions:function(bJ){var bI,bF;var bG,bH;bJ=aZ(bJ);bI=bJ.lang;bF=aK[bI];if(!bF){bI=s.defaults.lang;bF=aK[bI]||{}}bG=S(bJ.isRTL,bF.isRTL,s.defaults.isRTL);bH=bG?s.rtlDefaults:{};this.dirDefaults=bH;this.langDefaults=bF;this.overrides=bJ;this.options=aQ([s.defaults,bH,bF,bJ]);aO(this.options);this.isTouch=this.options.isTouch!=null?this.options.isTouch:u.isTouch;this.viewSpecCache={}},getViewSpec:function(bF){var bG=this.viewSpecCache;return bG[bF]||(bG[bF]=this.buildViewSpec(bF))},getUnitViewSpec:function(bI){var bH;var bG;var bF;if(br.inArray(bI,aC)!=-1){bH=this.header.getViewsWithButtons();br.each(u.views,function(bJ){bH.push(bJ)});for(bG=0;bG<bH.length;bG++){bF=this.getViewSpec(bH[bG]);if(bF){if(bF.singleUnit==bI){return bF}}}}},buildViewSpec:function(bH){var bK=this.overrides.views||{};var bJ=[];var bO=[];var bF=[];var bI=bH;var bN;var bM;var bG;var bL;while(bI){bN=V[bI];bM=bK[bI];bI=null;if(typeof bN==="function"){bN={"class":bN}}if(bN){bJ.unshift(bN);bO.unshift(bN.defaults||{});bG=bG||bN.duration;bI=bI||bN.type}if(bM){bF.unshift(bM);bG=bG||bM.duration;bI=bI||bM.type}}bN=bC(bJ);bN.type=bH;if(!bN["class"]){return false}if(bG){bG=a4.duration(bG);if(bG.valueOf()){bN.duration=bG;bL=au(bG);if(bG.as(bL)===1){bN.singleUnit=bL;bF.unshift(bK[bL]||{})}}}bN.defaults=aQ(bO);bN.overrides=aQ(bF);this.buildViewSpecOptions(bN);this.buildViewSpecButtonText(bN,bH);return bN},buildViewSpecOptions:function(bF){bF.options=aQ([s.defaults,bF.defaults,this.dirDefaults,this.langDefaults,this.overrides,bF.overrides]);aO(bF.options)},buildViewSpecButtonText:function(bG,bH){function bF(bI){var bJ=bI.buttonText||{};return bJ[bH]||(bG.singleUnit?bJ[bG.singleUnit]:null)}bG.buttonTextOverride=bF(this.overrides)||bG.overrides.buttonText;bG.buttonTextDefault=bF(this.langDefaults)||bF(this.dirDefaults)||bG.defaults.buttonText||bF(s.defaults)||(bG.duration?this.humanizeDuration(bG.duration):null)||bH},instantiateView:function(bF){var bG=this.getViewSpec(bF);return new bG["class"](this,bF,bG.options,bG.duration)},isValidViewType:function(bF){return Boolean(this.getViewSpec(bF))},pushLoading:function(){if(!(this.loadingLevel++)){this.trigger("loading",null,true,this.view)}},popLoading:function(){if(!(--this.loadingLevel)){this.trigger("loading",null,false,this.view)}},buildSelectSpan:function(bG,bH){var bI=this.moment(bG).stripZone();var bF;if(bH){bF=this.moment(bH).stripZone()}else{if(bI.hasTime()){bF=bI.clone().add(this.defaultTimedEventDuration)}else{bF=bI.clone().add(this.defaultAllDayEventDuration)}}return{start:bI,end:bF}}});s.mixin(t);function G(bW,cm){var co=this;co.initOptions(cm||{});var b3=this.options;co.render=cc;co.destroy=cq;co.refetchEvents=bS;co.reportEvents=bU;co.reportEventChange=cs;co.rerenderEvents=bM;co.changeView=b2;co.select=cp;co.unselect=bP;co.prev=b9;co.next=bI;co.prevYear=cr;co.nextYear=bG;co.today=bX;co.gotoDate=cb;co.incrementDate=b0;co.zoomTo=cw;co.getDate=b1;co.getCalendar=cg;co.getView=b7;co.option=cj;co.trigger=ca;var ce=R(L(b3.lang));if(b3.monthNames){ce._months=b3.monthNames}if(b3.monthNamesShort){ce._monthsShort=b3.monthNamesShort}if(b3.dayNames){ce._weekdays=b3.dayNames}if(b3.dayNamesShort){ce._weekdaysShort=b3.dayNamesShort}if(b3.firstDay!=null){var bH=R(ce._week);bH.dow=b3.firstDay;ce._week=bH}ce._fullCalendar_weekCalc=(function(cy){if(typeof cy==="function"){return cy}else{if(cy==="local"){return cy}else{if(cy==="iso"||cy==="ISO"){return"ISO"}}}})(b3.weekNumberCalculation);co.defaultAllDayEventDuration=a4.duration(b3.defaultAllDayEventDuration);co.defaultTimedEventDuration=a4.duration(b3.defaultTimedEventDuration);co.moment=function(){var cy;if(b3.timezone==="local"){cy=u.moment.apply(null,arguments);if(cy.hasTime()){cy.local()}}else{if(b3.timezone==="UTC"){cy=u.moment.utc.apply(null,arguments)}else{cy=u.moment.parseZone.apply(null,arguments)}}if("_locale" in cy){cy._locale=ce}else{cy._lang=ce}return cy};co.getIsAmbigTimezone=function(){return b3.timezone!=="local"&&b3.timezone!=="UTC"};co.applyTimezone=function(cy){if(!cy.hasTime()){return cy.clone()}var cz=co.moment(cy.toArray());var cB=cy.time()-cz.time();var cA;if(cB){cA=cz.clone().add(cB);if(cy.time()-cA.time()===0){cz=cA}}return cz};co.getNow=function(){var cy=b3.now;if(typeof cy==="function"){cy=cy()}return co.moment(cy).stripZone()};co.getEventEnd=function(cy){if(cy.end){return cy.end.clone()}else{return co.getDefaultEventEnd(cy.allDay,cy.start)}};co.getDefaultEventEnd=function(cz,cA){var cy=cA.clone();if(cz){cy.stripTime().add(co.defaultAllDayEventDuration)}else{cy.add(co.defaultTimedEventDuration)}if(co.getIsAmbigTimezone()){cy.stripZone()}return cy};co.humanizeDuration=function(cy){return(cy.locale||cy.lang).call(cy,b3.lang).humanize()};aJ.call(co,b3);var bF=co.isFetchNeeded;var cv=co.fetchEvents;var ck=bW[0];var bK;var cd;var bR;var cx;var bQ;var cn={};var bN;var cu;var cl=0;var b5=[];var ct;if(b3.defaultDate!=null){ct=co.moment(b3.defaultDate).stripZone()}else{ct=co.getNow()}function cc(){if(!bR){b4()}else{if(ci()){cf();b2()}}}function b4(){cx=b3.theme?"ui":"fc";bW.addClass("fc");bW.addClass(co.isTouch?"fc-touch":"fc-cursor");if(b3.isRTL){bW.addClass("fc-rtl")}else{bW.addClass("fc-ltr")}if(b3.theme){bW.addClass("ui-widget")}else{bW.addClass("fc-unthemed")}bR=br("<div class='fc-view-container'/>").prependTo(bW);bK=co.header=new aM(co,b3);cd=bK.render();if(cd){bW.prepend(cd)}b2(b3.defaultView);if(b3.handleWindowResize){cu=a8(bT,b3.windowResizeDelay);br(window).resize(cu)}}function cq(){if(bQ){bQ.removeElement()}bK.removeElement();bR.remove();bW.removeClass("fc fc-touch fc-cursor fc-ltr fc-rtl fc-unthemed ui-widget");if(cu){br(window).unbind("resize",cu)}}function ci(){return bW.is(":visible")}function b2(cy){cl++;if(bQ&&cy&&bQ.type!==cy){bK.deactivateButton(bQ.type);bJ();bQ.removeElement();bQ=co.view=null}if(!bQ&&cy){bQ=co.view=cn[cy]||(cn[cy]=co.instantiateView(cy));bQ.setElement(br("<div class='fc-view fc-"+cy+"-view' />").appendTo(bR));bK.activateButton(cy)}if(bQ){ct=bQ.massageCurrentDate(ct);if(!bQ.displaying||!ct.isWithin(bQ.intervalStart,bQ.intervalEnd)){if(ci()){bQ.display(ct);bV();b6();b8();bO()}}}bV();cl--}co.getSuggestedViewHeight=function(){if(bN===undefined){cf()}return bN};co.isHeightAuto=function(){return b3.contentHeight==="auto"||b3.height==="auto"};function bY(cy){if(ci()){if(cy){bL()}cl++;bQ.updateSize(true);cl--;return true}}function cf(){if(ci()){bL()}}function bL(){if(typeof b3.contentHeight==="number"){bN=b3.contentHeight}else{if(typeof b3.height==="number"){bN=b3.height-(cd?cd.outerHeight(true):0)}else{bN=Math.round(bR.width()/Math.max(b3.aspectRatio,0.5))}}}function bT(cy){if(!cl&&cy.target===window&&bQ.start){if(bY(true)){bQ.trigger("windowResize",ck)}}}function bS(){bZ();ch()}function bM(){if(ci()){bJ();bQ.displayEvents(b5);bV()}}function bZ(){bJ();bQ.clearEvents();bV()}function bO(){if(!b3.lazyFetching||bF(bQ.start,bQ.end)){ch()}else{bM()}}function ch(){cv(bQ.start,bQ.end)}function bU(cy){b5=cy;bM()}function cs(){bM()}function b6(){bK.updateTitle(bQ.title)}function b8(){var cy=co.getNow();if(cy.isWithin(bQ.intervalStart,bQ.intervalEnd)){bK.disableButton("today")}else{bK.enableButton("today")}}function cp(cy,cz){bQ.select(co.buildSelectSpan.apply(co,arguments))}function bP(){if(bQ){bQ.unselect()}}function b9(){ct=bQ.computePrevDate(ct);b2()}function bI(){ct=bQ.computeNextDate(ct);b2()}function cr(){ct.add(-1,"years");b2()}function bG(){ct.add(1,"years");b2()}function bX(){ct=co.getNow();b2()}function cb(cy){ct=co.moment(cy).stripZone();b2()}function b0(cy){ct.add(a4.duration(cy));b2()}function cw(cz,cy){var cA;cy=cy||"day";cA=co.getViewSpec(cy)||co.getUnitViewSpec(cy);ct=cz.clone();b2(cA?cA.type:null)}function b1(){return co.applyTimezone(ct)}co.freezeContentHeight=bJ;co.unfreezeContentHeight=bV;function bJ(){bR.css({width:"100%",height:bR.height(),overflow:"hidden"})}function bV(){bR.css({width:"",height:"",overflow:""})}function cg(){return co}function b7(){return bQ}function cj(cy,cz){if(cz===undefined){return b3[cy]}if(cy=="height"||cy=="contentHeight"||cy=="aspectRatio"){b3[cy]=cz;bY(true)}}function ca(cz,cA){var cy=Array.prototype.slice.call(arguments,2);cA=cA||ck;this.triggerWith(cz,cA,cy);if(b3[cz]){return b3[cz].apply(cA,cy)}}co.initialize()}s.defaults={titleRangeSeparator:" \u2014 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:false,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,weekNumbers:false,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:true,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:false,isRTL:false,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:false,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:0.75,dragRevertDuration:500,dragScroll:true,unselectAuto:true,dropAccept:"*",eventOrder:"title",eventLimit:false,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:true,windowResizeDelay:200,longPressDelay:1000};s.englishDefaults={dayPopoverFormat:"dddd, MMMM D"};s.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var aK=u.langs={};u.datepickerLang=function(bI,bG,bH){var bF=aK[bI]||(aK[bI]={});bF.isRTL=bH.isRTL;bF.weekNumberTitle=bH.weekHeader;br.each(aH,function(bJ,bK){bF[bJ]=bK(bH)});if(br.datepicker){br.datepicker.regional[bG]=br.datepicker.regional[bI]=bH;br.datepicker.regional.en=br.datepicker.regional[""];br.datepicker.setDefaults(bH)}};u.lang=function(bI,bH){var bF;var bG;bF=aK[bI]||(aK[bI]={});if(bH){bF=aK[bI]=aQ([bF,bH])}bG=L(bI);br.each(a6,function(bJ,bK){if(bF[bJ]==null){bF[bJ]=bK(bG,bF)}});s.defaults.lang=bI};var aH={buttonText:function(bF){return{prev:aE(bF.prevText),next:aE(bF.nextText),today:aE(bF.currentText)}},monthYearFormat:function(bF){return bF.showMonthAfterYear?"YYYY["+bF.yearSuffix+"] MMMM":"MMMM YYYY["+bF.yearSuffix+"]"}};var a6={dayOfMonthFormat:function(bG,bF){var bH=bG.longDateFormat("l");bH=bH.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,"");if(bF.isRTL){bH+=" ddd"}else{bH="ddd "+bH}return bH},mediumTimeFormat:function(bF){return bF.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(bF){return bF.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(bF){return bF.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(bF){return bF.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(bF){return bF.longDateFormat("LT").replace(/\s*a$/i,"")}};var bd={smallDayDateFormat:function(bF){return bF.isRTL?"D dd":"dd D"},weekFormat:function(bF){return bF.isRTL?"w[ "+bF.weekNumberTitle+"]":"["+bF.weekNumberTitle+" ]w"},smallWeekFormat:function(bF){return bF.isRTL?"w["+bF.weekNumberTitle+"]":"["+bF.weekNumberTitle+"]w"}};function aO(bF){br.each(bd,function(bG,bH){if(bF[bG]==null){bF[bG]=bH(bF)}})}function L(bG){var bF=a4.localeData||a4.langData;return bF.call(a4,bG)||bF.call(a4,"en")}u.lang("en",s.englishDefaults);function aM(bK,bT){var bS=this;bS.render=bG;bS.removeElement=bN;bS.updateTitle=bL;bS.activateButton=bF;bS.deactivateButton=bQ;bS.disableButton=bJ;bS.enableButton=bM;bS.getViewsWithButtons=bI;var bH=br();var bO=[];var bP;function bG(){var bU=bT.header;bP=bT.theme?"ui":"fc";if(bU){bH=br("<div class='fc-toolbar'/>").append(bR("left")).append(bR("right")).append(bR("center")).append('<div class="fc-clear"/>');return bH}}function bN(){bH.remove();bH=br()}function bR(bU){var bV=br('<div class="fc-'+bU+'"/>');var bW=bT.header[bU];if(bW){br.each(bW.split(" "),function(bX){var bY=br();var bZ=true;var b0;br.each(this.split(","),function(b5,cc){var cb;var b8;var b7;var ca;var b9;var b2;var b4;var b1;var b3;var b6;if(cc=="title"){bY=bY.add(br("<h2>&nbsp;</h2>"));bZ=false}else{if((cb=(bK.options.customButtons||{})[cc])){b7=function(cd){if(cb.click){cb.click.call(b6[0],cd)}};ca="";b9=cb.text}else{if((b8=bK.getViewSpec(cc))){b7=function(){bK.changeView(cc)};bO.push(cc);ca=b8.buttonTextOverride;b9=b8.buttonTextDefault}else{if(bK[cc]){b7=function(){bK[cc]()};ca=(bK.overrides.buttonText||{})[cc];b9=bT.buttonText[cc]}}}if(b7){b2=cb?cb.themeIcon:bT.themeButtonIcons[cc];b4=cb?cb.icon:bT.buttonIcons[cc];if(ca){b1=aG(ca)}else{if(b2&&bT.theme){b1="<span class='ui-icon ui-icon-"+b2+"'></span>"}else{if(b4&&!bT.theme){b1="<span class='fc-icon fc-icon-"+b4+"'></span>"}else{b1=aG(b9)}}}b3=["fc-"+cc+"-button",bP+"-button",bP+"-state-default"];b6=br('<button type="button" class="'+b3.join(" ")+'">'+b1+"</button>").click(function(cd){if(!b6.hasClass(bP+"-state-disabled")){b7(cd);if(b6.hasClass(bP+"-state-active")||b6.hasClass(bP+"-state-disabled")){b6.removeClass(bP+"-state-hover")}}}).mousedown(function(){b6.not("."+bP+"-state-active").not("."+bP+"-state-disabled").addClass(bP+"-state-down")}).mouseup(function(){b6.removeClass(bP+"-state-down")}).hover(function(){b6.not("."+bP+"-state-active").not("."+bP+"-state-disabled").addClass(bP+"-state-hover")},function(){b6.removeClass(bP+"-state-hover").removeClass(bP+"-state-down")});bY=bY.add(b6)}}});if(bZ){bY.first().addClass(bP+"-corner-left").end().last().addClass(bP+"-corner-right").end()}if(bY.length>1){b0=br("<div/>");if(bZ){b0.addClass("fc-button-group")}b0.append(bY);bV.append(b0)}else{bV.append(bY)}})}return bV}function bL(bU){bH.find("h2").text(bU)}function bF(bU){bH.find(".fc-"+bU+"-button").addClass(bP+"-state-active")}function bQ(bU){bH.find(".fc-"+bU+"-button").removeClass(bP+"-state-active")}function bJ(bU){bH.find(".fc-"+bU+"-button").attr("disabled","disabled").addClass(bP+"-state-disabled")}function bM(bU){bH.find(".fc-"+bU+"-button").removeAttr("disabled").removeClass(bP+"-state-disabled")}function bI(){return bO}}u.sourceNormalizers=[];u.sourceFetchers=[];var E={dataType:"json",cache:false};var aY=1;function aJ(b3){var cc=this;cc.isFetchNeeded=bF;cc.fetchEvents=cf;cc.addEventSource=bO;cc.removeEventSource=bJ;cc.updateEvent=b8;cc.renderEvent=bX;cc.removeEvents=cd;cc.clientEvents=bQ;cc.mutateEvent=bG;cc.normalizeEventDates=b4;cc.normalizeEventTimes=bN;var bU=cc.reportEvents;var bL={events:[]};var b9=[bL];var bR,bV;var cg=0;var b0=0;var bT=[];br.each((b3.events?[b3.events]:[]).concat(b3.eventSources||[]),function(cj,cl){var ck=b1(cl);if(ck){b9.push(ck)}});function bF(ck,cj){return !bR||ck<bR||cj>bV}function cf(cn,ck){bR=cn;bV=ck;bT=[];var cm=++cg;var cj=b9.length;b0=cj;for(var cl=0;cl<cj;cl++){bY(b9[cl],cm)}}function bY(ck,cj){bM(ck,function(cp){var co=br.isArray(ck.events);var cn,cm;var cl;if(cj==cg){if(cp){for(cn=0;cn<cp.length;cn++){cm=cp[cn];if(co){cl=cm}else{cl=bK(cm,ck)}if(cl){bT.push.apply(bT,ci(cl))}}}b0--;if(!b0){bU(bT)}}})}function bM(cj,cu){var co;var cs=u.sourceFetchers;var cq;for(co=0;co<cs.length;co++){cq=cs[co].call(cc,cj,bR.clone(),bV.clone(),b3.timezone,cu);if(cq===true){return}else{if(typeof cq=="object"){bM(cq,cu);return}}}var cw=cj.events;if(cw){if(br.isFunction(cw)){cc.pushLoading();cw.call(cc,bR.clone(),bV.clone(),b3.timezone,function(cy){cu(cy);cc.popLoading()})}else{if(br.isArray(cw)){cu(cw)}else{cu()}}}else{var ck=cj.url;if(ck){var cv=cj.success;var cr=cj.error;var cl=cj.complete;var cx;if(br.isFunction(cj.data)){cx=cj.data()}else{cx=cj.data}var cn=br.extend({},cx||{});var cp=S(cj.startParam,b3.startParam);var cm=S(cj.endParam,b3.endParam);var ct=S(cj.timezoneParam,b3.timezoneParam);if(cp){cn[cp]=bR.format()}if(cm){cn[cm]=bV.format()}if(b3.timezone&&b3.timezone!="local"){cn[ct]=b3.timezone}cc.pushLoading();br.ajax(br.extend({},E,cj,{data:cn,success:function(cz){cz=cz||[];var cy=v(cv,this,arguments);if(br.isArray(cy)){cz=cy}cu(cz)},error:function(){v(cr,this,arguments);cu()},complete:function(){v(cl,this,arguments);cc.popLoading()}}))}else{cu()}}}function bO(ck){var cj=b1(ck);if(cj){b9.push(cj);b0++;bY(cj,cg)}}function b1(cm){var ck=u.sourceNormalizers;var cl;var cj;if(br.isFunction(cm)||br.isArray(cm)){cl={events:cm}}else{if(typeof cm==="string"){cl={url:cm}}else{if(typeof cm==="object"){cl=br.extend({},cm)}}}if(cl){if(cl.className){if(typeof cl.className==="string"){cl.className=cl.className.split(/\s+/)}}else{cl.className=[]}if(br.isArray(cl.events)){cl.origArray=cl.events;cl.events=br.map(cl.events,function(cn){return bK(cn,cl)})}for(cj=0;cj<ck.length;cj++){ck[cj].call(cc,cl)}return cl}}function bJ(cj){b9=br.grep(b9,function(ck){return !cb(ck,cj)});bT=br.grep(bT,function(ck){return !cb(ck.source,cj)});bU(bT)}function cb(ck,cj){return ck&&cj&&bS(ck)==bS(cj)}function bS(cj){return((typeof cj==="object")?(cj.origArray||cj.googleCalendarId||cj.url||cj.events):null)||cj}function b8(cj){cj.start=cc.moment(cj.start);if(cj.end){cj.end=cc.moment(cj.end)}else{cj.end=null}bG(cj,bI(cj));bU(bT)}function bI(ck){var cj={};br.each(ck,function(cl,cm){if(ca(cl)){if(cm!==undefined&&bm(cm)){cj[cl]=cm}}});return cj}function ca(cj){return !/^_|^(id|allDay|start|end)$/.test(cj)}function bX(cn,cj){var ck=bK(cn);var cm;var cl,co;if(ck){cm=ci(ck);for(cl=0;cl<cm.length;cl++){co=cm[cl];if(!co.source){if(cj){bL.events.push(co);co.source=bL}bT.push(co)}}bU(bT);return cm}return[]}function cd(cl){var ck;var cj;if(cl==null){cl=function(){return true}}else{if(!br.isFunction(cl)){ck=cl+"";cl=function(cm){return cm._id==ck}}}bT=br.grep(bT,cl,true);for(cj=0;cj<b9.length;cj++){if(br.isArray(b9[cj].events)){b9[cj].events=br.grep(b9[cj].events,cl,true)}}bU(bT)}function bQ(cj){if(br.isFunction(cj)){return br.grep(bT,cj)}else{if(cj!=null){cj+="";return br.grep(bT,function(ck){return ck._id==cj})}}return bT}function bK(ck,cn){var cl={};var co,cj;var cm;if(b3.eventDataTransform){ck=b3.eventDataTransform(ck)}if(cn&&cn.eventDataTransform){ck=cn.eventDataTransform(ck)}br.extend(cl,ck);if(cn){cl.source=cn}cl._id=ck._id||(ck.id===undefined?"_fc"+aY++:ck.id+"");if(ck.className){if(typeof ck.className=="string"){cl.className=ck.className.split(/\s+/)}else{cl.className=ck.className}}else{cl.className=[]}co=ck.start||ck.date;cj=ck.end;if(Z(co)){co=a4.duration(co)}if(Z(cj)){cj=a4.duration(cj)}if(ck.dow||a4.isDuration(co)||a4.isDuration(cj)){cl.start=co?a4.duration(co):null;cl.end=cj?a4.duration(cj):null;cl._recurring=true}else{if(co){co=cc.moment(co);if(!co.isValid()){return false}}if(cj){cj=cc.moment(cj);if(!cj.isValid()){cj=null}}cm=ck.allDay;if(cm===undefined){cm=S(cn?cn.allDayDefault:undefined,b3.allDayDefault)}b2(co,cj,cm,cl)}return cl}function b2(cm,cj,cl,ck){ck.start=cm;ck.end=cj;ck.allDay=cl;b4(ck);z(ck)}function b4(cj){bN(cj);if(cj.end&&!cj.end.isAfter(cj.start)){cj.end=null}if(!cj.end){if(b3.forceEventDuration){cj.end=cc.getDefaultEventEnd(cj.allDay,cj.start)}else{cj.end=null}}}function bN(cj){if(cj.allDay==null){cj.allDay=!(cj.start.hasTime()||(cj.end&&cj.end.hasTime()))}if(cj.allDay){cj.start.stripTime();if(cj.end){cj.end.stripTime()}}else{if(!cj.start.hasTime()){cj.start=cc.applyTimezone(cj.start.time(0))}if(cj.end&&!cj.end.hasTime()){cj.end=cc.applyTimezone(cj.end.time(0))}}}function ci(cq,ct,cm){var cv=[];var cs;var cu;var cp;var cn;var cl,cr;var ck,co;var cj;ct=ct||bR;cm=cm||bV;if(cq){if(cq._recurring){if((cu=cq.dow)){cs={};for(cp=0;cp<cu.length;cp++){cs[cu[cp]]=true}}cn=ct.clone().stripTime();while(cn.isBefore(cm)){if(!cs||cs[cn.day()]){cl=cq.start;cr=cq.end;ck=cn.clone();co=null;if(cl){ck=ck.time(cl)}if(cr){co=cn.clone().time(cr)}cj=br.extend({},cq);b2(ck,co,!cl&&!cr,cj);cv.push(cj)}cn.add(1,"days")}}else{cv.push(cq)}}return cv}function bG(ck,ct,cl){var co={};var cs;var cj;var cm;var cp;var cr;var cn;function cq(cu,cv){if(cl){return d(cu,cv,cl)}else{if(ct.allDay){return aa(cu,cv)}else{return f(cu,cv)}}}ct=ct||{};if(!ct.start){ct.start=ck.start.clone()}if(ct.end===undefined){ct.end=ck.end?ck.end.clone():null}if(ct.allDay==null){ct.allDay=ck.allDay}b4(ct);cs={start:ck._start.clone(),end:ck._end?ck._end.clone():cc.getDefaultEventEnd(ck._allDay,ck._start),allDay:ct.allDay};b4(cs);cj=ck._end!==null&&ct.end===null;cm=cq(ct.start,cs.start);if(ct.end){cp=cq(ct.end,cs.end);cr=cp.subtract(cm)}else{cr=null}br.each(ct,function(cu,cv){if(ca(cu)){if(cv!==undefined){co[cu]=cv}}});cn=b5(bQ(ck._id),cj,ct.allDay,cm,cr,co);return{dateDelta:cm,durationDelta:cr,undo:cn}}function b5(cn,cq,cp,co,cl,cm){var ck=cc.getIsAmbigTimezone();var cj=[];if(co&&!co.valueOf()){co=null}if(cl&&!cl.valueOf()){cl=null}br.each(cn,function(cs,cu){var cr;var ct;cr={start:cu.start.clone(),end:cu.end?cu.end.clone():null,allDay:cu.allDay};br.each(cm,function(cv){cr[cv]=cu[cv]});ct={start:cu._start,end:cu._end,allDay:cp};b4(ct);if(cq){ct.end=null}else{if(cl&&!ct.end){ct.end=cc.getDefaultEventEnd(ct.allDay,ct.start)}}if(co){ct.start.add(co);if(ct.end){ct.end.add(co)}}if(cl){ct.end.add(cl)}if(ck&&!ct.allDay&&(co||cl)){ct.start.stripZone();if(ct.end){ct.end.stripZone()}}br.extend(cu,cm,ct);z(cu);cj.push(function(){br.extend(cu,cr);z(cu)})});return function(){for(var cr=0;cr<cj.length;cr++){cj[cr]()}}}cc.getBusinessHoursEvents=bW;function bW(cj){var cm=b3.businessHours;var cn={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"};var ck=cc.getView();var cl;if(cm){cl=br.extend({},cn,typeof cm==="object"?cm:{})}if(cl){if(cj){cl.start=null;cl.end=null}return ci(bK(cl),ck.start,ck.end)}return[]}cc.isEventSpanAllowed=ch;cc.isExternalSpanAllowed=b6;cc.isSelectionSpanAllowed=bZ;function ch(ck,cl){var cm=cl.source||{};var cn=S(cl.constraint,cm.constraint,b3.eventConstraint);var cj=S(cl.overlap,cm.overlap,b3.eventOverlap);return bH(ck,cn,cj,cl)}function b6(ck,cn,cm){var cj;var cl;if(cm){cj=br.extend({},cm,cn);cl=ci(bK(cj))[0]}if(cl){return ch(ck,cl)}else{return bZ(ck)}}function bZ(cj){return bH(cj,b3.selectConstraint,b3.selectOverlap)}function bH(cs,cl,cq,ck){var cj;var cm;var co;var cn,cr;var cp;if(cl!=null){cj=b7(cl);cm=false;for(cn=0;cn<cj.length;cn++){if(bP(cj[cn],cs)){cm=true;break}}if(!cm){return false}}co=cc.getPeerEvents(cs,ck);for(cn=0;cn<co.length;cn++){cr=co[cn];if(ce(cr,cs)){if(cq===false){return false}else{if(typeof cq==="function"&&!cq(cr,ck)){return false}}if(ck){cp=S(cr.overlap,(cr.source||{}).overlap);if(cp===false){return false}if(typeof cp==="function"&&!cp(ck,cr)){return false}}}}return true}function b7(cj){if(cj==="businessHours"){return bW()}if(typeof cj==="object"){return ci(bK(cj))}return bQ(cj)}function bP(cm,cl){var ck=cm.start.clone().stripZone();var cj=cc.getEventEnd(cm).stripZone();return cl.start>=ck&&cl.end<=cj}function ce(cm,cl){var ck=cm.start.clone().stripZone();var cj=cc.getEventEnd(cm).stripZone();return cl.start<cj&&cl.end>ck}cc.getEventCache=function(){return bT}}s.prototype.getPeerEvents=function(bJ,bK){var bG=this.getEventCache();var bF=[];var bI,bH;for(bI=0;bI<bG.length;bI++){bH=bG[bI];if(!bK||bK._id!==bH._id){bF.push(bH)}}return bF};function z(bF){bF._allDay=bF.allDay;bF._start=bF.start.clone();bF._end=bF.end?bF.end.clone():null}var bo=u.BasicView=aP.extend({scroller:null,dayGridClass:bu,dayGrid:null,dayNumbersVisible:false,weekNumbersVisible:false,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid();this.scroller=new a5({overflowX:"hidden",overflowY:"auto"})},instantiateDayGrid:function(){var bF=this.dayGridClass.extend(be);return new bF(this)},setRange:function(bF){aP.prototype.setRange.call(this,bF);this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit);this.dayGrid.setRange(bF)},computeRange:function(bG){var bF=aP.prototype.computeRange.call(this,bG);if(/year|month/.test(bF.intervalUnit)){bF.start.startOf("week");bF.start=this.skipHiddenDays(bF.start);if(bF.end.weekday()){bF.end.add(1,"week").startOf("week");bF.end=this.skipHiddenDays(bF.end,-1,true)}}return bF},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1;this.weekNumbersVisible=this.opt("weekNumbers");this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible;this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml());this.renderHead();this.scroller.render();var bG=this.scroller.el.addClass("fc-day-grid-container");var bF=br('<div class="fc-day-grid" />').appendTo(bG);this.el.find(".fc-body > tr > td").append(bG);this.dayGrid.setElement(bF);this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml());this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates();this.dayGrid.removeElement();this.scroller.destroy()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"></td></tr></tbody></table>'},weekNumberStyleAttr:function(){if(this.weekNumberWidth!==null){return'style="width:'+this.weekNumberWidth+'px"'}return""},hasRigidRows:function(){var bF=this.opt("eventLimit");return bF&&typeof bF!=="number"},updateWidth:function(){if(this.weekNumbersVisible){this.weekNumberWidth=P(this.el.find(".fc-week-number"))}},setHeight:function(bI,bF){var bG=this.opt("eventLimit");var bJ;var bH;this.scroller.clear();F(this.headRowEl);this.dayGrid.removeSegPopover();if(bG&&typeof bG==="number"){this.dayGrid.limitRows(bG)}bJ=this.computeScrollerHeight(bI);this.setGridHeight(bJ,bF);if(bG&&typeof bG!=="number"){this.dayGrid.limitRows(bG)}if(!bF){this.scroller.setHeight(bJ);bH=this.scroller.getScrollbarWidths();if(bH.left||bH.right){an(this.headRowEl,bH);bJ=this.computeScrollerHeight(bI);this.scroller.setHeight(bJ)}this.scroller.lockOverflow(bH)}},computeScrollerHeight:function(bF){return bF-p(this.el,this.scroller.el)},setGridHeight:function(bG,bF){if(bF){k(this.dayGrid.rowEls)}else{W(this.dayGrid.rowEls,bG,true)}},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(bF){this.scroller.setScrollTop(bF)},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(bG,bF){return this.dayGrid.queryHit(bG,bF)},getHitSpan:function(bF){return this.dayGrid.getHitSpan(bF)},getHitEl:function(bF){return this.dayGrid.getHitEl(bF)},renderEvents:function(bF){this.dayGrid.renderEvents(bF);this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(bG,bF){return this.dayGrid.renderDrag(bG,bF)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(bF){this.dayGrid.renderSelection(bF)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}});var be={renderHeadIntroHtml:function(){var bF=this.view;if(bF.weekNumbersVisible){return'<th class="fc-week-number '+bF.widgetHeaderClass+'" '+bF.weekNumberStyleAttr()+"><span>"+aG(bF.opt("weekNumberTitle"))+"</span></th>"}return""},renderNumberIntroHtml:function(bG){var bF=this.view;if(bF.weekNumbersVisible){return'<td class="fc-week-number" '+bF.weekNumberStyleAttr()+"><span>"+this.getCellDate(bG,0).format("w")+"</span></td>"}return""},renderBgIntroHtml:function(){var bF=this.view;if(bF.weekNumbersVisible){return'<td class="fc-week-number '+bF.widgetContentClass+'" '+bF.weekNumberStyleAttr()+"></td>"}return""},renderIntroHtml:function(){var bF=this.view;if(bF.weekNumbersVisible){return'<td class="fc-week-number" '+bF.weekNumberStyleAttr()+"></td>"}return""}};var H=u.MonthView=bo.extend({computeRange:function(bG){var bF=bo.prototype.computeRange.call(this,bG);var bH;if(this.isFixedWeeks()){bH=Math.ceil(bF.end.diff(bF.start,"weeks",true));bF.end.add(6-bH,"weeks")}return bF},setGridHeight:function(bG,bF){bF=bF||this.opt("weekMode")==="variable";if(bF){bG*=this.rowCnt/6}W(this.dayGrid.rowEls,bG,!bF)},isFixedWeeks:function(){var bF=this.opt("weekMode");if(bF){return bF==="fixed"}return this.opt("fixedWeekCount")}});V.basic={"class":bo};V.basicDay={type:"basic",duration:{days:1}};V.basicWeek={type:"basic",duration:{weeks:1}};V.month={"class":H,duration:{months:1},defaults:{fixedWeekCount:true}};var bD=u.AgendaView=aP.extend({scroller:null,timeGridClass:i,timeGrid:null,dayGridClass:bu,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid();if(this.opt("allDaySlot")){this.dayGrid=this.instantiateDayGrid()}this.scroller=new a5({overflowX:"hidden",overflowY:"auto"})},instantiateTimeGrid:function(){var bF=this.timeGridClass.extend(bi);return new bF(this)},instantiateDayGrid:function(){var bF=this.dayGridClass.extend(bn);return new bF(this)},setRange:function(bF){aP.prototype.setRange.call(this,bF);this.timeGrid.setRange(bF);if(this.dayGrid){this.dayGrid.setRange(bF)}},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml());this.renderHead();this.scroller.render();var bF=this.scroller.el.addClass("fc-time-grid-container");var bG=br('<div class="fc-time-grid" />').appendTo(bF);this.el.find(".fc-body > tr > td").append(bF);this.timeGrid.setElement(bG);this.timeGrid.renderDates();this.bottomRuleEl=br('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el);if(this.dayGrid){this.dayGrid.setElement(this.el.find(".fc-day-grid"));this.dayGrid.renderDates();this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()}this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates();this.timeGrid.removeElement();if(this.dayGrid){this.dayGrid.unrenderDates();this.dayGrid.removeElement()}this.scroller.destroy()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+"</td></tr></tbody></table>"},axisStyleAttr:function(){if(this.axisWidth!==null){return'style="width:'+this.axisWidth+'px"'}return""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours();if(this.dayGrid){this.dayGrid.renderBusinessHours()}},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours();if(this.dayGrid){this.dayGrid.unrenderBusinessHours()}},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(bF){this.timeGrid.renderNowIndicator(bF)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(bF){this.timeGrid.updateSize(bF);aP.prototype.updateSize.call(this,bF)},updateWidth:function(){this.axisWidth=P(this.el.find(".fc-axis"))},setHeight:function(bI,bF){var bG;var bJ;var bH;this.bottomRuleEl.hide();this.scroller.clear();F(this.noScrollRowEls);if(this.dayGrid){this.dayGrid.removeSegPopover();bG=this.opt("eventLimit");if(bG&&typeof bG!=="number"){bG=a1}if(bG){this.dayGrid.limitRows(bG)}}if(!bF){bJ=this.computeScrollerHeight(bI);this.scroller.setHeight(bJ);bH=this.scroller.getScrollbarWidths();if(bH.left||bH.right){an(this.noScrollRowEls,bH);bJ=this.computeScrollerHeight(bI);this.scroller.setHeight(bJ)}this.scroller.lockOverflow(bH);if(this.timeGrid.getTotalSlatHeight()<bJ){this.bottomRuleEl.show()}}},computeScrollerHeight:function(bF){return bF-p(this.el,this.scroller.el)},computeInitialScroll:function(){var bG=a4.duration(this.opt("scrollTime"));var bF=this.timeGrid.computeTimeTop(bG);bF=Math.ceil(bF);if(bF){bF++}return bF},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(bF){this.scroller.setScrollTop(bF)},prepareHits:function(){this.timeGrid.prepareHits();if(this.dayGrid){this.dayGrid.prepareHits()}},releaseHits:function(){this.timeGrid.releaseHits();if(this.dayGrid){this.dayGrid.releaseHits()}},queryHit:function(bH,bG){var bF=this.timeGrid.queryHit(bH,bG);if(!bF&&this.dayGrid){bF=this.dayGrid.queryHit(bH,bG)}return bF},getHitSpan:function(bF){return bF.component.getHitSpan(bF)},getHitEl:function(bF){return bF.component.getHitEl(bF)},renderEvents:function(bG){var bJ=[];var bH=[];var bK=[];var bI;var bF;for(bF=0;bF<bG.length;bF++){if(bG[bF].allDay){bJ.push(bG[bF])}else{bH.push(bG[bF])}}bI=this.timeGrid.renderEvents(bH);if(this.dayGrid){bK=this.dayGrid.renderEvents(bJ)}this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents();if(this.dayGrid){this.dayGrid.unrenderEvents()}},renderDrag:function(bG,bF){if(bG.start.hasTime()){return this.timeGrid.renderDrag(bG,bF)}else{if(this.dayGrid){return this.dayGrid.renderDrag(bG,bF)}}},unrenderDrag:function(){this.timeGrid.unrenderDrag();if(this.dayGrid){this.dayGrid.unrenderDrag()}},renderSelection:function(bF){if(bF.start.hasTime()||bF.end.hasTime()){this.timeGrid.renderSelection(bF)}else{if(this.dayGrid){this.dayGrid.renderSelection(bF)}}},unrenderSelection:function(){this.timeGrid.unrenderSelection();if(this.dayGrid){this.dayGrid.unrenderSelection()}}});var bi={renderHeadIntroHtml:function(){var bF=this.view;var bG;if(bF.opt("weekNumbers")){bG=this.start.format(bF.opt("smallWeekFormat"));return'<th class="fc-axis fc-week-number '+bF.widgetHeaderClass+'" '+bF.axisStyleAttr()+"><span>"+aG(bG)+"</span></th>"}else{return'<th class="fc-axis '+bF.widgetHeaderClass+'" '+bF.axisStyleAttr()+"></th>"}},renderBgIntroHtml:function(){var bF=this.view;return'<td class="fc-axis '+bF.widgetContentClass+'" '+bF.axisStyleAttr()+"></td>"},renderIntroHtml:function(){var bF=this.view;return'<td class="fc-axis" '+bF.axisStyleAttr()+"></td>"}};var bn={renderBgIntroHtml:function(){var bF=this.view;return'<td class="fc-axis '+bF.widgetContentClass+'" '+bF.axisStyleAttr()+"><span>"+(bF.opt("allDayHtml")||aG(bF.opt("allDayText")))+"</span></td>"},renderIntroHtml:function(){var bF=this.view;return'<td class="fc-axis" '+bF.axisStyleAttr()+"></td>"}};var a1=5;var aX=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];V.agenda={"class":bD,defaults:{allDaySlot:true,allDayText:"all-day",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:true}};V.agendaDay={type:"agenda",duration:{days:1}};V.agendaWeek={type:"agenda",duration:{weeks:1}};return u});